! function(e) {
    "function" == typeof define && define.amd ? define(["jquery"], e) : "object" == typeof exports ? module.exports = e(require("jquery")) : e(jQuery)
}(function(e) {
    "use strict";
    var k = !1,
        T = !1,
        N = 0,
        A = 2e3,
        O = 0,
        R = e,
        P = document,
        B = window,
        D = R(B),
        L = [],
        z = B.requestAnimationFrame || B.webkitRequestAnimationFrame || B.mozRequestAnimationFrame || !1,
        I = B.cancelAnimationFrame || B.webkitCancelAnimationFrame || B.mozCancelAnimationFrame || !1;
    if (z) B.cancelAnimationFrame || (I = function(e) {});
    else {
        var i = 0;
        z = function(e, t) {
            var n = (new Date).getTime(),
                r = Math.max(0, 16 - (n - i)),
                o = B.setTimeout(function() {
                    e(n + r)
                }, r);
            return i = n + r, o
        }, I = function(e) {
            B.clearTimeout(e)
        }
    }
    var t, n, r, M = B.MutationObserver || B.WebKitMutationObserver || !1,
        $ = Date.now || function() {
            return (new Date).getTime()
        },
        F = {
            zindex: "auto",
            cursoropacitymin: 0,
            cursoropacitymax: 1,
            cursorcolor: "#424242",
            cursorwidth: "6px",
            cursorborder: "1px solid #fff",
            cursorborderradius: "5px",
            scrollspeed: 40,
            mousescrollstep: 27,
            touchbehavior: !1,
            emulatetouch: !1,
            hwacceleration: !0,
            usetransition: !0,
            boxzoom: !1,
            dblclickzoom: !0,
            gesturezoom: !0,
            grabcursorenabled: !0,
            autohidemode: !0,
            background: "",
            iframeautoresize: !0,
            cursorminheight: 32,
            preservenativescrolling: !0,
            railoffset: !1,
            railhoffset: !1,
            bouncescroll: !0,
            spacebarenabled: !0,
            railpadding: {
                top: 0,
                right: 0,
                left: 0,
                bottom: 0
            },
            disableoutline: !0,
            horizrailenabled: !0,
            railalign: "right",
            railvalign: "bottom",
            enabletranslate3d: !0,
            enablemousewheel: !0,
            enablekeyboard: !0,
            smoothscroll: !0,
            sensitiverail: !0,
            enablemouselockapi: !0,
            cursorfixedheight: !1,
            directionlockdeadzone: 6,
            hidecursordelay: 400,
            nativeparentscrolling: !0,
            enablescrollonselection: !0,
            overflowx: !0,
            overflowy: !0,
            cursordragspeed: .3,
            rtlmode: "auto",
            cursordragontouch: !1,
            oneaxismousemode: "auto",
            scriptpath: (n = P.currentScript || !!(t = P.getElementsByTagName("script")).length && t[t.length - 1], r = n ? n.src.split("?")[0] : "", 0 < r.split("/").length ? r.split("/").slice(0, -1).join("/") + "/" : ""),
            preventmultitouchscrolling: !0,
            disablemutationobserver: !1,
            enableobserver: !0,
            scrollbarid: !1
        },
        j = !1,
        s = function(e, t) {
            function n() {
                var e = b.doc.css(C.trstyle);
                return !(!e || "matrix" != e.substr(0, 6)) && e.replace(/^.*\((.*)\)$/g, "$1").replace(/px/g, "").split(/, +/)
            }

            function a(e, t, n) {
                var r = e.css(t),
                    o = parseFloat(r);
                if (isNaN(o)) {
                    var i = 3 == (o = f[r] || 0) ? n ? b.win.outerHeight() - b.win.innerHeight() : b.win.outerWidth() - b.win.innerWidth() : 1;
                    return b.isie8 && o && (o += 1), i ? o : 0
                }
                return o
            }

            function i(n, r, o, e) {
                b._bind(n, r, function(e) {
                    var t = {
                        original: e = e || B.event,
                        target: e.target || e.srcElement,
                        type: "wheel",
                        deltaMode: "MozMousePixelScroll" == e.type ? 0 : 1,
                        deltaX: 0,
                        deltaZ: 0,
                        preventDefault: function() {
                            return e.preventDefault ? e.preventDefault() : e.returnValue = !1, !1
                        },
                        stopImmediatePropagation: function() {
                            e.stopImmediatePropagation ? e.stopImmediatePropagation() : e.cancelBubble = !0
                        }
                    };
                    return "mousewheel" == r ? (e.wheelDeltaX && (t.deltaX = -.025 * e.wheelDeltaX), e.wheelDeltaY && (t.deltaY = -.025 * e.wheelDeltaY), !t.deltaY && !t.deltaX && (t.deltaY = -.025 * e.wheelDelta)) : t.deltaY = e.detail, o.call(n, t)
                }, e)
            }

            function s(e, t, n, r) {
                b.scrollrunning || (b.newscrolly = b.getScrollTop(), b.newscrollx = b.getScrollLeft(), y = $());
                var o = $() - y;
                if (y = $(), 350 < o ? _ = 1 : _ += (2 - _) / 10, t = t * _ | 0, e = e * _ | 0) {
                    if (r)
                        if (e < 0) {
                            if (b.getScrollLeft() >= b.page.maxw) return !0
                        } else if (b.getScrollLeft() <= 0) return !0;
                    var i = 0 < e ? 1 : -1;
                    v !== i && (b.scrollmom && b.scrollmom.stop(), b.newscrollx = b.getScrollLeft(), v = i), b.lastdeltax -= e
                }
                if (t) {
                    if (function() {
                            var e = b.getScrollTop();
                            if (t < 0) {
                                if (e >= b.page.maxh) return !0
                            } else if (e <= 0) return !0
                        }()) {
                        if (x.nativeparentscrolling && n && !b.ispage && !b.zoomactive) return !0;
                        var a = b.view.h >> 1;
                        t = b.newscrolly < -a ? (b.newscrolly = -a, -1) : b.newscrolly > b.page.maxh + a ? (b.newscrolly = b.page.maxh + a, 1) : 0
                    }
                    var s = 0 < t ? 1 : -1;
                    g !== s && (b.scrollmom && b.scrollmom.stop(), b.newscrolly = b.getScrollTop(), g = s), b.lastdeltay -= t
                }(t || e) && b.synched("relativexy", function() {
                    var e = b.lastdeltay + b.newscrolly;
                    b.lastdeltay = 0;
                    var t = b.lastdeltax + b.newscrollx;
                    b.lastdeltax = 0, b.rail.drag || b.doScrollPos(t, e)
                })
            }

            function o(e, t, n) {
                var r, o;
                return !(n || !S) || (0 === e.deltaMode ? (r = -e.deltaX * (x.mousescrollstep / 54) | 0, o = -e.deltaY * (x.mousescrollstep / 54) | 0) : 1 === e.deltaMode && (r = -e.deltaX * x.mousescrollstep * 50 / 80 | 0, o = -e.deltaY * x.mousescrollstep * 50 / 80 | 0), t && x.oneaxismousemode && 0 === r && o && (r = o, o = 0, n && (r < 0 ? b.getScrollLeft() >= b.page.maxw : b.getScrollLeft() <= 0) && (o = r, r = 0)), b.isrtlmode && (r = -r), s(r, o, n, !0) ? void(n && (S = !0)) : (S = !1, e.stopImmediatePropagation(), e.preventDefault()))
            }
            var b = this;
            this.version = "3.7.6", this.name = "nicescroll", this.me = t;
            var w = R("body"),
                x = this.opt = {
                    doc: w,
                    win: !1
                };
            if (R.extend(x, F), x.snapbackspeed = 80, e)
                for (var r in x) void 0 !== e[r] && (x[r] = e[r]);
            if (x.disablemutationobserver && (M = !1), this.doc = x.doc, this.iddoc = this.doc && this.doc[0] && this.doc[0].id || "", this.ispage = /^BODY|HTML/.test(x.win ? x.win[0].nodeName : this.doc[0].nodeName), this.haswrapper = !1 !== x.win, this.win = x.win || (this.ispage ? D : this.doc), this.docscroll = this.ispage && !this.haswrapper ? D : this.win, this.body = w, this.viewport = !1, this.isfixed = !1, this.iframe = !1, this.isiframe = "IFRAME" == this.doc[0].nodeName && "IFRAME" == this.win[0].nodeName, this.istextarea = "TEXTAREA" == this.win[0].nodeName, this.forcescreen = !1, this.canshowonmouseevent = "scroll" != x.autohidemode, this.onmousedown = !1, this.onmouseup = !1, this.onmousemove = !1, this.onmousewheel = !1, this.onkeypress = !1, this.ongesturezoom = !1, this.onclick = !1, this.onscrollstart = !1, this.onscrollend = !1, this.onscrollcancel = !1, this.onzoomin = !1, this.onzoomout = !1, this.view = !1, this.page = !1, this.scroll = {
                    x: 0,
                    y: 0
                }, this.scrollratio = {
                    x: 0,
                    y: 0
                }, this.cursorheight = 20, this.scrollvaluemax = 0, "auto" == x.rtlmode) {
                var l = this.win[0] == B ? this.body : this.win,
                    c = l.css("writing-mode") || l.css("-webkit-writing-mode") || l.css("-ms-writing-mode") || l.css("-moz-writing-mode");
                this.isvertical = "horizontal-tb" == c || "lr-tb" == c || "" === c ? (this.isrtlmode = "rtl" == l.css("direction"), !1) : (this.isrtlmode = "vertical-rl" == c || "tb" == c || "tb-rl" == c || "rl-tb" == c, "vertical-rl" == c || "tb" == c || "tb-rl" == c)
            } else this.isrtlmode = !0 === x.rtlmode, this.isvertical = !1;
            if (this.scrollrunning = !1, this.scrollmom = !1, this.observer = !1, this.observerremover = !1, (this.observerbody = !1) !== x.scrollbarid) this.id = x.scrollbarid;
            else
                for (; this.id = "ascrail" + A++, P.getElementById(this.id););
            this.rail = !1, this.cursor = !1, this.cursorfreezed = !1, this.selectiondrag = !1, this.zoom = !1, this.zoomactive = !1, this.hasfocus = !1, this.hasmousefocus = !1, this.railslocked = !1, this.locked = !1, this.hidden = !1, this.cursoractive = !0, this.wheelprevented = !1, this.overflowx = x.overflowx, this.overflowy = x.overflowy, this.nativescrollingarea = !1, this.checkarea = 0, this.events = [], this.saved = {}, this.delaylist = {}, this.synclist = {}, this.lastdeltax = 0, this.lastdeltay = 0, this.detected = function() {
                if (j) return j;
                var e = P.createElement("DIV"),
                    i = e.style,
                    t = navigator.userAgent,
                    n = navigator.platform,
                    a = {};
                return a.haspointerlock = "pointerLockElement" in P || "webkitPointerLockElement" in P || "mozPointerLockElement" in P, a.isopera = "opera" in B, a.isopera12 = a.isopera && "getUserMedia" in navigator, a.isoperamini = "[object OperaMini]" === Object.prototype.toString.call(B.operamini), a.isie = "all" in P && "attachEvent" in e && !a.isopera, a.isieold = a.isie && !("msInterpolationMode" in i), a.isie7 = a.isie && !a.isieold && (!("documentMode" in P) || 7 === P.documentMode), a.isie8 = a.isie && "documentMode" in P && 8 === P.documentMode, a.isie9 = a.isie && "performance" in B && 9 === P.documentMode, a.isie10 = a.isie && "performance" in B && 10 === P.documentMode, a.isie11 = "msRequestFullscreen" in e && 11 <= P.documentMode, a.ismsedge = "msCredentials" in B, a.ismozilla = "MozAppearance" in i, a.iswebkit = !a.ismsedge && "WebkitAppearance" in i, a.ischrome = a.iswebkit && "chrome" in B, a.ischrome38 = a.ischrome && "touchAction" in i, a.ischrome22 = !a.ischrome38 && a.ischrome && a.haspointerlock, a.ischrome26 = !a.ischrome38 && a.ischrome && "transition" in i, a.cantouch = "ontouchstart" in P.documentElement || "ontouchstart" in B, a.hasw3ctouch = !!B.PointerEvent && (0 < navigator.maxTouchPoints || 0 < navigator.msMaxTouchPoints), a.hasmstouch = !a.hasw3ctouch && (B.MSPointerEvent || !1), a.ismac = /^mac$/i.test(n), a.isios = a.cantouch && /iphone|ipad|ipod/i.test(n), a.isios4 = a.isios && !("seal" in Object), a.isios7 = a.isios && "webkitHidden" in P, a.isios8 = a.isios && "hidden" in P, a.isios10 = a.isios && B.Proxy, a.isandroid = /android/i.test(t), a.haseventlistener = "addEventListener" in e, a.trstyle = !1, a.hastransform = !1, a.hastranslate3d = !1, a.transitionstyle = !1, a.hastransition = !1, a.transitionend = !1, a.trstyle = "transform", a.hastransform = "transform" in i || function() {
                    for (var e = ["msTransform", "webkitTransform", "MozTransform", "OTransform"], t = 0, n = e.length; t < n; t++)
                        if (void 0 !== i[e[t]]) {
                            a.trstyle = e[t];
                            break
                        }
                    a.hastransform = !!a.trstyle
                }(), a.hastransform && (i[a.trstyle] = "translate3d(1px,2px,3px)", a.hastranslate3d = /translate3d/.test(i[a.trstyle])), a.transitionstyle = "transition", a.prefixstyle = "", a.transitionend = "transitionend", a.hastransition = "transition" in i || function() {
                    a.transitionend = !1;
                    for (var e = ["webkitTransition", "msTransition", "MozTransition", "OTransition", "OTransition", "KhtmlTransition"], t = ["-webkit-", "-ms-", "-moz-", "-o-", "-o", "-khtml-"], n = ["webkitTransitionEnd", "msTransitionEnd", "transitionend", "otransitionend", "oTransitionEnd", "KhtmlTransitionEnd"], r = 0, o = e.length; r < o; r++)
                        if (e[r] in i) {
                            a.transitionstyle = e[r], a.prefixstyle = t[r], a.transitionend = n[r];
                            break
                        }
                    a.ischrome26 && (a.prefixstyle = t[1]), a.hastransition = a.transitionstyle
                }(), a.cursorgrabvalue = function() {
                    var e = ["grab", "-webkit-grab", "-moz-grab"];
                    (a.ischrome && !a.ischrome38 || a.isie) && (e = []);
                    for (var t = 0, n = e.length; t < n; t++) {
                        var r = e[t];
                        if (i.cursor = r, i.cursor == r) return r
                    }
                    return "url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize"
                }(), a.hasmousecapture = "setCapture" in e, a.hasMutationObserver = !1 !== M, e = null, j = a
            }();
            var C = R.extend({}, this.detected);
            this.canhwscroll = C.hastransform && x.hwacceleration, this.ishwscroll = this.canhwscroll && b.haswrapper, this.isrtlmode ? this.isvertical ? this.hasreversehr = !(C.iswebkit || C.isie || C.isie11) : this.hasreversehr = !(C.iswebkit || C.isie && !C.isie10 && !C.isie11) : this.hasreversehr = !1, this.istouchcapable = !1, (C.cantouch || !C.hasw3ctouch && !C.hasmstouch) && (!C.cantouch || C.isios || C.isandroid || !C.iswebkit && !C.ismozilla) || (this.istouchcapable = !0), x.enablemouselockapi || (C.hasmousecapture = !1, C.haspointerlock = !1), this.debounced = function(e, t, n) {
                b && (b.delaylist[e] || (b.delaylist[e] = {
                    h: z(function() {
                        b.delaylist[e].fn.call(b), b.delaylist[e] = !1
                    }, n)
                }, t.call(b)), b.delaylist[e].fn = t)
            }, this.synched = function(e, t) {
                b.synclist[e] ? b.synclist[e] = t : (b.synclist[e] = t, z(function() {
                    b && (b.synclist[e] && b.synclist[e].call(b), b.synclist[e] = null)
                }))
            }, this.unsynched = function(e) {
                b.synclist[e] && (b.synclist[e] = !1)
            }, this.css = function(e, t) {
                for (var n in t) b.saved.css.push([e, n, e.css(n)]), e.css(n, t[n])
            }, this.scrollTop = function(e) {
                return void 0 === e ? b.getScrollTop() : b.setScrollTop(e)
            }, this.scrollLeft = function(e) {
                return void 0 === e ? b.getScrollLeft() : b.setScrollLeft(e)
            };
            var u = function(e, t, n, r, o, i, a) {
                this.st = e, this.ed = t, this.spd = n, this.p1 = r || 0, this.p2 = o || 1, this.p3 = i || 0, this.p4 = a || 1, this.ts = $(), this.df = t - e
            };
            if (u.prototype = {
                    B2: function(e) {
                        return 3 * (1 - e) * (1 - e) * e
                    },
                    B3: function(e) {
                        return 3 * (1 - e) * e * e
                    },
                    B4: function(e) {
                        return e * e * e
                    },
                    getPos: function() {
                        return ($() - this.ts) / this.spd
                    },
                    getNow: function() {
                        var e = ($() - this.ts) / this.spd,
                            t = this.B2(e) + this.B3(e) + this.B4(e);
                        return 1 <= e ? this.ed : this.st + this.df * t | 0
                    },
                    update: function(e, t) {
                        return this.st = this.getNow(), this.ed = e, this.spd = t, this.ts = $(), this.df = this.ed - this.st, this
                    }
                }, this.ishwscroll) {
                this.doc.translate = {
                    x: 0,
                    y: 0,
                    tx: "0px",
                    ty: "0px"
                }, C.hastranslate3d && C.isios && this.doc.css("-webkit-backface-visibility", "hidden"), this.getScrollTop = function(e) {
                    if (!e) {
                        var t = n();
                        if (t) return 16 == t.length ? -t[13] : -t[5];
                        if (b.timerscroll && b.timerscroll.bz) return b.timerscroll.bz.getNow()
                    }
                    return b.doc.translate.y
                }, this.getScrollLeft = function(e) {
                    if (!e) {
                        var t = n();
                        if (t) return 16 == t.length ? -t[12] : -t[4];
                        if (b.timerscroll && b.timerscroll.bh) return b.timerscroll.bh.getNow()
                    }
                    return b.doc.translate.x
                }, this.notifyScrollEvent = function(e) {
                    var t = P.createEvent("UIEvents");
                    t.initUIEvent("scroll", !1, !1, B, 1), t.niceevent = !0, e.dispatchEvent(t)
                };
                var d = this.isrtlmode ? 1 : -1;
                C.hastranslate3d && x.enabletranslate3d ? (this.setScrollTop = function(e, t) {
                    b.doc.translate.y = e, b.doc.translate.ty = -1 * e + "px", b.doc.css(C.trstyle, "translate3d(" + b.doc.translate.tx + "," + b.doc.translate.ty + ",0)"), t || b.notifyScrollEvent(b.win[0])
                }, this.setScrollLeft = function(e, t) {
                    b.doc.translate.x = e, b.doc.translate.tx = e * d + "px", b.doc.css(C.trstyle, "translate3d(" + b.doc.translate.tx + "," + b.doc.translate.ty + ",0)"), t || b.notifyScrollEvent(b.win[0])
                }) : (this.setScrollTop = function(e, t) {
                    b.doc.translate.y = e, b.doc.translate.ty = -1 * e + "px", b.doc.css(C.trstyle, "translate(" + b.doc.translate.tx + "," + b.doc.translate.ty + ")"), t || b.notifyScrollEvent(b.win[0])
                }, this.setScrollLeft = function(e, t) {
                    b.doc.translate.x = e, b.doc.translate.tx = e * d + "px", b.doc.css(C.trstyle, "translate(" + b.doc.translate.tx + "," + b.doc.translate.ty + ")"), t || b.notifyScrollEvent(b.win[0])
                })
            } else this.getScrollTop = function() {
                return b.docscroll.scrollTop()
            }, this.setScrollTop = function(e) {
                b.docscroll.scrollTop(e)
            }, this.getScrollLeft = function() {
                return b.hasreversehr ? b.detected.ismozilla ? b.page.maxw - Math.abs(b.docscroll.scrollLeft()) : b.page.maxw - b.docscroll.scrollLeft() : b.docscroll.scrollLeft()
            }, this.setScrollLeft = function(e) {
                return setTimeout(function() {
                    if (b) return b.hasreversehr && (e = b.detected.ismozilla ? -(b.page.maxw - e) : b.page.maxw - e), b.docscroll.scrollLeft(e)
                }, 1)
            };
            this.getTarget = function(e) {
                return !!e && (e.target ? e.target : !!e.srcElement && e.srcElement)
            }, this.hasParent = function(e, t) {
                if (!e) return !1;
                for (var n = e.target || e.srcElement || e || !1; n && n.id != t;) n = n.parentNode || !1;
                return !1 !== n
            };
            var f = {
                thin: 1,
                medium: 3,
                thick: 5
            };
            this.getDocumentScrollOffset = function() {
                return {
                    top: B.pageYOffset || P.documentElement.scrollTop,
                    left: B.pageXOffset || P.documentElement.scrollLeft
                }
            }, this.getOffset = function() {
                if (b.isfixed) {
                    var e = b.win.offset(),
                        t = b.getDocumentScrollOffset();
                    return e.top -= t.top, e.left -= t.left, e
                }
                var n = b.win.offset();
                if (!b.viewport) return n;
                var r = b.viewport.offset();
                return {
                    top: n.top - r.top,
                    left: n.left - r.left
                }
            }, this.updateScrollBar = function(e) {
                var t, n;
                if (b.ishwscroll) b.rail.css({
                    height: b.win.innerHeight() - (x.railpadding.top + x.railpadding.bottom)
                }), b.railh && b.railh.css({
                    width: b.win.innerWidth() - (x.railpadding.left + x.railpadding.right)
                });
                else {
                    var r = b.getOffset();
                    if ((t = {
                            top: r.top,
                            left: r.left - (x.railpadding.left + x.railpadding.right)
                        }).top += a(b.win, "border-top-width", !0), t.left += b.rail.align ? b.win.outerWidth() - a(b.win, "border-right-width") - b.rail.width : a(b.win, "border-left-width"), (n = x.railoffset) && (n.top && (t.top += n.top), n.left && (t.left += n.left)), b.railslocked || b.rail.css({
                            top: t.top,
                            left: t.left,
                            height: (e ? e.h : b.win.innerHeight()) - (x.railpadding.top + x.railpadding.bottom)
                        }), b.zoom && b.zoom.css({
                            top: t.top + 1,
                            left: 1 == b.rail.align ? t.left - 20 : t.left + b.rail.width + 4
                        }), b.railh && !b.railslocked) {
                        t = {
                            top: r.top,
                            left: r.left
                        }, (n = x.railhoffset) && (n.top && (t.top += n.top), n.left && (t.left += n.left));
                        var o = b.railh.align ? t.top + a(b.win, "border-top-width", !0) + b.win.innerHeight() - b.railh.height : t.top + a(b.win, "border-top-width", !0),
                            i = t.left + a(b.win, "border-left-width");
                        b.railh.css({
                            top: o - (x.railpadding.top + x.railpadding.bottom),
                            left: i,
                            width: b.railh.width
                        })
                    }
                }
            }, this.doRailClick = function(e, t, n) {
                var r, o, i, a;
                b.railslocked || (b.cancelEvent(e), "pageY" in e || (e.pageX = e.clientX + P.documentElement.scrollLeft, e.pageY = e.clientY + P.documentElement.scrollTop), t ? (r = n ? b.doScrollLeft : b.doScrollTop, i = n ? (e.pageX - b.railh.offset().left - b.cursorwidth / 2) * b.scrollratio.x : (e.pageY - b.rail.offset().top - b.cursorheight / 2) * b.scrollratio.y, b.unsynched("relativexy"), r(0 | i)) : (r = n ? b.doScrollLeftBy : b.doScrollBy, i = n ? b.scroll.x : b.scroll.y, a = n ? e.pageX - b.railh.offset().left : e.pageY - b.rail.offset().top, o = n ? b.view.w : b.view.h, r(a <= i ? o : -o)))
            }, b.newscrolly = b.newscrollx = 0, b.hasanimationframe = "requestAnimationFrame" in B, b.hascancelanimationframe = "cancelAnimationFrame" in B, b.hasborderbox = !1, this.init = function() {
                if (b.saved.css = [], C.isoperamini) return !0;
                if (C.isandroid && !("hidden" in P)) return !0;
                x.emulatetouch = x.emulatetouch || x.touchbehavior, b.hasborderbox = B.getComputedStyle && "border-box" === B.getComputedStyle(P.body)["box-sizing"];
                var n = {
                    "overflow-y": "hidden"
                };
                if ((C.isie11 || C.isie10) && (n["-ms-overflow-style"] = "none"), b.ishwscroll && (this.doc.css(C.transitionstyle, C.prefixstyle + "transform 0ms ease-out"), C.transitionend && b.bind(b.doc, C.transitionend, b.onScrollTransitionEnd, !1)), b.zindex = "auto", b.ispage || "auto" != x.zindex ? b.zindex = x.zindex : b.zindex = function() {
                        var e = b.win;
                        if ("zIndex" in e) return e.zIndex();
                        for (; 0 < e.length;) {
                            if (9 == e[0].nodeType) return !1;
                            var t = e.css("zIndex");
                            if (!isNaN(t) && 0 !== t) return parseInt(t);
                            e = e.parent()
                        }
                        return !1
                    }() || "auto", !b.ispage && "auto" != b.zindex && b.zindex > O && (O = b.zindex), b.isie && 0 === b.zindex && "auto" == x.zindex && (b.zindex = "auto"), !b.ispage || !C.isieold) {
                    var e = b.docscroll;
                    b.ispage && (e = b.haswrapper ? b.win : b.doc), b.css(e, n), b.ispage && (C.isie11 || C.isie) && b.css(R("html"), n), !C.isios || b.ispage || b.haswrapper || b.css(w, {
                        "-webkit-overflow-scrolling": "touch"
                    });
                    var t = R(P.createElement("div"));
                    t.css({
                        position: "relative",
                        top: 0,
                        float: "right",
                        width: x.cursorwidth,
                        height: 0,
                        "background-color": x.cursorcolor,
                        border: x.cursorborder,
                        "background-clip": "padding-box",
                        "-webkit-border-radius": x.cursorborderradius,
                        "-moz-border-radius": x.cursorborderradius,
                        "border-radius": x.cursorborderradius
                    }), t.addClass("nicescroll-cursors"), b.cursor = t;
                    var r = R(P.createElement("div"));
                    r.attr("id", b.id), r.addClass("nicescroll-rails nicescroll-rails-vr");
                    var o, i, a = ["left", "right", "top", "bottom"];
                    for (var s in a) i = a[s], (o = x.railpadding[i] || 0) && r.css("padding-" + i, o + "px");
                    r.append(t), r.width = Math.max(parseFloat(x.cursorwidth), t.outerWidth()), r.css({
                        width: r.width + "px",
                        zIndex: b.zindex,
                        background: x.background,
                        cursor: "default"
                    }), r.visibility = !0, r.scrollable = !0, r.align = "left" == x.railalign ? 0 : 1, b.rail = r;
                    var l, c = b.rail.drag = !1;
                    if (!x.boxzoom || b.ispage || C.isieold || (c = P.createElement("div"), b.bind(c, "click", b.doZoom), b.bind(c, "mouseenter", function() {
                            b.zoom.css("opacity", x.cursoropacitymax)
                        }), b.bind(c, "mouseleave", function() {
                            b.zoom.css("opacity", x.cursoropacitymin)
                        }), b.zoom = R(c), b.zoom.css({
                            cursor: "pointer",
                            zIndex: b.zindex,
                            backgroundImage: "url(" + x.scriptpath + "zoomico.png)",
                            height: 18,
                            width: 18,
                            backgroundPosition: "0 0"
                        }), x.dblclickzoom && b.bind(b.win, "dblclick", b.doZoom), C.cantouch && x.gesturezoom && (b.ongesturezoom = function(e) {
                            return 1.5 < e.scale && b.doZoomIn(e), e.scale < .8 && b.doZoomOut(e), b.cancelEvent(e)
                        }, b.bind(b.win, "gestureend", b.ongesturezoom))), b.railh = !1, x.horizrailenabled && (b.css(e, {
                            overflowX: "hidden"
                        }), (t = R(P.createElement("div"))).css({
                            position: "absolute",
                            top: 0,
                            height: x.cursorwidth,
                            width: 0,
                            backgroundColor: x.cursorcolor,
                            border: x.cursorborder,
                            backgroundClip: "padding-box",
                            "-webkit-border-radius": x.cursorborderradius,
                            "-moz-border-radius": x.cursorborderradius,
                            "border-radius": x.cursorborderradius
                        }), C.isieold && t.css("overflow", "hidden"), t.addClass("nicescroll-cursors"), b.cursorh = t, (l = R(P.createElement("div"))).attr("id", b.id + "-hr"), l.addClass("nicescroll-rails nicescroll-rails-hr"), l.height = Math.max(parseFloat(x.cursorwidth), t.outerHeight()), l.css({
                            height: l.height + "px",
                            zIndex: b.zindex,
                            background: x.background
                        }), l.append(t), l.visibility = !0, l.scrollable = !0, l.align = "top" == x.railvalign ? 0 : 1, b.railh = l, b.railh.drag = !1), b.ispage) r.css({
                        position: "fixed",
                        top: 0,
                        height: "100%"
                    }), r.css(r.align ? {
                        right: 0
                    } : {
                        left: 0
                    }), b.body.append(r), b.railh && (l.css({
                        position: "fixed",
                        left: 0,
                        width: "100%"
                    }), l.css(l.align ? {
                        bottom: 0
                    } : {
                        top: 0
                    }), b.body.append(l));
                    else {
                        if (b.ishwscroll) {
                            "static" == b.win.css("position") && b.css(b.win, {
                                position: "relative"
                            });
                            var u = "HTML" == b.win[0].nodeName ? b.body : b.win;
                            R(u).scrollTop(0).scrollLeft(0), b.zoom && (b.zoom.css({
                                position: "absolute",
                                top: 1,
                                right: 0,
                                "margin-right": r.width + 4
                            }), u.append(b.zoom)), r.css({
                                position: "absolute",
                                top: 0
                            }), r.css(r.align ? {
                                right: 0
                            } : {
                                left: 0
                            }), u.append(r), l && (l.css({
                                position: "absolute",
                                left: 0,
                                bottom: 0
                            }), l.css(l.align ? {
                                bottom: 0
                            } : {
                                top: 0
                            }), u.append(l))
                        } else {
                            b.isfixed = "fixed" == b.win.css("position");
                            var d = b.isfixed ? "fixed" : "absolute";
                            b.isfixed || (b.viewport = b.getViewport(b.win[0])), b.viewport && (b.body = b.viewport, /fixed|absolute/.test(b.viewport.css("position")) || b.css(b.viewport, {
                                position: "relative"
                            })), r.css({
                                position: d
                            }), b.zoom && b.zoom.css({
                                position: d
                            }), b.updateScrollBar(), b.body.append(r), b.zoom && b.body.append(b.zoom), b.railh && (l.css({
                                position: d
                            }), b.body.append(l))
                        }
                        C.isios && b.css(b.win, {
                            "-webkit-tap-highlight-color": "rgba(0,0,0,0)",
                            "-webkit-touch-callout": "none"
                        }), x.disableoutline && (C.isie && b.win.attr("hideFocus", "true"), C.iswebkit && b.win.css("outline", "none"))
                    }
                    if (!1 === x.autohidemode ? (b.autohidedom = !1, b.rail.css({
                            opacity: x.cursoropacitymax
                        }), b.railh && b.railh.css({
                            opacity: x.cursoropacitymax
                        })) : !0 === x.autohidemode || "leave" === x.autohidemode ? (b.autohidedom = R().add(b.rail), C.isie8 && (b.autohidedom = b.autohidedom.add(b.cursor)), b.railh && (b.autohidedom = b.autohidedom.add(b.railh)), b.railh && C.isie8 && (b.autohidedom = b.autohidedom.add(b.cursorh))) : "scroll" == x.autohidemode ? (b.autohidedom = R().add(b.rail), b.railh && (b.autohidedom = b.autohidedom.add(b.railh))) : "cursor" == x.autohidemode ? (b.autohidedom = R().add(b.cursor), b.railh && (b.autohidedom = b.autohidedom.add(b.cursorh))) : "hidden" == x.autohidemode && (b.autohidedom = !1, b.hide(), b.railslocked = !1), C.cantouch || b.istouchcapable || x.emulatetouch || C.hasmstouch) {
                        b.scrollmom = new H(b), b.ontouchstart = function(e) {
                            if (b.locked) return !1;
                            if (e.pointerType && ("mouse" === e.pointerType || e.pointerType === e.MSPOINTER_TYPE_MOUSE)) return !1;
                            if (b.hasmoving = !1, b.scrollmom.timer && (b.triggerScrollEnd(), b.scrollmom.stop()), !b.railslocked) {
                                var t = b.getTarget(e);
                                if (t && /INPUT/i.test(t.nodeName) && /range/i.test(t.type)) return b.stopPropagation(e);
                                var n = "mousedown" === e.type;
                                if (!("clientX" in e) && "changedTouches" in e && (e.clientX = e.changedTouches[0].clientX, e.clientY = e.changedTouches[0].clientY), b.forcescreen) {
                                    var r = e;
                                    (e = {
                                        original: e.original ? e.original : e
                                    }).clientX = r.screenX, e.clientY = r.screenY
                                }
                                if (b.rail.drag = {
                                        x: e.clientX,
                                        y: e.clientY,
                                        sx: b.scroll.x,
                                        sy: b.scroll.y,
                                        st: b.getScrollTop(),
                                        sl: b.getScrollLeft(),
                                        pt: 2,
                                        dl: !1,
                                        tg: t
                                    }, b.ispage || !x.directionlockdeadzone) b.rail.drag.dl = "f";
                                else {
                                    var o = D.width(),
                                        i = D.height(),
                                        a = b.getContentSize(),
                                        s = a.h - i,
                                        l = a.w - o;
                                    b.rail.scrollable && !b.railh.scrollable ? b.rail.drag.ck = 0 < s && "v" : !b.rail.scrollable && b.railh.scrollable ? b.rail.drag.ck = 0 < l && "h" : b.rail.drag.ck = !1
                                }
                                if (x.emulatetouch && b.isiframe && C.isie) {
                                    var c = b.win.position();
                                    b.rail.drag.x += c.left, b.rail.drag.y += c.top
                                }
                                if (b.hasmoving = !1, b.lastmouseup = !1, b.scrollmom.reset(e.clientX, e.clientY), t && n) {
                                    if (!/INPUT|SELECT|BUTTON|TEXTAREA/i.test(t.nodeName)) return C.hasmousecapture && t.setCapture(), x.emulatetouch ? (t.onclick && !t._onclick && (t._onclick = t.onclick, t.onclick = function(e) {
                                        if (b.hasmoving) return !1;
                                        t._onclick.call(this, e)
                                    }), b.cancelEvent(e)) : b.stopPropagation(e);
                                    /SUBMIT|CANCEL|BUTTON/i.test(R(t).attr("type")) && (b.preventclick = {
                                        tg: t,
                                        click: !1
                                    })
                                }
                            }
                        }, b.ontouchend = function(e) {
                            if (!b.rail.drag) return !0;
                            if (2 == b.rail.drag.pt) {
                                if (e.pointerType && ("mouse" === e.pointerType || e.pointerType === e.MSPOINTER_TYPE_MOUSE)) return !1;
                                b.rail.drag = !1;
                                var t = "mouseup" === e.type;
                                if (b.hasmoving && (b.scrollmom.doMomentum(), b.lastmouseup = !0, b.hideCursor(), C.hasmousecapture && P.releaseCapture(), t)) return b.cancelEvent(e)
                            } else if (1 == b.rail.drag.pt) return b.onmouseup(e)
                        };
                        var p = x.emulatetouch && b.isiframe && !C.hasmousecapture,
                            m = .3 * x.directionlockdeadzone | 0;
                        b.ontouchmove = function(e, t) {
                            if (!b.rail.drag) return !0;
                            if (e.targetTouches && x.preventmultitouchscrolling && 1 < e.targetTouches.length) return !0;
                            if (e.pointerType && ("mouse" === e.pointerType || e.pointerType === e.MSPOINTER_TYPE_MOUSE)) return !0;
                            if (2 != b.rail.drag.pt) return 1 == b.rail.drag.pt ? b.onmousemove(e) : void 0;
                            var n, r;
                            if ("changedTouches" in e && (e.clientX = e.changedTouches[0].clientX, e.clientY = e.changedTouches[0].clientY), r = n = 0, p && !t) {
                                var o = b.win.position();
                                r = -o.left, n = -o.top
                            }
                            var i = e.clientY + n,
                                a = i - b.rail.drag.y,
                                s = e.clientX + r,
                                l = s - b.rail.drag.x,
                                c = b.rail.drag.st - a;
                            if (b.ishwscroll && x.bouncescroll) c < 0 ? c = Math.round(c / 2) : c > b.page.maxh && (c = b.page.maxh + Math.round((c - b.page.maxh) / 2));
                            else if (c < 0 ? i = c = 0 : c > b.page.maxh && (c = b.page.maxh, i = 0), 0 === i && !b.hasmoving) return b.ispage || (b.rail.drag = !1), !0;
                            var u = b.getScrollLeft();
                            if (b.railh && b.railh.scrollable && (u = b.isrtlmode ? l - b.rail.drag.sl : b.rail.drag.sl - l, b.ishwscroll && x.bouncescroll ? u < 0 ? u = Math.round(u / 2) : u > b.page.maxw && (u = b.page.maxw + Math.round((u - b.page.maxw) / 2)) : (u < 0 && (s = u = 0), u > b.page.maxw && (u = b.page.maxw, s = 0))), !b.hasmoving) {
                                if (b.rail.drag.y === e.clientY && b.rail.drag.x === e.clientX) return b.cancelEvent(e);
                                var d = Math.abs(a),
                                    f = Math.abs(l),
                                    h = x.directionlockdeadzone;
                                if (b.rail.drag.ck ? "v" == b.rail.drag.ck ? h < f && d <= m ? b.rail.drag = !1 : h < d && (b.rail.drag.dl = "v") : "h" == b.rail.drag.ck && (h < d && f <= m ? b.rail.drag = !1 : h < f && (b.rail.drag.dl = "h")) : h < d && h < f ? b.rail.drag.dl = "f" : h < d ? b.rail.drag.dl = m < f ? "f" : "v" : h < f && (b.rail.drag.dl = m < d ? "f" : "h"), !b.rail.drag.dl) return b.cancelEvent(e);
                                b.triggerScrollStart(e.clientX, e.clientY, 0, 0, 0), b.hasmoving = !0
                            }
                            return b.preventclick && !b.preventclick.click && (b.preventclick.click = b.preventclick.tg.onclick || !1, b.preventclick.tg.onclick = b.onpreventclick), b.rail.drag.dl && ("v" == b.rail.drag.dl ? u = b.rail.drag.sl : "h" == b.rail.drag.dl && (c = b.rail.drag.st)), b.synched("touchmove", function() {
                                b.rail.drag && 2 == b.rail.drag.pt && (b.prepareTransition && b.resetTransition(), b.rail.scrollable && b.setScrollTop(c), b.scrollmom.update(s, i), b.railh && b.railh.scrollable ? (b.setScrollLeft(u), b.showCursor(c, u)) : b.showCursor(c), C.isie10 && P.selection.clear())
                            }), b.cancelEvent(e)
                        }, b.ontouchstartCursor = function(e, t) {
                            if (!b.rail.drag || 3 == b.rail.drag.pt) {
                                if (b.locked) return b.cancelEvent(e);
                                b.cancelScroll(), b.rail.drag = {
                                    x: e.touches[0].clientX,
                                    y: e.touches[0].clientY,
                                    sx: b.scroll.x,
                                    sy: b.scroll.y,
                                    pt: 3,
                                    hr: !!t
                                };
                                var n = b.getTarget(e);
                                return !b.ispage && C.hasmousecapture && n.setCapture(), b.isiframe && !C.hasmousecapture && (b.saved.csspointerevents = b.doc.css("pointer-events"), b.css(b.doc, {
                                    "pointer-events": "none"
                                })), b.cancelEvent(e)
                            }
                        }, b.ontouchendCursor = function(e) {
                            if (b.rail.drag) {
                                if (C.hasmousecapture && P.releaseCapture(), b.isiframe && !C.hasmousecapture && b.doc.css("pointer-events", b.saved.csspointerevents), 3 != b.rail.drag.pt) return;
                                return b.rail.drag = !1, b.cancelEvent(e)
                            }
                        }, b.ontouchmoveCursor = function(e) {
                            if (b.rail.drag) {
                                if (3 != b.rail.drag.pt) return;
                                if (b.cursorfreezed = !0, b.rail.drag.hr) {
                                    b.scroll.x = b.rail.drag.sx + (e.touches[0].clientX - b.rail.drag.x), b.scroll.x < 0 && (b.scroll.x = 0);
                                    var t = b.scrollvaluemaxw;
                                    b.scroll.x > t && (b.scroll.x = t)
                                } else {
                                    b.scroll.y = b.rail.drag.sy + (e.touches[0].clientY - b.rail.drag.y), b.scroll.y < 0 && (b.scroll.y = 0);
                                    var n = b.scrollvaluemax;
                                    b.scroll.y > n && (b.scroll.y = n)
                                }
                                return b.synched("touchmove", function() {
                                    b.rail.drag && 3 == b.rail.drag.pt && (b.showCursor(), b.rail.drag.hr ? b.doScrollLeft(Math.round(b.scroll.x * b.scrollratio.x), x.cursordragspeed) : b.doScrollTop(Math.round(b.scroll.y * b.scrollratio.y), x.cursordragspeed))
                                }), b.cancelEvent(e)
                            }
                        }
                    }
                    if (b.onmousedown = function(e, t) {
                            if (!b.rail.drag || 1 == b.rail.drag.pt) {
                                if (b.railslocked) return b.cancelEvent(e);
                                b.cancelScroll(), b.rail.drag = {
                                    x: e.clientX,
                                    y: e.clientY,
                                    sx: b.scroll.x,
                                    sy: b.scroll.y,
                                    pt: 1,
                                    hr: t || !1
                                };
                                var n = b.getTarget(e);
                                return C.hasmousecapture && n.setCapture(), b.isiframe && !C.hasmousecapture && (b.saved.csspointerevents = b.doc.css("pointer-events"), b.css(b.doc, {
                                    "pointer-events": "none"
                                })), b.hasmoving = !1, b.cancelEvent(e)
                            }
                        }, b.onmouseup = function(e) {
                            if (b.rail.drag) return 1 != b.rail.drag.pt || (C.hasmousecapture && P.releaseCapture(), b.isiframe && !C.hasmousecapture && b.doc.css("pointer-events", b.saved.csspointerevents), b.rail.drag = !1, b.cursorfreezed = !1, b.hasmoving && b.triggerScrollEnd(), b.cancelEvent(e))
                        }, b.onmousemove = function(e) {
                            if (b.rail.drag) {
                                if (1 !== b.rail.drag.pt) return;
                                if (C.ischrome && 0 === e.which) return b.onmouseup(e);
                                if (b.cursorfreezed = !0, b.hasmoving || b.triggerScrollStart(e.clientX, e.clientY, 0, 0, 0), b.hasmoving = !0, b.rail.drag.hr) {
                                    b.scroll.x = b.rail.drag.sx + (e.clientX - b.rail.drag.x), b.scroll.x < 0 && (b.scroll.x = 0);
                                    var t = b.scrollvaluemaxw;
                                    b.scroll.x > t && (b.scroll.x = t)
                                } else {
                                    b.scroll.y = b.rail.drag.sy + (e.clientY - b.rail.drag.y), b.scroll.y < 0 && (b.scroll.y = 0);
                                    var n = b.scrollvaluemax;
                                    b.scroll.y > n && (b.scroll.y = n)
                                }
                                return b.synched("mousemove", function() {
                                    b.cursorfreezed && (b.showCursor(), b.rail.drag.hr ? b.scrollLeft(Math.round(b.scroll.x * b.scrollratio.x)) : b.scrollTop(Math.round(b.scroll.y * b.scrollratio.y)))
                                }), b.cancelEvent(e)
                            }
                            b.checkarea = 0
                        }, C.cantouch || x.emulatetouch) b.onpreventclick = function(e) {
                        if (b.preventclick) return b.preventclick.tg.onclick = b.preventclick.click, b.preventclick = !1, b.cancelEvent(e)
                    }, b.onclick = !C.isios && function(e) {
                        return !b.lastmouseup || (b.lastmouseup = !1, b.cancelEvent(e))
                    }, x.grabcursorenabled && C.cursorgrabvalue && (b.css(b.ispage ? b.doc : b.win, {
                        cursor: C.cursorgrabvalue
                    }), b.css(b.rail, {
                        cursor: C.cursorgrabvalue
                    }));
                    else {
                        var f = function(e) {
                            if (b.selectiondrag) {
                                if (e) {
                                    var t = b.win.outerHeight(),
                                        n = e.pageY - b.selectiondrag.top;
                                    0 < n && n < t && (n = 0), t <= n && (n -= t), b.selectiondrag.df = n
                                }
                                if (0 !== b.selectiondrag.df) {
                                    var r = -2 * b.selectiondrag.df / 6 | 0;
                                    b.doScrollBy(r), b.debounced("doselectionscroll", function() {
                                        f()
                                    }, 50)
                                }
                            }
                        };
                        b.hasTextSelected = "getSelection" in P ? function() {
                            return 0 < P.getSelection().rangeCount
                        } : "selection" in P ? function() {
                            return "None" != P.selection.type
                        } : function() {
                            return !1
                        }, b.onselectionstart = function(e) {
                            b.ispage || (b.selectiondrag = b.win.offset())
                        }, b.onselectionend = function(e) {
                            b.selectiondrag = !1
                        }, b.onselectiondrag = function(e) {
                            b.selectiondrag && b.hasTextSelected() && b.debounced("selectionscroll", function() {
                                f(e)
                            }, 250)
                        }
                    }
                    if (C.hasw3ctouch ? (b.css(b.ispage ? R("html") : b.win, {
                            "touch-action": "none"
                        }), b.css(b.rail, {
                            "touch-action": "none"
                        }), b.css(b.cursor, {
                            "touch-action": "none"
                        }), b.bind(b.win, "pointerdown", b.ontouchstart), b.bind(P, "pointerup", b.ontouchend), b.delegate(P, "pointermove", b.ontouchmove)) : C.hasmstouch ? (b.css(b.ispage ? R("html") : b.win, {
                            "-ms-touch-action": "none"
                        }), b.css(b.rail, {
                            "-ms-touch-action": "none"
                        }), b.css(b.cursor, {
                            "-ms-touch-action": "none"
                        }), b.bind(b.win, "MSPointerDown", b.ontouchstart), b.bind(P, "MSPointerUp", b.ontouchend), b.delegate(P, "MSPointerMove", b.ontouchmove), b.bind(b.cursor, "MSGestureHold", function(e) {
                            e.preventDefault()
                        }), b.bind(b.cursor, "contextmenu", function(e) {
                            e.preventDefault()
                        })) : C.cantouch && (b.bind(b.win, "touchstart", b.ontouchstart, !1, !0), b.bind(P, "touchend", b.ontouchend, !1, !0), b.bind(P, "touchcancel", b.ontouchend, !1, !0), b.delegate(P, "touchmove", b.ontouchmove, !1, !0)), x.emulatetouch && (b.bind(b.win, "mousedown", b.ontouchstart, !1, !0), b.bind(P, "mouseup", b.ontouchend, !1, !0), b.bind(P, "mousemove", b.ontouchmove, !1, !0)), (x.cursordragontouch || !C.cantouch && !x.emulatetouch) && (b.rail.css({
                            cursor: "default"
                        }), b.railh && b.railh.css({
                            cursor: "default"
                        }), b.jqbind(b.rail, "mouseenter", function() {
                            if (!b.ispage && !b.win.is(":visible")) return !1;
                            b.canshowonmouseevent && b.showCursor(), b.rail.active = !0
                        }), b.jqbind(b.rail, "mouseleave", function() {
                            b.rail.active = !1, b.rail.drag || b.hideCursor()
                        }), x.sensitiverail && (b.bind(b.rail, "click", function(e) {
                            b.doRailClick(e, !1, !1)
                        }), b.bind(b.rail, "dblclick", function(e) {
                            b.doRailClick(e, !0, !1)
                        }), b.bind(b.cursor, "click", function(e) {
                            b.cancelEvent(e)
                        }), b.bind(b.cursor, "dblclick", function(e) {
                            b.cancelEvent(e)
                        })), b.railh && (b.jqbind(b.railh, "mouseenter", function() {
                            if (!b.ispage && !b.win.is(":visible")) return !1;
                            b.canshowonmouseevent && b.showCursor(), b.rail.active = !0
                        }), b.jqbind(b.railh, "mouseleave", function() {
                            b.rail.active = !1, b.rail.drag || b.hideCursor()
                        }), x.sensitiverail && (b.bind(b.railh, "click", function(e) {
                            b.doRailClick(e, !1, !0)
                        }), b.bind(b.railh, "dblclick", function(e) {
                            b.doRailClick(e, !0, !0)
                        }), b.bind(b.cursorh, "click", function(e) {
                            b.cancelEvent(e)
                        }), b.bind(b.cursorh, "dblclick", function(e) {
                            b.cancelEvent(e)
                        })))), x.cursordragontouch && (this.istouchcapable || C.cantouch) && (b.bind(b.cursor, "touchstart", b.ontouchstartCursor), b.bind(b.cursor, "touchmove", b.ontouchmoveCursor), b.bind(b.cursor, "touchend", b.ontouchendCursor), b.cursorh && b.bind(b.cursorh, "touchstart", function(e) {
                            b.ontouchstartCursor(e, !0)
                        }), b.cursorh && b.bind(b.cursorh, "touchmove", b.ontouchmoveCursor), b.cursorh && b.bind(b.cursorh, "touchend", b.ontouchendCursor)), x.emulatetouch || C.isandroid || C.isios ? (b.bind(C.hasmousecapture ? b.win : P, "mouseup", b.ontouchend), b.onclick && b.bind(P, "click", b.onclick), x.cursordragontouch ? (b.bind(b.cursor, "mousedown", b.onmousedown), b.bind(b.cursor, "mouseup", b.onmouseup), b.cursorh && b.bind(b.cursorh, "mousedown", function(e) {
                            b.onmousedown(e, !0)
                        }), b.cursorh && b.bind(b.cursorh, "mouseup", b.onmouseup)) : (b.bind(b.rail, "mousedown", function(e) {
                            e.preventDefault()
                        }), b.railh && b.bind(b.railh, "mousedown", function(e) {
                            e.preventDefault()
                        }))) : (b.bind(C.hasmousecapture ? b.win : P, "mouseup", b.onmouseup), b.bind(P, "mousemove", b.onmousemove), b.onclick && b.bind(P, "click", b.onclick), b.bind(b.cursor, "mousedown", b.onmousedown), b.bind(b.cursor, "mouseup", b.onmouseup), b.railh && (b.bind(b.cursorh, "mousedown", function(e) {
                            b.onmousedown(e, !0)
                        }), b.bind(b.cursorh, "mouseup", b.onmouseup)), !b.ispage && x.enablescrollonselection && (b.bind(b.win[0], "mousedown", b.onselectionstart), b.bind(P, "mouseup", b.onselectionend), b.bind(b.cursor, "mouseup", b.onselectionend), b.cursorh && b.bind(b.cursorh, "mouseup", b.onselectionend), b.bind(P, "mousemove", b.onselectiondrag)), b.zoom && (b.jqbind(b.zoom, "mouseenter", function() {
                            b.canshowonmouseevent && b.showCursor(), b.rail.active = !0
                        }), b.jqbind(b.zoom, "mouseleave", function() {
                            b.rail.active = !1, b.rail.drag || b.hideCursor()
                        }))), x.enablemousewheel && (b.isiframe || b.mousewheel(C.isie && b.ispage ? P : b.win, b.onmousewheel), b.mousewheel(b.rail, b.onmousewheel), b.railh && b.mousewheel(b.railh, b.onmousewheelhr)), b.ispage || C.cantouch || /HTML|^BODY/.test(b.win[0].nodeName) || (b.win.attr("tabindex") || b.win.attr({
                            tabindex: ++N
                        }), b.bind(b.win, "focus", function(e) {
                            k = b.getTarget(e).id || b.getTarget(e) || !1, b.hasfocus = !0, b.canshowonmouseevent && b.noticeCursor()
                        }), b.bind(b.win, "blur", function(e) {
                            k = !1, b.hasfocus = !1
                        }), b.bind(b.win, "mouseenter", function(e) {
                            T = b.getTarget(e).id || b.getTarget(e) || !1, b.hasmousefocus = !0, b.canshowonmouseevent && b.noticeCursor()
                        }), b.bind(b.win, "mouseleave", function(e) {
                            T = !1, b.hasmousefocus = !1, b.rail.drag || b.hideCursor()
                        })), b.onkeypress = function(e) {
                            if (b.railslocked && 0 === b.page.maxh) return !0;
                            e = e || B.event;
                            var t = b.getTarget(e);
                            if (t && /INPUT|TEXTAREA|SELECT|OPTION/.test(t.nodeName) && (!t.getAttribute("type") && !t.type || !/submit|button|cancel/i.tp)) return !0;
                            if (R(t).attr("contenteditable")) return !0;
                            if (b.hasfocus || b.hasmousefocus && !k || b.ispage && !k && !T) {
                                var n = e.keyCode;
                                if (b.railslocked && 27 != n) return b.cancelEvent(e);
                                var r = e.ctrlKey || !1,
                                    o = e.shiftKey || !1,
                                    i = !1;
                                switch (n) {
                                    case 38:
                                    case 63233:
                                        b.doScrollBy(72), i = !0;
                                        break;
                                    case 40:
                                    case 63235:
                                        b.doScrollBy(-72), i = !0;
                                        break;
                                    case 37:
                                    case 63232:
                                        b.railh && (r ? b.doScrollLeft(0) : b.doScrollLeftBy(72), i = !0);
                                        break;
                                    case 39:
                                    case 63234:
                                        b.railh && (r ? b.doScrollLeft(b.page.maxw) : b.doScrollLeftBy(-72), i = !0);
                                        break;
                                    case 33:
                                    case 63276:
                                        b.doScrollBy(b.view.h), i = !0;
                                        break;
                                    case 34:
                                    case 63277:
                                        b.doScrollBy(-b.view.h), i = !0;
                                        break;
                                    case 36:
                                    case 63273:
                                        b.railh && r ? b.doScrollPos(0, 0) : b.doScrollTo(0), i = !0;
                                        break;
                                    case 35:
                                    case 63275:
                                        b.railh && r ? b.doScrollPos(b.page.maxw, b.page.maxh) : b.doScrollTo(b.page.maxh), i = !0;
                                        break;
                                    case 32:
                                        x.spacebarenabled && (o ? b.doScrollBy(b.view.h) : b.doScrollBy(-b.view.h), i = !0);
                                        break;
                                    case 27:
                                        b.zoomactive && (b.doZoom(), i = !0)
                                }
                                if (i) return b.cancelEvent(e)
                            }
                        }, x.enablekeyboard && b.bind(P, C.isopera && !C.isopera12 ? "keypress" : "keydown", b.onkeypress), b.bind(P, "keydown", function(e) {
                            e.ctrlKey && (b.wheelprevented = !0)
                        }), b.bind(P, "keyup", function(e) {
                            e.ctrlKey || (b.wheelprevented = !1)
                        }), b.bind(B, "blur", function(e) {
                            b.wheelprevented = !1
                        }), b.bind(B, "resize", b.onscreenresize), b.bind(B, "orientationchange", b.onscreenresize), b.bind(B, "load", b.lazyResize), C.ischrome && !b.ispage && !b.haswrapper) {
                        var h = b.win.attr("style"),
                            g = parseFloat(b.win.css("width")) + 1;
                        b.win.css("width", g), b.synched("chromefix", function() {
                            b.win.attr("style", h)
                        })
                    }
                    if (b.onAttributeChange = function(e) {
                            b.lazyResize(b.isieold ? 250 : 30)
                        }, x.enableobserver && (b.isie11 || !1 === M || (b.observerbody = new M(function(e) {
                            if (e.forEach(function(e) {
                                    if ("attributes" == e.type) return w.hasClass("modal-open") && w.hasClass("modal-dialog") && !R.contains(R(".modal-dialog")[0], b.doc[0]) ? b.hide() : b.show()
                                }), b.me.clientWidth != b.page.width || b.me.clientHeight != b.page.height) return b.lazyResize(30)
                        }), b.observerbody.observe(P.body, {
                            childList: !0,
                            subtree: !0,
                            characterData: !1,
                            attributes: !0,
                            attributeFilter: ["class"]
                        })), !b.ispage && !b.haswrapper)) {
                        var v = b.win[0];
                        !1 !== M ? (b.observer = new M(function(e) {
                            e.forEach(b.onAttributeChange)
                        }), b.observer.observe(v, {
                            childList: !0,
                            characterData: !1,
                            attributes: !0,
                            subtree: !1
                        }), b.observerremover = new M(function(e) {
                            e.forEach(function(e) {
                                if (0 < e.removedNodes.length)
                                    for (var t in e.removedNodes)
                                        if (b && e.removedNodes[t] === v) return b.remove()
                            })
                        }), b.observerremover.observe(v.parentNode, {
                            childList: !0,
                            characterData: !1,
                            attributes: !1,
                            subtree: !1
                        })) : (b.bind(v, C.isie && !C.isie9 ? "propertychange" : "DOMAttrModified", b.onAttributeChange), C.isie9 && v.attachEvent("onpropertychange", b.onAttributeChange), b.bind(v, "DOMNodeRemoved", function(e) {
                            e.target === v && b.remove()
                        }))
                    }!b.ispage && x.boxzoom && b.bind(B, "resize", b.resizeZoom), b.istextarea && (b.bind(b.win, "keydown", b.lazyResize), b.bind(b.win, "mouseup", b.lazyResize)), b.lazyResize(30)
                }
                if ("IFRAME" == this.doc[0].nodeName) {
                    var y = function() {
                        var t;
                        b.iframexd = !1;
                        try {
                            (t = "contentDocument" in this ? this.contentDocument : this.contentWindow._doc).domain
                        } catch (e) {
                            t = !(b.iframexd = !0)
                        }
                        if (b.iframexd) return "console" in B && console.log("NiceScroll error: policy restriced iframe"), !0;
                        if (b.forcescreen = !0, b.isiframe && (b.iframe = {
                                doc: R(t),
                                html: b.doc.contents().find("html")[0],
                                body: b.doc.contents().find("body")[0]
                            }, b.getContentSize = function() {
                                return {
                                    w: Math.max(b.iframe.html.scrollWidth, b.iframe.body.scrollWidth),
                                    h: Math.max(b.iframe.html.scrollHeight, b.iframe.body.scrollHeight)
                                }
                            }, b.docscroll = R(b.iframe.body)), !C.isios && x.iframeautoresize && !b.isiframe) {
                            b.win.scrollTop(0), b.doc.height("");
                            var e = Math.max(t.getElementsByTagName("html")[0].scrollHeight, t.body.scrollHeight);
                            b.doc.height(e)
                        }
                        b.lazyResize(30), b.css(R(b.iframe.body), n), C.isios && b.haswrapper && b.css(R(t.body), {
                            "-webkit-transform": "translate3d(0,0,0)"
                        }), "contentWindow" in this ? b.bind(this.contentWindow, "scroll", b.onscroll) : b.bind(t, "scroll", b.onscroll), x.enablemousewheel && b.mousewheel(t, b.onmousewheel), x.enablekeyboard && b.bind(t, C.isopera ? "keypress" : "keydown", b.onkeypress), C.cantouch ? (b.bind(t, "touchstart", b.ontouchstart), b.bind(t, "touchmove", b.ontouchmove)) : x.emulatetouch && (b.bind(t, "mousedown", b.ontouchstart), b.bind(t, "mousemove", function(e) {
                            return b.ontouchmove(e, !0)
                        }), x.grabcursorenabled && C.cursorgrabvalue && b.css(R(t.body), {
                            cursor: C.cursorgrabvalue
                        })), b.bind(t, "mouseup", b.ontouchend), b.zoom && (x.dblclickzoom && b.bind(t, "dblclick", b.doZoom), b.ongesturezoom && b.bind(t, "gestureend", b.ongesturezoom))
                    };
                    this.doc[0].readyState && "complete" === this.doc[0].readyState && setTimeout(function() {
                        y.call(b.doc[0], !1)
                    }, 500), b.bind(this.doc, "load", y)
                }
            }, this.showCursor = function(e, t) {
                if (b.cursortimeout && (clearTimeout(b.cursortimeout), b.cursortimeout = 0), b.rail) {
                    if (b.autohidedom && (b.autohidedom.stop().css({
                            opacity: x.cursoropacitymax
                        }), b.cursoractive = !0), b.rail.drag && 1 == b.rail.drag.pt || (void 0 !== e && !1 !== e && (b.scroll.y = e / b.scrollratio.y | 0), void 0 !== t && (b.scroll.x = t / b.scrollratio.x | 0)), b.cursor.css({
                            height: b.cursorheight,
                            top: b.scroll.y
                        }), b.cursorh) {
                        var n = b.hasreversehr ? b.scrollvaluemaxw - b.scroll.x : b.scroll.x;
                        b.cursorh.css({
                            width: b.cursorwidth,
                            left: !b.rail.align && b.rail.visibility ? n + b.rail.width : n
                        }), b.cursoractive = !0
                    }
                    b.zoom && b.zoom.stop().css({
                        opacity: x.cursoropacitymax
                    })
                }
            }, this.hideCursor = function(e) {
                b.cursortimeout || b.rail && b.autohidedom && (b.hasmousefocus && "leave" === x.autohidemode || (b.cursortimeout = setTimeout(function() {
                    b.rail.active && b.showonmouseevent || (b.autohidedom.stop().animate({
                        opacity: x.cursoropacitymin
                    }), b.zoom && b.zoom.stop().animate({
                        opacity: x.cursoropacitymin
                    }), b.cursoractive = !1), b.cursortimeout = 0
                }, e || x.hidecursordelay)))
            }, this.noticeCursor = function(e, t, n) {
                b.showCursor(t, n), b.rail.active || b.hideCursor(e)
            }, this.getContentSize = b.ispage ? function() {
                return {
                    w: Math.max(P.body.scrollWidth, P.documentElement.scrollWidth),
                    h: Math.max(P.body.scrollHeight, P.documentElement.scrollHeight)
                }
            } : b.haswrapper ? function() {
                return {
                    w: b.doc[0].offsetWidth,
                    h: b.doc[0].offsetHeight
                }
            } : function() {
                return {
                    w: b.docscroll[0].scrollWidth,
                    h: b.docscroll[0].scrollHeight
                }
            }, this.onResize = function(e, t) {
                if (!b || !b.win) return !1;
                var n = b.page.maxh,
                    r = b.page.maxw,
                    o = b.view.h,
                    i = b.view.w;
                if (b.view = {
                        w: b.ispage ? b.win.width() : b.win[0].clientWidth,
                        h: b.ispage ? b.win.height() : b.win[0].clientHeight
                    }, b.page = t || b.getContentSize(), b.page.maxh = Math.max(0, b.page.h - b.view.h), b.page.maxw = Math.max(0, b.page.w - b.view.w), b.page.maxh == n && b.page.maxw == r && b.view.w == i && b.view.h == o) {
                    if (b.ispage) return b;
                    var a = b.win.offset();
                    if (b.lastposition) {
                        var s = b.lastposition;
                        if (s.top == a.top && s.left == a.left) return b
                    }
                    b.lastposition = a
                }
                return 0 === b.page.maxh ? (b.hideRail(), b.scrollvaluemax = 0, b.scroll.y = 0, b.scrollratio.y = 0, b.cursorheight = 0, b.setScrollTop(0), b.rail && (b.rail.scrollable = !1)) : (b.page.maxh -= x.railpadding.top + x.railpadding.bottom, b.rail.scrollable = !0), 0 === b.page.maxw ? (b.hideRailHr(), b.scrollvaluemaxw = 0, b.scroll.x = 0, b.scrollratio.x = 0, b.cursorwidth = 0, b.setScrollLeft(0), b.railh && (b.railh.scrollable = !1)) : (b.page.maxw -= x.railpadding.left + x.railpadding.right, b.railh && (b.railh.scrollable = x.horizrailenabled)), b.railslocked = b.locked || 0 === b.page.maxh && 0 === b.page.maxw, b.railslocked ? (b.ispage || b.updateScrollBar(b.view), !1) : (b.hidden || (b.rail.visibility || b.showRail(), b.railh && !b.railh.visibility && b.showRailHr()), b.istextarea && b.win.css("resize") && "none" != b.win.css("resize") && (b.view.h -= 20), b.cursorheight = Math.min(b.view.h, Math.round(b.view.h * (b.view.h / b.page.h))), b.cursorheight = x.cursorfixedheight ? x.cursorfixedheight : Math.max(x.cursorminheight, b.cursorheight), b.cursorwidth = Math.min(b.view.w, Math.round(b.view.w * (b.view.w / b.page.w))), b.cursorwidth = x.cursorfixedheight ? x.cursorfixedheight : Math.max(x.cursorminheight, b.cursorwidth), b.scrollvaluemax = b.view.h - b.cursorheight - (x.railpadding.top + x.railpadding.bottom), b.hasborderbox || (b.scrollvaluemax -= b.cursor[0].offsetHeight - b.cursor[0].clientHeight), b.railh && (b.railh.width = 0 < b.page.maxh ? b.view.w - b.rail.width : b.view.w, b.scrollvaluemaxw = b.railh.width - b.cursorwidth - (x.railpadding.left + x.railpadding.right)), b.ispage || b.updateScrollBar(b.view), b.scrollratio = {
                    x: b.page.maxw / b.scrollvaluemaxw,
                    y: b.page.maxh / b.scrollvaluemax
                }, b.getScrollTop() > b.page.maxh ? b.doScrollTop(b.page.maxh) : (b.scroll.y = b.getScrollTop() / b.scrollratio.y | 0, b.scroll.x = b.getScrollLeft() / b.scrollratio.x | 0, b.cursoractive && b.noticeCursor()), b.scroll.y && 0 === b.getScrollTop() && b.doScrollTo(b.scroll.y * b.scrollratio.y | 0), b)
            }, this.resize = b.onResize;
            var h = 0;
            this.onscreenresize = function(e) {
                clearTimeout(h);
                var t = !b.ispage && !b.haswrapper;
                t && b.hideRails(), h = setTimeout(function() {
                    b && (t && b.showRails(), b.resize()), h = 0
                }, 120)
            }, this.lazyResize = function(e) {
                return clearTimeout(h), e = isNaN(e) ? 240 : e, h = setTimeout(function() {
                    b && b.resize(), h = 0
                }, e), b
            }, this.jqbind = function(e, t, n) {
                b.events.push({
                    e: e,
                    n: t,
                    f: n,
                    q: !0
                }), R(e).on(t, n)
            };
            var p = !(this.mousewheel = function(e, t, n) {
                var r = "jquery" in e ? e[0] : e;
                if ("onwheel" in P.createElement("div")) b._bind(r, "wheel", t, n || !1);
                else {
                    var o = void 0 !== P.onmousewheel ? "mousewheel" : "DOMMouseScroll";
                    i(r, o, t, n || !1), "DOMMouseScroll" == o && i(r, "MozMousePixelScroll", t, n || !1)
                }
            });
            if (C.haseventlistener) {
                try {
                    var m = Object.defineProperty({}, "passive", {
                        get: function() {
                            p = !0
                        }
                    });
                    B.addEventListener("test", null, m)
                } catch (e) {}
                this.stopPropagation = function(e) {
                    return !!e && ((e = e.original ? e.original : e).stopPropagation(), !1)
                }, this.cancelEvent = function(e) {
                    return e.cancelable && e.preventDefault(), e.stopImmediatePropagation(), e.preventManipulation && e.preventManipulation(), !1
                }
            } else Event.prototype.preventDefault = function() {
                this.returnValue = !1
            }, Event.prototype.stopPropagation = function() {
                this.cancelBubble = !0
            }, B.constructor.prototype.addEventListener = P.constructor.prototype.addEventListener = Element.prototype.addEventListener = function(e, t, n) {
                this.attachEvent("on" + e, t)
            }, B.constructor.prototype.removeEventListener = P.constructor.prototype.removeEventListener = Element.prototype.removeEventListener = function(e, t, n) {
                this.detachEvent("on" + e, t)
            }, this.cancelEvent = function(e) {
                return (e = e || B.event) && (e.cancelBubble = !0, e.cancel = !0, e.returnValue = !1), !1
            }, this.stopPropagation = function(e) {
                return (e = e || B.event) && (e.cancelBubble = !0), !1
            };
            this.delegate = function(e, t, n, r, o) {
                var i = L[t] || !1;
                i || (i = {
                    a: [],
                    l: [],
                    f: function(e) {
                        for (var t = i.l, n = !1, r = t.length - 1; 0 <= r; r--)
                            if (!1 === (n = t[r].call(e.target, e))) return !1;
                        return n
                    }
                }, b.bind(e, t, i.f, r, o), L[t] = i), b.ispage ? (i.a = [b.id].concat(i.a), i.l = [n].concat(i.l)) : (i.a.push(b.id), i.l.push(n))
            }, this.undelegate = function(e, t, n, r, o) {
                var i = L[t] || !1;
                if (i && i.l)
                    for (var a = 0, s = i.l.length; a < s; a++) i.a[a] === b.id && (i.a.splice(a), i.l.splice(a), 0 === i.a.length && (b._unbind(e, t, i.l.f), L[t] = null))
            }, this.bind = function(e, t, n, r, o) {
                var i = "jquery" in e ? e[0] : e;
                b._bind(i, t, n, r || !1, o || !1)
            }, this._bind = function(e, t, n, r, o) {
                b.events.push({
                    e: e,
                    n: t,
                    f: n,
                    b: r,
                    q: !1
                }), p && o ? e.addEventListener(t, n, {
                    passive: !1,
                    capture: r
                }) : e.addEventListener(t, n, r || !1)
            }, this._unbind = function(e, t, n, r) {
                L[t] ? b.undelegate(e, t, n, r) : e.removeEventListener(t, n, r)
            }, this.unbindAll = function() {
                for (var e = 0; e < b.events.length; e++) {
                    var t = b.events[e];
                    t.q ? t.e.unbind(t.n, t.f) : b._unbind(t.e, t.n, t.f, t.b)
                }
            }, this.showRails = function() {
                return b.showRail().showRailHr()
            }, this.showRail = function() {
                return 0 === b.page.maxh || !b.ispage && "none" == b.win.css("display") || (b.rail.visibility = !0, b.rail.css("display", "block")), b
            }, this.showRailHr = function() {
                return b.railh && (0 === b.page.maxw || !b.ispage && "none" == b.win.css("display") || (b.railh.visibility = !0, b.railh.css("display", "block"))), b
            }, this.hideRails = function() {
                return b.hideRail().hideRailHr()
            }, this.hideRail = function() {
                return b.rail.visibility = !1, b.rail.css("display", "none"), b
            }, this.hideRailHr = function() {
                return b.railh && (b.railh.visibility = !1, b.railh.css("display", "none")), b
            }, this.show = function() {
                return b.hidden = !1, b.railslocked = !1, b.showRails()
            }, this.hide = function() {
                return b.hidden = !0, b.railslocked = !0, b.hideRails()
            }, this.toggle = function() {
                return b.hidden ? b.show() : b.hide()
            }, this.remove = function() {
                for (var e in b.stop(), b.cursortimeout && clearTimeout(b.cursortimeout), b.delaylist) b.delaylist[e] && I(b.delaylist[e].h);
                b.doZoomOut(), b.unbindAll(), C.isie9 && b.win[0].detachEvent("onpropertychange", b.onAttributeChange), !1 !== b.observer && b.observer.disconnect(), !1 !== b.observerremover && b.observerremover.disconnect(), !1 !== b.observerbody && b.observerbody.disconnect(), b.events = null, b.cursor && b.cursor.remove(), b.cursorh && b.cursorh.remove(), b.rail && b.rail.remove(), b.railh && b.railh.remove(), b.zoom && b.zoom.remove();
                for (var t = 0; t < b.saved.css.length; t++) {
                    var n = b.saved.css[t];
                    n[0].css(n[1], void 0 === n[2] ? "" : n[2])
                }
                b.saved = !1, b.me.data("__nicescroll", "");
                var r = R.nicescroll;
                for (var o in r.each(function(e) {
                        if (this && this.id === b.id) {
                            delete r[e];
                            for (var t = ++e; t < r.length; t++, e++) r[e] = r[t];
                            --r.length && delete r[r.length]
                        }
                    }), b) b[o] = null, delete b[o];
                b = null
            }, this.scrollstart = function(e) {
                return this.onscrollstart = e, b
            }, this.scrollend = function(e) {
                return this.onscrollend = e, b
            }, this.scrollcancel = function(e) {
                return this.onscrollcancel = e, b
            }, this.zoomin = function(e) {
                return this.onzoomin = e, b
            }, this.zoomout = function(e) {
                return this.onzoomout = e, b
            }, this.isScrollable = function(e) {
                var t = e.target ? e.target : e;
                if ("OPTION" == t.nodeName) return !0;
                for (; t && 1 == t.nodeType && t !== this.me[0] && !/^BODY|HTML/.test(t.nodeName);) {
                    var n = R(t),
                        r = n.css("overflowY") || n.css("overflowX") || n.css("overflow") || "";
                    if (/scroll|auto/.test(r)) return t.clientHeight != t.scrollHeight;
                    t = !!t.parentNode && t.parentNode
                }
                return !1
            }, this.getViewport = function(e) {
                for (var t = !(!e || !e.parentNode) && e.parentNode; t && 1 == t.nodeType && !/^BODY|HTML/.test(t.nodeName);) {
                    var n = R(t);
                    if (/fixed|absolute/.test(n.css("position"))) return n;
                    var r = n.css("overflowY") || n.css("overflowX") || n.css("overflow") || "";
                    if (/scroll|auto/.test(r) && t.clientHeight != t.scrollHeight) return n;
                    if (0 < n.getNiceScroll().length) return n;
                    t = !!t.parentNode && t.parentNode
                }
                return !1
            }, this.triggerScrollStart = function(e, t, n, r, o) {
                if (b.onscrollstart) {
                    var i = {
                        type: "scrollstart",
                        current: {
                            x: e,
                            y: t
                        },
                        request: {
                            x: n,
                            y: r
                        },
                        end: {
                            x: b.newscrollx,
                            y: b.newscrolly
                        },
                        speed: o
                    };
                    b.onscrollstart.call(b, i)
                }
            }, this.triggerScrollEnd = function() {
                if (b.onscrollend) {
                    var e = b.getScrollLeft(),
                        t = b.getScrollTop(),
                        n = {
                            type: "scrollend",
                            current: {
                                x: e,
                                y: t
                            },
                            end: {
                                x: e,
                                y: t
                            }
                        };
                    b.onscrollend.call(b, n)
                }
            };
            var g = 0,
                v = 0,
                y = 0,
                _ = 1,
                S = !1;
            if (this.onmousewheel = function(e) {
                    if (b.wheelprevented || b.locked) return !1;
                    if (b.railslocked) return b.debounced("checkunlock", b.resize, 250), !1;
                    if (b.rail.drag) return b.cancelEvent(e);
                    if ("auto" === x.oneaxismousemode && 0 !== e.deltaX && (x.oneaxismousemode = !1), x.oneaxismousemode && 0 === e.deltaX && !b.rail.scrollable) return !b.railh || !b.railh.scrollable || b.onmousewheelhr(e);
                    var t = $(),
                        n = !1;
                    if (x.preservenativescrolling && b.checkarea + 600 < t && (b.nativescrollingarea = b.isScrollable(e), n = !0), b.checkarea = t, b.nativescrollingarea) return !0;
                    var r = o(e, !1, n);
                    return r && (b.checkarea = 0), r
                }, this.onmousewheelhr = function(e) {
                    if (!b.wheelprevented) {
                        if (b.railslocked || !b.railh.scrollable) return !0;
                        if (b.rail.drag) return b.cancelEvent(e);
                        var t = $(),
                            n = !1;
                        return x.preservenativescrolling && b.checkarea + 600 < t && (b.nativescrollingarea = b.isScrollable(e), n = !0), b.checkarea = t, !!b.nativescrollingarea || (b.railslocked ? b.cancelEvent(e) : o(e, !0, n))
                    }
                }, this.stop = function() {
                    return b.cancelScroll(), b.scrollmon && b.scrollmon.stop(), b.cursorfreezed = !1, b.scroll.y = Math.round(b.getScrollTop() * (1 / b.scrollratio.y)), b.noticeCursor(), b
                }, this.getTransitionSpeed = function(e) {
                    return 80 + e / 72 * x.scrollspeed | 0
                }, x.smoothscroll)
                if (b.ishwscroll && C.hastransition && x.usetransition && x.smoothscroll) {
                    var E = "";
                    this.resetTransition = function() {
                        E = "", b.doc.css(C.prefixstyle + "transition-duration", "0ms")
                    }, this.prepareTransition = function(e, t) {
                        var n = t ? e : b.getTransitionSpeed(e),
                            r = n + "ms";
                        return E !== r && (E = r, b.doc.css(C.prefixstyle + "transition-duration", r)), n
                    }, this.doScrollLeft = function(e, t) {
                        var n = b.scrollrunning ? b.newscrolly : b.getScrollTop();
                        b.doScrollPos(e, n, t)
                    }, this.doScrollTop = function(e, t) {
                        var n = b.scrollrunning ? b.newscrollx : b.getScrollLeft();
                        b.doScrollPos(n, e, t)
                    }, this.cursorupdate = {
                        running: !1,
                        start: function() {
                            var e = this;
                            if (!e.running) {
                                e.running = !0;
                                var t = function() {
                                    e.running && z(t), b.showCursor(b.getScrollTop(), b.getScrollLeft()), b.notifyScrollEvent(b.win[0])
                                };
                                z(t)
                            }
                        },
                        stop: function() {
                            this.running = !1
                        }
                    }, this.doScrollPos = function(e, t, n) {
                        var r = b.getScrollTop(),
                            o = b.getScrollLeft();
                        if (((b.newscrolly - r) * (t - r) < 0 || (b.newscrollx - o) * (e - o) < 0) && b.cancelScroll(), x.bouncescroll ? (t < 0 ? t = t / 2 | 0 : t > b.page.maxh && (t = b.page.maxh + (t - b.page.maxh) / 2 | 0), e < 0 ? e = e / 2 | 0 : e > b.page.maxw && (e = b.page.maxw + (e - b.page.maxw) / 2 | 0)) : (t < 0 ? t = 0 : t > b.page.maxh && (t = b.page.maxh), e < 0 ? e = 0 : e > b.page.maxw && (e = b.page.maxw)), b.scrollrunning && e == b.newscrollx && t == b.newscrolly) return !1;
                        b.newscrolly = t, b.newscrollx = e;
                        var i = b.getScrollTop(),
                            a = b.getScrollLeft(),
                            s = {};
                        s.x = e - a, s.y = t - i;
                        var l = 0 | Math.sqrt(s.x * s.x + s.y * s.y),
                            c = b.prepareTransition(l);
                        b.scrollrunning || (b.scrollrunning = !0, b.triggerScrollStart(a, i, e, t, c), b.cursorupdate.start()), b.scrollendtrapped = !0, C.transitionend || (b.scrollendtrapped && clearTimeout(b.scrollendtrapped), b.scrollendtrapped = setTimeout(b.onScrollTransitionEnd, c)), b.setScrollTop(b.newscrolly), b.setScrollLeft(b.newscrollx)
                    }, this.cancelScroll = function() {
                        if (!b.scrollendtrapped) return !0;
                        var e = b.getScrollTop(),
                            t = b.getScrollLeft();
                        return b.scrollrunning = !1, C.transitionend || clearTimeout(C.transitionend), b.scrollendtrapped = !1, b.resetTransition(), b.setScrollTop(e), b.railh && b.setScrollLeft(t), b.timerscroll && b.timerscroll.tm && clearInterval(b.timerscroll.tm), b.timerscroll = !1, b.cursorfreezed = !1, b.cursorupdate.stop(), b.showCursor(e, t), b
                    }, this.onScrollTransitionEnd = function() {
                        if (b.scrollendtrapped) {
                            var e = b.getScrollTop(),
                                t = b.getScrollLeft();
                            if (e < 0 ? e = 0 : e > b.page.maxh && (e = b.page.maxh), t < 0 ? t = 0 : t > b.page.maxw && (t = b.page.maxw), e != b.newscrolly || t != b.newscrollx) return b.doScrollPos(t, e, x.snapbackspeed);
                            b.scrollrunning && b.triggerScrollEnd(), b.scrollrunning = !1, b.scrollendtrapped = !1, b.resetTransition(), b.timerscroll = !1, b.setScrollTop(e), b.railh && b.setScrollLeft(t), b.cursorupdate.stop(), b.noticeCursor(!1, e, t), b.cursorfreezed = !1
                        }
                    }
                } else this.doScrollLeft = function(e, t) {
                    var n = b.scrollrunning ? b.newscrolly : b.getScrollTop();
                    b.doScrollPos(e, n, t)
                }, this.doScrollTop = function(e, t) {
                    var n = b.scrollrunning ? b.newscrollx : b.getScrollLeft();
                    b.doScrollPos(n, e, t)
                }, this.doScrollPos = function(e, t, n) {
                    var r = b.getScrollTop(),
                        o = b.getScrollLeft();
                    ((b.newscrolly - r) * (t - r) < 0 || (b.newscrollx - o) * (e - o) < 0) && b.cancelScroll();
                    var i = !1;
                    if (b.bouncescroll && b.rail.visibility || (t < 0 ? i = !(t = 0) : t > b.page.maxh && (t = b.page.maxh, i = !0)), b.bouncescroll && b.railh.visibility || (e < 0 ? i = !(e = 0) : e > b.page.maxw && (e = b.page.maxw, i = !0)), b.scrollrunning && b.newscrolly === t && b.newscrollx === e) return !0;
                    b.newscrolly = t, b.newscrollx = e, b.dst = {}, b.dst.x = e - o, b.dst.y = t - r, b.dst.px = o, b.dst.py = r;
                    var a = 0 | Math.sqrt(b.dst.x * b.dst.x + b.dst.y * b.dst.y),
                        s = b.getTransitionSpeed(a);
                    b.bzscroll = {};
                    var l = i ? 1 : .58;
                    b.bzscroll.x = new u(o, b.newscrollx, s, 0, 0, l, 1), b.bzscroll.y = new u(r, b.newscrolly, s, 0, 0, l, 1), $();
                    var c = function() {
                        if (b.scrollrunning) {
                            var e = b.bzscroll.y.getPos();
                            b.setScrollLeft(b.bzscroll.x.getNow()), b.setScrollTop(b.bzscroll.y.getNow()), e <= 1 ? b.timer = z(c) : (b.scrollrunning = !1, b.timer = 0, b.triggerScrollEnd())
                        }
                    };
                    b.scrollrunning || (b.triggerScrollStart(o, r, e, t, s), b.scrollrunning = !0, b.timer = z(c))
                }, this.cancelScroll = function() {
                    return b.timer && I(b.timer), b.timer = 0, b.bzscroll = !1, b.scrollrunning = !1, b
                };
            else this.doScrollLeft = function(e, t) {
                var n = b.getScrollTop();
                b.doScrollPos(e, n, t)
            }, this.doScrollTop = function(e, t) {
                var n = b.getScrollLeft();
                b.doScrollPos(n, e, t)
            }, this.doScrollPos = function(e, t, n) {
                var r = e > b.page.maxw ? b.page.maxw : e;
                r < 0 && (r = 0);
                var o = t > b.page.maxh ? b.page.maxh : t;
                o < 0 && (o = 0), b.synched("scroll", function() {
                    b.setScrollTop(o), b.setScrollLeft(r)
                })
            }, this.cancelScroll = function() {};
            this.doScrollBy = function(e, t) {
                s(0, e)
            }, this.doScrollLeftBy = function(e, t) {
                s(e, 0)
            }, this.doScrollTo = function(e, t) {
                var n = t ? Math.round(e * b.scrollratio.y) : e;
                n < 0 ? n = 0 : n > b.page.maxh && (n = b.page.maxh), b.cursorfreezed = !1, b.doScrollTop(e)
            }, this.checkContentSize = function() {
                var e = b.getContentSize();
                e.h == b.page.h && e.w == b.page.w || b.resize(!1, e)
            }, b.onscroll = function(e) {
                b.rail.drag || b.cursorfreezed || b.synched("scroll", function() {
                    b.scroll.y = Math.round(b.getScrollTop() / b.scrollratio.y), b.railh && (b.scroll.x = Math.round(b.getScrollLeft() / b.scrollratio.x)), b.noticeCursor()
                })
            }, b.bind(b.docscroll, "scroll", b.onscroll), this.doZoomIn = function(e) {
                if (!b.zoomactive) {
                    b.zoomactive = !0, b.zoomrestore = {
                        style: {}
                    };
                    var t = ["position", "top", "left", "zIndex", "backgroundColor", "marginTop", "marginBottom", "marginLeft", "marginRight"],
                        n = b.win[0].style;
                    for (var r in t) {
                        var o = t[r];
                        b.zoomrestore.style[o] = void 0 !== n[o] ? n[o] : ""
                    }
                    b.zoomrestore.style.width = b.win.css("width"), b.zoomrestore.style.height = b.win.css("height"), b.zoomrestore.padding = {
                        w: b.win.outerWidth() - b.win.width(),
                        h: b.win.outerHeight() - b.win.height()
                    }, C.isios4 && (b.zoomrestore.scrollTop = D.scrollTop(), D.scrollTop(0)), b.win.css({
                        position: C.isios4 ? "absolute" : "fixed",
                        top: 0,
                        left: 0,
                        zIndex: O + 100,
                        margin: 0
                    });
                    var i = b.win.css("backgroundColor");
                    return ("" === i || /transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(i)) && b.win.css("backgroundColor", "#fff"), b.rail.css({
                        zIndex: O + 101
                    }), b.zoom.css({
                        zIndex: O + 102
                    }), b.zoom.css("backgroundPosition", "0 -18px"), b.resizeZoom(), b.onzoomin && b.onzoomin.call(b), b.cancelEvent(e)
                }
            }, this.doZoomOut = function(e) {
                if (b.zoomactive) return b.zoomactive = !1, b.win.css("margin", ""), b.win.css(b.zoomrestore.style), C.isios4 && D.scrollTop(b.zoomrestore.scrollTop), b.rail.css({
                    "z-index": b.zindex
                }), b.zoom.css({
                    "z-index": b.zindex
                }), b.zoomrestore = !1, b.zoom.css("backgroundPosition", "0 0"), b.onResize(), b.onzoomout && b.onzoomout.call(b), b.cancelEvent(e)
            }, this.doZoom = function(e) {
                return b.zoomactive ? b.doZoomOut(e) : b.doZoomIn(e)
            }, this.resizeZoom = function() {
                if (b.zoomactive) {
                    var e = b.getScrollTop();
                    b.win.css({
                        width: D.width() - b.zoomrestore.padding.w + "px",
                        height: D.height() - b.zoomrestore.padding.h + "px"
                    }), b.onResize(), b.setScrollTop(Math.min(b.page.maxh, e))
                }
            }, this.init(), R.nicescroll.push(this)
        },
        H = function(e) {
            var m = this;
            this.nc = e, this.lastx = 0, this.lasty = 0, this.speedx = 0, this.speedy = 0, this.lasttime = 0, this.steptime = 0, this.snapx = !1, this.snapy = !1, this.demulx = 0, this.demuly = 0, this.lastscrollx = -1, this.lastscrolly = -1, this.chkx = 0, this.chky = 0, this.timer = 0, this.reset = function(e, t) {
                m.stop(), m.steptime = 0, m.lasttime = $(), m.speedx = 0, m.speedy = 0, m.lastx = e, m.lasty = t, m.lastscrollx = -1, m.lastscrolly = -1
            }, this.update = function(e, t) {
                var n = $();
                m.steptime = n - m.lasttime, m.lasttime = n;
                var r = t - m.lasty,
                    o = e - m.lastx,
                    i = m.nc.getScrollTop() + r,
                    a = m.nc.getScrollLeft() + o;
                m.snapx = a < 0 || a > m.nc.page.maxw, m.snapy = i < 0 || i > m.nc.page.maxh, m.speedx = o, m.speedy = r, m.lastx = e, m.lasty = t
            }, this.stop = function() {
                m.nc.unsynched("domomentum2d"), m.timer && clearTimeout(m.timer), m.timer = 0, m.lastscrollx = -1, m.lastscrolly = -1
            }, this.doSnapy = function(e, t) {
                var n = !1;
                t < 0 ? n = !(t = 0) : t > m.nc.page.maxh && (t = m.nc.page.maxh, n = !0), e < 0 ? n = !(e = 0) : e > m.nc.page.maxw && (e = m.nc.page.maxw, n = !0), n ? m.nc.doScrollPos(e, t, m.nc.opt.snapbackspeed) : m.nc.triggerScrollEnd()
            }, this.doMomentum = function(e) {
                var t = $(),
                    n = e ? t + e : m.lasttime,
                    r = m.nc.getScrollLeft(),
                    o = m.nc.getScrollTop(),
                    i = m.nc.page.maxh,
                    a = m.nc.page.maxw;
                m.speedx = 0 < a ? Math.min(60, m.speedx) : 0, m.speedy = 0 < i ? Math.min(60, m.speedy) : 0;
                var s = n && t - n <= 60;
                (o < 0 || i < o || r < 0 || a < r) && (s = !1);
                var l = !(!m.speedy || !s) && m.speedy,
                    c = !(!m.speedx || !s) && m.speedx;
                if (l || c) {
                    var u = Math.max(16, m.steptime);
                    if (50 < u) {
                        var d = u / 50;
                        m.speedx *= d, m.speedy *= d, u = 50
                    }
                    m.demulxy = 0, m.lastscrollx = m.nc.getScrollLeft(), m.chkx = m.lastscrollx, m.lastscrolly = m.nc.getScrollTop(), m.chky = m.lastscrolly;
                    var f = m.lastscrollx,
                        h = m.lastscrolly,
                        p = function() {
                            var e = 600 < $() - t ? .04 : .02;
                            m.speedx && (f = Math.floor(m.lastscrollx - m.speedx * (1 - m.demulxy)), ((m.lastscrollx = f) < 0 || a < f) && (e = .1)), m.speedy && (h = Math.floor(m.lastscrolly - m.speedy * (1 - m.demulxy)), ((m.lastscrolly = h) < 0 || i < h) && (e = .1)), m.demulxy = Math.min(1, m.demulxy + e), m.nc.synched("domomentum2d", function() {
                                m.speedx && (m.nc.getScrollLeft(), m.chkx = f, m.nc.setScrollLeft(f)), m.speedy && (m.nc.getScrollTop(), m.chky = h, m.nc.setScrollTop(h)), m.timer || (m.nc.hideCursor(), m.doSnapy(f, h))
                            }), m.demulxy < 1 ? m.timer = setTimeout(p, u) : (m.stop(), m.nc.hideCursor(), m.doSnapy(f, h))
                        };
                    p()
                } else m.doSnapy(m.nc.getScrollLeft(), m.nc.getScrollTop())
            }
        },
        o = e.fn.scrollTop;
    e.cssHooks.pageYOffset = {
        get: function(e, t, n) {
            var r = R.data(e, "__nicescroll") || !1;
            return r && r.ishwscroll ? r.getScrollTop() : o.call(e)
        },
        set: function(e, t) {
            var n = R.data(e, "__nicescroll") || !1;
            return n && n.ishwscroll ? n.setScrollTop(parseInt(t)) : o.call(e, t), this
        }
    }, e.fn.scrollTop = function(t) {
        if (void 0 !== t) return this.each(function() {
            var e = R.data(this, "__nicescroll") || !1;
            e && e.ishwscroll ? e.setScrollTop(parseInt(t)) : o.call(R(this), t)
        });
        var e = !!this[0] && (R.data(this[0], "__nicescroll") || !1);
        return e && e.ishwscroll ? e.getScrollTop() : o.call(this)
    };
    var a = e.fn.scrollLeft;
    R.cssHooks.pageXOffset = {
        get: function(e, t, n) {
            var r = R.data(e, "__nicescroll") || !1;
            return r && r.ishwscroll ? r.getScrollLeft() : a.call(e)
        },
        set: function(e, t) {
            var n = R.data(e, "__nicescroll") || !1;
            return n && n.ishwscroll ? n.setScrollLeft(parseInt(t)) : a.call(e, t), this
        }
    }, e.fn.scrollLeft = function(t) {
        if (void 0 !== t) return this.each(function() {
            var e = R.data(this, "__nicescroll") || !1;
            e && e.ishwscroll ? e.setScrollLeft(parseInt(t)) : a.call(R(this), t)
        });
        var e = !!this[0] && (R.data(this[0], "__nicescroll") || !1);
        return e && e.ishwscroll ? e.getScrollLeft() : a.call(this)
    };
    var l = function(e) {
        var t = this;
        if (this.length = 0, this.name = "nicescrollarray", this.each = function(e) {
                return R.each(t, e), t
            }, this.push = function(e) {
                t[t.length] = e, t.length++
            }, this.eq = function(e) {
                return t[e]
            }, e)
            for (var n = 0; n < e.length; n++) {
                var r = R.data(e[n], "__nicescroll") || !1;
                r && (this[this.length] = r, this.length++)
            }
        return this
    };
    ! function(e, t, n) {
        for (var r = 0, o = t.length; r < o; r++) n(e, t[r])
    }(l.prototype, ["show", "hide", "toggle", "onResize", "resize", "remove", "stop", "doScrollPos"], function(e, t) {
        e[t] = function() {
            var e = arguments;
            return this.each(function() {
                this[t].apply(this, e)
            })
        }
    }), e.fn.getNiceScroll = function(e) {
        return void 0 === e ? new l(this) : this[e] && R.data(this[e], "__nicescroll") || !1
    }, (e.expr.pseudos || e.expr[":"]).nicescroll = function(e) {
        return void 0 !== R.data(e, "__nicescroll")
    }, R.fn.niceScroll = function(o, i) {
        void 0 !== i || "object" != typeof o || "jquery" in o || (i = o, o = !1);
        var a = new l;
        return this.each(function() {
            var e = R(this),
                t = R.extend({}, i);
            if (o) {
                var n = R(o);
                t.doc = 1 < n.length ? R(o, e) : n, t.win = e
            }!("doc" in t) || "win" in t || (t.win = e);
            var r = e.data("__nicescroll") || !1;
            r || (t.doc = t.doc || e, r = new s(t, e), e.data("__nicescroll", r)), a.push(r)
        }), 1 === a.length ? a[0] : a
    }, B.NiceScroll = {
        getjQuery: function() {
            return e
        }
    }, R.nicescroll || (R.nicescroll = new l, R.nicescroll.options = F)
}),
function(l, n, o, i) {
    function c(e, t) {
        this.settings = null, this.options = l.extend({}, c.Defaults, t), this.$element = l(e), this._handlers = {}, this._plugins = {}, this._supress = {}, this._current = null, this._speed = null, this._coordinates = [], this._breakpoint = null, this._width = null, this._items = [], this._clones = [], this._mergers = [], this._widths = [], this._invalidated = {}, this._pipe = [], this._drag = {
            time: null,
            target: null,
            pointer: null,
            stage: {
                start: null,
                current: null
            },
            direction: null
        }, this._states = {
            current: {},
            tags: {
                initializing: ["busy"],
                animating: ["busy"],
                dragging: ["interacting"]
            }
        }, l.each(["onResize", "onThrottledResize"], l.proxy(function(e, t) {
            this._handlers[t] = l.proxy(this[t], this)
        }, this)), l.each(c.Plugins, l.proxy(function(e, t) {
            this._plugins[e.charAt(0).toLowerCase() + e.slice(1)] = new t(this)
        }, this)), l.each(c.Workers, l.proxy(function(e, t) {
            this._pipe.push({
                filter: t.filter,
                run: l.proxy(t.run, this)
            })
        }, this)), this.setup(), this.initialize()
    }
    c.Defaults = {
        items: 3,
        loop: !1,
        center: !1,
        rewind: !1,
        mouseDrag: !0,
        touchDrag: !0,
        pullDrag: !0,
        freeDrag: !1,
        margin: 0,
        stagePadding: 0,
        merge: !1,
        mergeFit: !0,
        autoWidth: !1,
        startPosition: 0,
        rtl: !1,
        smartSpeed: 250,
        fluidSpeed: !1,
        dragEndSpeed: !1,
        responsive: {},
        responsiveRefreshRate: 200,
        responsiveBaseElement: n,
        fallbackEasing: "swing",
        info: !1,
        nestedItemSelector: !1,
        itemElement: "div",
        stageElement: "div",
        refreshClass: "owl-refresh",
        loadedClass: "owl-loaded",
        loadingClass: "owl-loading",
        rtlClass: "owl-rtl",
        responsiveClass: "owl-responsive",
        dragClass: "owl-drag",
        itemClass: "owl-item",
        stageClass: "owl-stage",
        stageOuterClass: "owl-stage-outer",
        grabClass: "owl-grab"
    }, c.Width = {
        Default: "default",
        Inner: "inner",
        Outer: "outer"
    }, c.Type = {
        Event: "event",
        State: "state"
    }, c.Plugins = {}, c.Workers = [{
        filter: ["width", "settings"],
        run: function() {
            this._width = this.$element.width()
        }
    }, {
        filter: ["width", "items", "settings"],
        run: function(e) {
            e.current = this._items && this._items[this.relative(this._current)]
        }
    }, {
        filter: ["items", "settings"],
        run: function() {
            this.$stage.children(".cloned").remove()
        }
    }, {
        filter: ["width", "items", "settings"],
        run: function(e) {
            var t = this.settings.margin || "",
                n = !this.settings.autoWidth,
                r = this.settings.rtl,
                o = {
                    width: "auto",
                    "margin-left": r ? t : "",
                    "margin-right": r ? "" : t
                };
            !n && this.$stage.children().css(o), e.css = o
        }
    }, {
        filter: ["width", "items", "settings"],
        run: function(e) {
            var t = (this.width() / this.settings.items).toFixed(3) - this.settings.margin,
                n = null,
                r = this._items.length,
                o = !this.settings.autoWidth,
                i = [];
            for (e.items = {
                    merge: !1,
                    width: t
                }; r--;) n = this._mergers[r], n = this.settings.mergeFit && Math.min(n, this.settings.items) || n, e.items.merge = 1 < n || e.items.merge, i[r] = o ? t * n : this._items[r].width();
            this._widths = i
        }
    }, {
        filter: ["items", "settings"],
        run: function() {
            var e = [],
                t = this._items,
                n = this.settings,
                r = Math.max(2 * n.items, 4),
                o = 2 * Math.ceil(t.length / 2),
                i = n.loop && t.length ? n.rewind ? r : Math.max(r, o) : 0,
                a = "",
                s = "";
            for (i /= 2; i--;) e.push(this.normalize(e.length / 2, !0)), a += t[e[e.length - 1]][0].outerHTML, e.push(this.normalize(t.length - 1 - (e.length - 1) / 2, !0)), s = t[e[e.length - 1]][0].outerHTML + s;
            this._clones = e, l(a).addClass("cloned").appendTo(this.$stage), l(s).addClass("cloned").prependTo(this.$stage)
        }
    }, {
        filter: ["width", "items", "settings"],
        run: function() {
            for (var e = this.settings.rtl ? 1 : -1, t = this._clones.length + this._items.length, n = -1, r = 0, o = 0, i = []; ++n < t;) r = i[n - 1] || 0, o = this._widths[this.relative(n)] + this.settings.margin, i.push(r + o * e);
            this._coordinates = i
        }
    }, {
        filter: ["width", "items", "settings"],
        run: function() {
            var e = this.settings.stagePadding,
                t = this._coordinates,
                n = {
                    width: Math.ceil(Math.abs(t[t.length - 1])) + 2 * e,
                    "padding-left": e || "",
                    "padding-right": e || ""
                };
            this.$stage.css(n)
        }
    }, {
        filter: ["width", "items", "settings"],
        run: function(e) {
            var t = this._coordinates.length,
                n = !this.settings.autoWidth,
                r = this.$stage.children();
            if (n && e.items.merge)
                for (; t--;) e.css.width = this._widths[this.relative(t)], r.eq(t).css(e.css);
            else n && (e.css.width = e.items.width, r.css(e.css))
        }
    }, {
        filter: ["items"],
        run: function() {
            this._coordinates.length < 1 && this.$stage.removeAttr("style")
        }
    }, {
        filter: ["width", "items", "settings"],
        run: function(e) {
            e.current = e.current ? this.$stage.children().index(e.current) : 0, e.current = Math.max(this.minimum(), Math.min(this.maximum(), e.current)), this.reset(e.current)
        }
    }, {
        filter: ["position"],
        run: function() {
            this.animate(this.coordinates(this._current))
        }
    }, {
        filter: ["width", "position", "items", "settings"],
        run: function() {
            var e, t, n, r, o = this.settings.rtl ? 1 : -1,
                i = 2 * this.settings.stagePadding,
                a = this.coordinates(this.current()) + i,
                s = a + this.width() * o,
                l = [];
            for (n = 0, r = this._coordinates.length; n < r; n++) e = this._coordinates[n - 1] || 0, t = Math.abs(this._coordinates[n]) + i * o, (this.op(e, "<=", a) && this.op(e, ">", s) || this.op(t, "<", a) && this.op(t, ">", s)) && l.push(n);
            this.$stage.children(".active").removeClass("active"), this.$stage.children(":eq(" + l.join("), :eq(") + ")").addClass("active"), this.settings.center && (this.$stage.children(".center").removeClass("center"), this.$stage.children().eq(this.current()).addClass("center"))
        }
    }], c.prototype.initialize = function() {
        var e, t, n;
        (this.enter("initializing"), this.trigger("initialize"), this.$element.toggleClass(this.settings.rtlClass, this.settings.rtl), this.settings.autoWidth && !this.is("pre-loading")) && (e = this.$element.find("img"), t = this.settings.nestedItemSelector ? "." + this.settings.nestedItemSelector : i, n = this.$element.children(t).width(), e.length && n <= 0 && this.preloadAutoWidthImages(e));
        this.$element.addClass(this.options.loadingClass), this.$stage = l("<" + this.settings.stageElement + ' class="' + this.settings.stageClass + '"/>').wrap('<div class="' + this.settings.stageOuterClass + '"/>'), this.$element.append(this.$stage.parent()), this.replace(this.$element.children().not(this.$stage.parent())), this.$element.is(":visible") ? this.refresh() : this.invalidate("width"), this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass), this.registerEventHandlers(), this.leave("initializing"), this.trigger("initialized")
    }, c.prototype.setup = function() {
        var t = this.viewport(),
            e = this.options.responsive,
            n = -1,
            r = null;
        e ? (l.each(e, function(e) {
            e <= t && n < e && (n = Number(e))
        }), "function" == typeof(r = l.extend({}, this.options, e[n])).stagePadding && (r.stagePadding = r.stagePadding()), delete r.responsive, r.responsiveClass && this.$element.attr("class", this.$element.attr("class").replace(new RegExp("(" + this.options.responsiveClass + "-)\\S+\\s", "g"), "$1" + n))) : r = l.extend({}, this.options), this.trigger("change", {
            property: {
                name: "settings",
                value: r
            }
        }), this._breakpoint = n, this.settings = r, this.invalidate("settings"), this.trigger("changed", {
            property: {
                name: "settings",
                value: this.settings
            }
        })
    }, c.prototype.optionsLogic = function() {
        this.settings.autoWidth && (this.settings.stagePadding = !1, this.settings.merge = !1)
    }, c.prototype.prepare = function(e) {
        var t = this.trigger("prepare", {
            content: e
        });
        return t.data || (t.data = l("<" + this.settings.itemElement + "/>").addClass(this.options.itemClass).append(e)), this.trigger("prepared", {
            content: t.data
        }), t.data
    }, c.prototype.update = function() {
        for (var e = 0, t = this._pipe.length, n = l.proxy(function(e) {
                return this[e]
            }, this._invalidated), r = {}; e < t;)(this._invalidated.all || 0 < l.grep(this._pipe[e].filter, n).length) && this._pipe[e].run(r), e++;
        this._invalidated = {}, !this.is("valid") && this.enter("valid")
    }, c.prototype.width = function(e) {
        switch (e = e || c.Width.Default) {
            case c.Width.Inner:
            case c.Width.Outer:
                return this._width;
            default:
                return this._width - 2 * this.settings.stagePadding + this.settings.margin
        }
    }, c.prototype.refresh = function() {
        this.enter("refreshing"), this.trigger("refresh"), this.setup(), this.optionsLogic(), this.$element.addClass(this.options.refreshClass), this.update(), this.$element.removeClass(this.options.refreshClass), this.leave("refreshing"), this.trigger("refreshed")
    }, c.prototype.onThrottledResize = function() {
        n.clearTimeout(this.resizeTimer), this.resizeTimer = n.setTimeout(this._handlers.onResize, this.settings.responsiveRefreshRate)
    }, c.prototype.onResize = function() {
        return !!this._items.length && this._width !== this.$element.width() && !!this.$element.is(":visible") && (this.enter("resizing"), this.trigger("resize").isDefaultPrevented() ? (this.leave("resizing"), !1) : (this.invalidate("width"), this.refresh(), this.leave("resizing"), void this.trigger("resized")))
    }, c.prototype.registerEventHandlers = function() {
        l.support.transition && this.$stage.on(l.support.transition.end + ".owl.core", l.proxy(this.onTransitionEnd, this)), !1 !== this.settings.responsive && this.on(n, "resize", this._handlers.onThrottledResize), this.settings.mouseDrag && (this.$element.addClass(this.options.dragClass), this.$stage.on("mousedown.owl.core", l.proxy(this.onDragStart, this)), this.$stage.on("dragstart.owl.core selectstart.owl.core", function() {
            return !1
        })), this.settings.touchDrag && (this.$stage.on("touchstart.owl.core", l.proxy(this.onDragStart, this)), this.$stage.on("touchcancel.owl.core", l.proxy(this.onDragEnd, this)))
    }, c.prototype.onDragStart = function(e) {
        var t = null;
        3 !== e.which && (t = l.support.transform ? {
            x: (t = this.$stage.css("transform").replace(/.*\(|\)| /g, "").split(","))[16 === t.length ? 12 : 4],
            y: t[16 === t.length ? 13 : 5]
        } : (t = this.$stage.position(), {
            x: this.settings.rtl ? t.left + this.$stage.width() - this.width() + this.settings.margin : t.left,
            y: t.top
        }), this.is("animating") && (l.support.transform ? this.animate(t.x) : this.$stage.stop(), this.invalidate("position")), this.$element.toggleClass(this.options.grabClass, "mousedown" === e.type), this.speed(0), this._drag.time = (new Date).getTime(), this._drag.target = l(e.target), this._drag.stage.start = t, this._drag.stage.current = t, this._drag.pointer = this.pointer(e), l(o).on("mouseup.owl.core touchend.owl.core", l.proxy(this.onDragEnd, this)), l(o).one("mousemove.owl.core touchmove.owl.core", l.proxy(function(e) {
            var t = this.difference(this._drag.pointer, this.pointer(e));
            l(o).on("mousemove.owl.core touchmove.owl.core", l.proxy(this.onDragMove, this)), Math.abs(t.x) < Math.abs(t.y) && this.is("valid") || (e.preventDefault(), this.enter("dragging"), this.trigger("drag"))
        }, this)))
    }, c.prototype.onDragMove = function(e) {
        var t = null,
            n = null,
            r = null,
            o = this.difference(this._drag.pointer, this.pointer(e)),
            i = this.difference(this._drag.stage.start, o);
        this.is("dragging") && (e.preventDefault(), this.settings.loop ? (t = this.coordinates(this.minimum()), n = this.coordinates(this.maximum() + 1) - t, i.x = ((i.x - t) % n + n) % n + t) : (t = this.settings.rtl ? this.coordinates(this.maximum()) : this.coordinates(this.minimum()), n = this.settings.rtl ? this.coordinates(this.minimum()) : this.coordinates(this.maximum()), r = this.settings.pullDrag ? -1 * o.x / 5 : 0, i.x = Math.max(Math.min(i.x, t + r), n + r)), this._drag.stage.current = i, this.animate(i.x))
    }, c.prototype.onDragEnd = function(e) {
        var t = this.difference(this._drag.pointer, this.pointer(e)),
            n = this._drag.stage.current,
            r = 0 < t.x ^ this.settings.rtl ? "left" : "right";
        l(o).off(".owl.core"), this.$element.removeClass(this.options.grabClass), (0 !== t.x && this.is("dragging") || !this.is("valid")) && (this.speed(this.settings.dragEndSpeed || this.settings.smartSpeed), this.current(this.closest(n.x, 0 !== t.x ? r : this._drag.direction)), this.invalidate("position"), this.update(), this._drag.direction = r, (3 < Math.abs(t.x) || 300 < (new Date).getTime() - this._drag.time) && this._drag.target.one("click.owl.core", function() {
            return !1
        })), this.is("dragging") && (this.leave("dragging"), this.trigger("dragged"))
    }, c.prototype.closest = function(n, r) {
        var o = -1,
            i = this.width(),
            a = this.coordinates();
        return this.settings.freeDrag || l.each(a, l.proxy(function(e, t) {
            return "left" === r && t - 30 < n && n < t + 30 ? o = e : "right" === r && t - i - 30 < n && n < t - i + 30 ? o = e + 1 : this.op(n, "<", t) && this.op(n, ">", a[e + 1] || t - i) && (o = "left" === r ? e + 1 : e), -1 === o
        }, this)), this.settings.loop || (this.op(n, ">", a[this.minimum()]) ? o = n = this.minimum() : this.op(n, "<", a[this.maximum()]) && (o = n = this.maximum())), o
    }, c.prototype.animate = function(e) {
        var t = 0 < this.speed();
        this.is("animating") && this.onTransitionEnd(), t && (this.enter("animating"), this.trigger("translate")), l.support.transform3d && l.support.transition ? this.$stage.css({
            transform: "translate3d(" + e + "px,0px,0px)",
            transition: this.speed() / 1e3 + "s"
        }) : t ? this.$stage.animate({
            left: e + "px"
        }, this.speed(), this.settings.fallbackEasing, l.proxy(this.onTransitionEnd, this)) : this.$stage.css({
            left: e + "px"
        })
    }, c.prototype.is = function(e) {
        return this._states.current[e] && 0 < this._states.current[e]
    }, c.prototype.current = function(e) {
        if (e === i) return this._current;
        if (0 === this._items.length) return i;
        if (e = this.normalize(e), this._current !== e) {
            var t = this.trigger("change", {
                property: {
                    name: "position",
                    value: e
                }
            });
            t.data !== i && (e = this.normalize(t.data)), this._current = e, this.invalidate("position"), this.trigger("changed", {
                property: {
                    name: "position",
                    value: this._current
                }
            })
        }
        return this._current
    }, c.prototype.invalidate = function(e) {
        return "string" === l.type(e) && (this._invalidated[e] = !0, this.is("valid") && this.leave("valid")), l.map(this._invalidated, function(e, t) {
            return t
        })
    }, c.prototype.reset = function(e) {
        (e = this.normalize(e)) !== i && (this._speed = 0, this._current = e, this.suppress(["translate", "translated"]), this.animate(this.coordinates(e)), this.release(["translate", "translated"]))
    }, c.prototype.normalize = function(e, t) {
        var n = this._items.length,
            r = t ? 0 : this._clones.length;
        return !this.isNumeric(e) || n < 1 ? e = i : (e < 0 || n + r <= e) && (e = ((e - r / 2) % n + n) % n + r / 2), e
    }, c.prototype.relative = function(e) {
        return e -= this._clones.length / 2, this.normalize(e, !0)
    }, c.prototype.maximum = function(e) {
        var t, n, r, o = this.settings,
            i = this._coordinates.length;
        if (o.loop) i = this._clones.length / 2 + this._items.length - 1;
        else if (o.autoWidth || o.merge) {
            for (t = this._items.length, n = this._items[--t].width(), r = this.$element.width(); t-- && !((n += this._items[t].width() + this.settings.margin) > r););
            i = t + 1
        } else i = o.center ? this._items.length - 1 : this._items.length - o.items;
        return e && (i -= this._clones.length / 2), Math.max(i, 0)
    }, c.prototype.minimum = function(e) {
        return e ? 0 : this._clones.length / 2
    }, c.prototype.items = function(e) {
        return e === i ? this._items.slice() : (e = this.normalize(e, !0), this._items[e])
    }, c.prototype.mergers = function(e) {
        return e === i ? this._mergers.slice() : (e = this.normalize(e, !0), this._mergers[e])
    }, c.prototype.clones = function(n) {
        var t = this._clones.length / 2,
            r = t + this._items.length,
            o = function(e) {
                return e % 2 == 0 ? r + e / 2 : t - (e + 1) / 2
            };
        return n === i ? l.map(this._clones, function(e, t) {
            return o(t)
        }) : l.map(this._clones, function(e, t) {
            return e === n ? o(t) : null
        })
    }, c.prototype.speed = function(e) {
        return e !== i && (this._speed = e), this._speed
    }, c.prototype.coordinates = function(e) {
        var t, n = 1,
            r = e - 1;
        return e === i ? l.map(this._coordinates, l.proxy(function(e, t) {
            return this.coordinates(t)
        }, this)) : (this.settings.center ? (this.settings.rtl && (n = -1, r = e + 1), t = this._coordinates[e], t += (this.width() - t + (this._coordinates[r] || 0)) / 2 * n) : t = this._coordinates[r] || 0, t = Math.ceil(t))
    }, c.prototype.duration = function(e, t, n) {
        return 0 === n ? 0 : Math.min(Math.max(Math.abs(t - e), 1), 6) * Math.abs(n || this.settings.smartSpeed)
    }, c.prototype.to = function(e, t) {
        var n = this.current(),
            r = null,
            o = e - this.relative(n),
            i = (0 < o) - (o < 0),
            a = this._items.length,
            s = this.minimum(),
            l = this.maximum();
        this.settings.loop ? (!this.settings.rewind && Math.abs(o) > a / 2 && (o += -1 * i * a), (r = (((e = n + o) - s) % a + a) % a + s) !== e && r - o <= l && 0 < r - o && (n = r - o, e = r, this.reset(n))) : e = this.settings.rewind ? (e % (l += 1) + l) % l : Math.max(s, Math.min(l, e)), this.speed(this.duration(n, e, t)), this.current(e), this.$element.is(":visible") && this.update()
    }, c.prototype.next = function(e) {
        e = e || !1, this.to(this.relative(this.current()) + 1, e)
    }, c.prototype.prev = function(e) {
        e = e || !1, this.to(this.relative(this.current()) - 1, e)
    }, c.prototype.onTransitionEnd = function(e) {
        if (e !== i && (e.stopPropagation(), (e.target || e.srcElement || e.originalTarget) !== this.$stage.get(0))) return !1;
        this.leave("animating"), this.trigger("translated")
    }, c.prototype.viewport = function() {
        var e;
        return this.options.responsiveBaseElement !== n ? e = l(this.options.responsiveBaseElement).width() : n.innerWidth ? e = n.innerWidth : o.documentElement && o.documentElement.clientWidth ? e = o.documentElement.clientWidth : console.warn("Can not detect viewport width."), e
    }, c.prototype.replace = function(e) {
        this.$stage.empty(), this._items = [], e && (e = e instanceof jQuery ? e : l(e)), this.settings.nestedItemSelector && (e = e.find("." + this.settings.nestedItemSelector)), e.filter(function() {
            return 1 === this.nodeType
        }).each(l.proxy(function(e, t) {
            t = this.prepare(t), this.$stage.append(t), this._items.push(t), this._mergers.push(1 * t.find("[data-merge]").addBack("[data-merge]").attr("data-merge") || 1)
        }, this)), this.reset(this.isNumeric(this.settings.startPosition) ? this.settings.startPosition : 0), this.invalidate("items")
    }, c.prototype.add = function(e, t) {
        var n = this.relative(this._current);
        t = t === i ? this._items.length : this.normalize(t, !0), e = e instanceof jQuery ? e : l(e), this.trigger("add", {
            content: e,
            position: t
        }), e = this.prepare(e), 0 === this._items.length || t === this._items.length ? (0 === this._items.length && this.$stage.append(e), 0 !== this._items.length && this._items[t - 1].after(e), this._items.push(e), this._mergers.push(1 * e.find("[data-merge]").addBack("[data-merge]").attr("data-merge") || 1)) : (this._items[t].before(e), this._items.splice(t, 0, e), this._mergers.splice(t, 0, 1 * e.find("[data-merge]").addBack("[data-merge]").attr("data-merge") || 1)), this._items[n] && this.reset(this._items[n].index()), this.invalidate("items"), this.trigger("added", {
            content: e,
            position: t
        })
    }, c.prototype.remove = function(e) {
        (e = this.normalize(e, !0)) !== i && (this.trigger("remove", {
            content: this._items[e],
            position: e
        }), this._items[e].remove(), this._items.splice(e, 1), this._mergers.splice(e, 1), this.invalidate("items"), this.trigger("removed", {
            content: null,
            position: e
        }))
    }, c.prototype.preloadAutoWidthImages = function(e) {
        e.each(l.proxy(function(e, t) {
            this.enter("pre-loading"), t = l(t), l(new Image).one("load", l.proxy(function(e) {
                t.attr("src", e.target.src), t.css("opacity", 1), this.leave("pre-loading"), !this.is("pre-loading") && !this.is("initializing") && this.refresh()
            }, this)).attr("src", t.attr("src") || t.attr("data-src") || t.attr("data-src-retina"))
        }, this))
    }, c.prototype.destroy = function() {
        for (var e in this.$element.off(".owl.core"), this.$stage.off(".owl.core"), l(o).off(".owl.core"), !1 !== this.settings.responsive && (n.clearTimeout(this.resizeTimer), this.off(n, "resize", this._handlers.onThrottledResize)), this._plugins) this._plugins[e].destroy();
        this.$stage.children(".cloned").remove(), this.$stage.unwrap(), this.$stage.children().contents().unwrap(), this.$stage.children().unwrap(), this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class", this.$element.attr("class").replace(new RegExp(this.options.responsiveClass + "-\\S+\\s", "g"), "")).removeData("owl.carousel")
    }, c.prototype.op = function(e, t, n) {
        var r = this.settings.rtl;
        switch (t) {
            case "<":
                return r ? n < e : e < n;
            case ">":
                return r ? e < n : n < e;
            case ">=":
                return r ? e <= n : n <= e;
            case "<=":
                return r ? n <= e : e <= n
        }
    }, c.prototype.on = function(e, t, n, r) {
        e.addEventListener ? e.addEventListener(t, n, r) : e.attachEvent && e.attachEvent("on" + t, n)
    }, c.prototype.off = function(e, t, n, r) {
        e.removeEventListener ? e.removeEventListener(t, n, r) : e.detachEvent && e.detachEvent("on" + t, n)
    }, c.prototype.trigger = function(e, t, n, r, o) {
        var i = {
                item: {
                    count: this._items.length,
                    index: this.current()
                }
            },
            a = l.camelCase(l.grep(["on", e, n], function(e) {
                return e
            }).join("-").toLowerCase()),
            s = l.Event([e, "owl", n || "carousel"].join(".").toLowerCase(), l.extend({
                relatedTarget: this
            }, i, t));
        return this._supress[e] || (l.each(this._plugins, function(e, t) {
            t.onTrigger && t.onTrigger(s)
        }), this.register({
            type: c.Type.Event,
            name: e
        }), this.$element.trigger(s), this.settings && "function" == typeof this.settings[a] && this.settings[a].call(this, s)), s
    }, c.prototype.enter = function(e) {
        l.each([e].concat(this._states.tags[e] || []), l.proxy(function(e, t) {
            this._states.current[t] === i && (this._states.current[t] = 0), this._states.current[t]++
        }, this))
    }, c.prototype.leave = function(e) {
        l.each([e].concat(this._states.tags[e] || []), l.proxy(function(e, t) {
            this._states.current[t]--
        }, this))
    }, c.prototype.register = function(n) {
        if (n.type === c.Type.Event) {
            if (l.event.special[n.name] || (l.event.special[n.name] = {}), !l.event.special[n.name].owl) {
                var t = l.event.special[n.name]._default;
                l.event.special[n.name]._default = function(e) {
                    return !t || !t.apply || e.namespace && -1 !== e.namespace.indexOf("owl") ? e.namespace && -1 < e.namespace.indexOf("owl") : t.apply(this, arguments)
                }, l.event.special[n.name].owl = !0
            }
        } else n.type === c.Type.State && (this._states.tags[n.name] ? this._states.tags[n.name] = this._states.tags[n.name].concat(n.tags) : this._states.tags[n.name] = n.tags, this._states.tags[n.name] = l.grep(this._states.tags[n.name], l.proxy(function(e, t) {
            return l.inArray(e, this._states.tags[n.name]) === t
        }, this)))
    }, c.prototype.suppress = function(e) {
        l.each(e, l.proxy(function(e, t) {
            this._supress[t] = !0
        }, this))
    }, c.prototype.release = function(e) {
        l.each(e, l.proxy(function(e, t) {
            delete this._supress[t]
        }, this))
    }, c.prototype.pointer = function(e) {
        var t = {
            x: null,
            y: null
        };
        return (e = (e = e.originalEvent || e || n.event).touches && e.touches.length ? e.touches[0] : e.changedTouches && e.changedTouches.length ? e.changedTouches[0] : e).pageX ? (t.x = e.pageX, t.y = e.pageY) : (t.x = e.clientX, t.y = e.clientY), t
    }, c.prototype.isNumeric = function(e) {
        return !isNaN(parseFloat(e))
    }, c.prototype.difference = function(e, t) {
        return {
            x: e.x - t.x,
            y: e.y - t.y
        }
    }, l.fn.owlCarousel = function(t) {
        var r = Array.prototype.slice.call(arguments, 1);
        return this.each(function() {
            var e = l(this),
                n = e.data("owl.carousel");
            n || (n = new c(this, "object" == typeof t && t), e.data("owl.carousel", n), l.each(["next", "prev", "to", "destroy", "refresh", "replace", "add", "remove"], function(e, t) {
                n.register({
                    type: c.Type.Event,
                    name: t
                }), n.$element.on(t + ".owl.carousel.core", l.proxy(function(e) {
                    e.namespace && e.relatedTarget !== this && (this.suppress([t]), n[t].apply(this, [].slice.call(arguments, 1)), this.release([t]))
                }, n))
            })), "string" == typeof t && "_" !== t.charAt(0) && n[t].apply(n, r)
        })
    }, l.fn.owlCarousel.Constructor = c
}(window.Zepto || window.jQuery, window, document),
function(t, n, e, r) {
    var o = function(e) {
        this._core = e, this._interval = null, this._visible = null, this._handlers = {
            "initialized.owl.carousel": t.proxy(function(e) {
                e.namespace && this._core.settings.autoRefresh && this.watch()
            }, this)
        }, this._core.options = t.extend({}, o.Defaults, this._core.options), this._core.$element.on(this._handlers)
    };
    o.Defaults = {
        autoRefresh: !0,
        autoRefreshInterval: 500
    }, o.prototype.watch = function() {
        this._interval || (this._visible = this._core.$element.is(":visible"), this._interval = n.setInterval(t.proxy(this.refresh, this), this._core.settings.autoRefreshInterval))
    }, o.prototype.refresh = function() {
        this._core.$element.is(":visible") !== this._visible && (this._visible = !this._visible, this._core.$element.toggleClass("owl-hidden", !this._visible), this._visible && this._core.invalidate("width") && this._core.refresh())
    }, o.prototype.destroy = function() {
        var e, t;
        for (e in n.clearInterval(this._interval), this._handlers) this._core.$element.off(e, this._handlers[e]);
        for (t in Object.getOwnPropertyNames(this)) "function" != typeof this[t] && (this[t] = null)
    }, t.fn.owlCarousel.Constructor.Plugins.AutoRefresh = o
}(window.Zepto || window.jQuery, window, document),
function(s, i, e, t) {
    var n = function(e) {
        this._core = e, this._loaded = [], this._handlers = {
            "initialized.owl.carousel change.owl.carousel resized.owl.carousel": s.proxy(function(e) {
                if (e.namespace && this._core.settings && this._core.settings.lazyLoad && (e.property && "position" == e.property.name || "initialized" == e.type))
                    for (var t = this._core.settings, n = t.center && Math.ceil(t.items / 2) || t.items, r = t.center && -1 * n || 0, o = (e.property && void 0 !== e.property.value ? e.property.value : this._core.current()) + r, i = this._core.clones().length, a = s.proxy(function(e, t) {
                            this.load(t)
                        }, this); r++ < n;) this.load(i / 2 + this._core.relative(o)), i && s.each(this._core.clones(this._core.relative(o)), a), o++
            }, this)
        }, this._core.options = s.extend({}, n.Defaults, this._core.options), this._core.$element.on(this._handlers)
    };
    n.Defaults = {
        lazyLoad: !1
    }, n.prototype.load = function(e) {
        var t = this._core.$stage.children().eq(e),
            n = t && t.find(".owl-lazy");
        !n || -1 < s.inArray(t.get(0), this._loaded) || (n.each(s.proxy(function(e, t) {
            var n, r = s(t),
                o = 1 < i.devicePixelRatio && r.attr("data-src-retina") || r.attr("data-src");
            this._core.trigger("load", {
                element: r,
                url: o
            }, "lazy"), r.is("img") ? r.one("load.owl.lazy", s.proxy(function() {
                r.css("opacity", 1), this._core.trigger("loaded", {
                    element: r,
                    url: o
                }, "lazy")
            }, this)).attr("src", o) : ((n = new Image).onload = s.proxy(function() {
                r.css({
                    "background-image": 'url("' + o + '")',
                    opacity: "1"
                }), this._core.trigger("loaded", {
                    element: r,
                    url: o
                }, "lazy")
            }, this), n.src = o)
        }, this)), this._loaded.push(t.get(0)))
    }, n.prototype.destroy = function() {
        var e, t;
        for (e in this.handlers) this._core.$element.off(e, this.handlers[e]);
        for (t in Object.getOwnPropertyNames(this)) "function" != typeof this[t] && (this[t] = null)
    }, s.fn.owlCarousel.Constructor.Plugins.Lazy = n
}(window.Zepto || window.jQuery, window, document),
function(i, e, t, n) {
    var r = function(e) {
        this._core = e, this._handlers = {
            "initialized.owl.carousel refreshed.owl.carousel": i.proxy(function(e) {
                e.namespace && this._core.settings.autoHeight && this.update()
            }, this),
            "changed.owl.carousel": i.proxy(function(e) {
                e.namespace && this._core.settings.autoHeight && "position" == e.property.name && this.update()
            }, this),
            "loaded.owl.lazy": i.proxy(function(e) {
                e.namespace && this._core.settings.autoHeight && e.element.closest("." + this._core.settings.itemClass).index() === this._core.current() && this.update()
            }, this)
        }, this._core.options = i.extend({}, r.Defaults, this._core.options), this._core.$element.on(this._handlers)
    };
    r.Defaults = {
        autoHeight: !1,
        autoHeightClass: "owl-height"
    }, r.prototype.update = function() {
        var e, t = this._core._current,
            n = t + this._core.settings.items,
            r = this._core.$stage.children().toArray().slice(t, n),
            o = [];
        i.each(r, function(e, t) {
            o.push(i(t).height())
        }), e = Math.max.apply(null, o), this._core.$stage.parent().height(e).addClass(this._core.settings.autoHeightClass)
    }, r.prototype.destroy = function() {
        var e, t;
        for (e in this._handlers) this._core.$element.off(e, this._handlers[e]);
        for (t in Object.getOwnPropertyNames(this)) "function" != typeof this[t] && (this[t] = null)
    }, i.fn.owlCarousel.Constructor.Plugins.AutoHeight = r
}(window.Zepto || window.jQuery, window, document),
function(u, e, t, n) {
    var r = function(e) {
        this._core = e, this._videos = {}, this._playing = null, this._handlers = {
            "initialized.owl.carousel": u.proxy(function(e) {
                e.namespace && this._core.register({
                    type: "state",
                    name: "playing",
                    tags: ["interacting"]
                })
            }, this),
            "resize.owl.carousel": u.proxy(function(e) {
                e.namespace && this._core.settings.video && this.isInFullScreen() && e.preventDefault()
            }, this),
            "refreshed.owl.carousel": u.proxy(function(e) {
                e.namespace && this._core.is("resizing") && this._core.$stage.find(".cloned .owl-video-frame").remove()
            }, this),
            "changed.owl.carousel": u.proxy(function(e) {
                e.namespace && "position" === e.property.name && this._playing && this.stop()
            }, this),
            "prepared.owl.carousel": u.proxy(function(e) {
                if (e.namespace) {
                    var t = u(e.content).find(".owl-video");
                    t.length && (t.css("display", "none"), this.fetch(t, u(e.content)))
                }
            }, this)
        }, this._core.options = u.extend({}, r.Defaults, this._core.options), this._core.$element.on(this._handlers), this._core.$element.on("click.owl.video", ".owl-video-play-icon", u.proxy(function(e) {
            this.play(e)
        }, this))
    };
    r.Defaults = {
        video: !1,
        videoHeight: !1,
        videoWidth: !1
    }, r.prototype.fetch = function(e, t) {
        var n = e.attr("data-vimeo-id") ? "vimeo" : e.attr("data-vzaar-id") ? "vzaar" : "youtube",
            r = e.attr("data-vimeo-id") || e.attr("data-youtube-id") || e.attr("data-vzaar-id"),
            o = e.attr("data-width") || this._core.settings.videoWidth,
            i = e.attr("data-height") || this._core.settings.videoHeight,
            a = e.attr("href");
        if (!a) throw new Error("Missing video URL.");
        if (-1 < (r = a.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu")) n = "youtube";
        else if (-1 < r[3].indexOf("vimeo")) n = "vimeo";
        else {
            if (!(-1 < r[3].indexOf("vzaar"))) throw new Error("Video URL not supported.");
            n = "vzaar"
        }
        r = r[6], this._videos[a] = {
            type: n,
            id: r,
            width: o,
            height: i
        }, t.attr("data-video", a), this.thumbnail(e, this._videos[a])
    }, r.prototype.thumbnail = function(t, e) {
        var n, r, o = e.width && e.height ? 'style="width:' + e.width + "px;height:" + e.height + 'px;"' : "",
            i = t.find("img"),
            a = "src",
            s = "",
            l = this._core.settings,
            c = function(e) {
                '<div class="owl-video-play-icon"></div>', n = l.lazyLoad ? '<div class="owl-video-tn ' + s + '" ' + a + '="' + e + '"></div>' : '<div class="owl-video-tn" style="opacity:1;background-image:url(' + e + ')"></div>', t.after(n), t.after('<div class="owl-video-play-icon"></div>')
            };
        if (t.wrap('<div class="owl-video-wrapper"' + o + "></div>"), this._core.settings.lazyLoad && (a = "data-src", s = "owl-lazy"), i.length) return c(i.attr(a)), i.remove(), !1;
        "youtube" === e.type ? (r = "//img.youtube.com/vi/" + e.id + "/hqdefault.jpg", c(r)) : "vimeo" === e.type ? u.ajax({
            type: "GET",
            url: "//vimeo.com/api/v2/video/" + e.id + ".json",
            jsonp: "callback",
            dataType: "jsonp",
            success: function(e) {
                r = e[0].thumbnail_large, c(r)
            }
        }) : "vzaar" === e.type && u.ajax({
            type: "GET",
            url: "//vzaar.com/api/videos/" + e.id + ".json",
            jsonp: "callback",
            dataType: "jsonp",
            success: function(e) {
                r = e.framegrab_url, c(r)
            }
        })
    }, r.prototype.stop = function() {
        this._core.trigger("stop", null, "video"), this._playing.find(".owl-video-frame").remove(), this._playing.removeClass("owl-video-playing"), this._playing = null, this._core.leave("playing"), this._core.trigger("stopped", null, "video")
    }, r.prototype.play = function(e) {
        var t, n = u(e.target).closest("." + this._core.settings.itemClass),
            r = this._videos[n.attr("data-video")],
            o = r.width || "100%",
            i = r.height || this._core.$stage.height();
        this._playing || (this._core.enter("playing"), this._core.trigger("play", null, "video"), n = this._core.items(this._core.relative(n.index())), this._core.reset(n.index()), "youtube" === r.type ? t = '<iframe width="' + o + '" height="' + i + '" src="//www.youtube.com/embed/' + r.id + "?autoplay=1&rel=0&v=" + r.id + '" frameborder="0" allowfullscreen></iframe>' : "vimeo" === r.type ? t = '<iframe src="//player.vimeo.com/video/' + r.id + '?autoplay=1" width="' + o + '" height="' + i + '" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>' : "vzaar" === r.type && (t = '<iframe frameborder="0"height="' + i + '"width="' + o + '" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/' + r.id + '/player?autoplay=true"></iframe>'), u('<div class="owl-video-frame">' + t + "</div>").insertAfter(n.find(".owl-video")), this._playing = n.addClass("owl-video-playing"))
    }, r.prototype.isInFullScreen = function() {
        var e = t.fullscreenElement || t.mozFullScreenElement || t.webkitFullscreenElement;
        return e && u(e).parent().hasClass("owl-video-frame")
    }, r.prototype.destroy = function() {
        var e, t;
        for (e in this._core.$element.off("click.owl.video"), this._handlers) this._core.$element.off(e, this._handlers[e]);
        for (t in Object.getOwnPropertyNames(this)) "function" != typeof this[t] && (this[t] = null)
    }, u.fn.owlCarousel.Constructor.Plugins.Video = r
}(window.Zepto || window.jQuery, window, document),
function(a, e, t, n) {
    var r = function(e) {
        this.core = e, this.core.options = a.extend({}, r.Defaults, this.core.options), this.swapping = !0, this.previous = void 0, this.next = void 0, this.handlers = {
            "change.owl.carousel": a.proxy(function(e) {
                e.namespace && "position" == e.property.name && (this.previous = this.core.current(), this.next = e.property.value)
            }, this),
            "drag.owl.carousel dragged.owl.carousel translated.owl.carousel": a.proxy(function(e) {
                e.namespace && (this.swapping = "translated" == e.type)
            }, this),
            "translate.owl.carousel": a.proxy(function(e) {
                e.namespace && this.swapping && (this.core.options.animateOut || this.core.options.animateIn) && this.swap()
            }, this)
        }, this.core.$element.on(this.handlers)
    };
    r.Defaults = {
        animateOut: !1,
        animateIn: !1
    }, r.prototype.swap = function() {
        if (1 === this.core.settings.items && a.support.animation && a.support.transition) {
            this.core.speed(0);
            var e, t = a.proxy(this.clear, this),
                n = this.core.$stage.children().eq(this.previous),
                r = this.core.$stage.children().eq(this.next),
                o = this.core.settings.animateIn,
                i = this.core.settings.animateOut;
            this.core.current() !== this.previous && (i && (e = this.core.coordinates(this.previous) - this.core.coordinates(this.next), n.one(a.support.animation.end, t).css({
                left: e + "px"
            }).addClass("animated owl-animated-out").addClass(i)), o && r.one(a.support.animation.end, t).addClass("animated owl-animated-in").addClass(o))
        }
    }, r.prototype.clear = function(e) {
        a(e.target).css({
            left: ""
        }).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut), this.core.onTransitionEnd()
    }, r.prototype.destroy = function() {
        var e, t;
        for (e in this.handlers) this.core.$element.off(e, this.handlers[e]);
        for (t in Object.getOwnPropertyNames(this)) "function" != typeof this[t] && (this[t] = null)
    }, a.fn.owlCarousel.Constructor.Plugins.Animate = r
}(window.Zepto || window.jQuery, window, document),
function(n, r, o, e) {
    var t = function(e) {
        this._core = e, this._timeout = null, this._paused = !1, this._handlers = {
            "changed.owl.carousel": n.proxy(function(e) {
                e.namespace && "settings" === e.property.name ? this._core.settings.autoplay ? this.play() : this.stop() : e.namespace && "position" === e.property.name && this._core.settings.autoplay && this._setAutoPlayInterval()
            }, this),
            "initialized.owl.carousel": n.proxy(function(e) {
                e.namespace && this._core.settings.autoplay && this.play()
            }, this),
            "play.owl.autoplay": n.proxy(function(e, t, n) {
                e.namespace && this.play(t, n)
            }, this),
            "stop.owl.autoplay": n.proxy(function(e) {
                e.namespace && this.stop()
            }, this),
            "mouseover.owl.autoplay": n.proxy(function() {
                this._core.settings.autoplayHoverPause && this._core.is("rotating") && this.pause()
            }, this),
            "mouseleave.owl.autoplay": n.proxy(function() {
                this._core.settings.autoplayHoverPause && this._core.is("rotating") && this.play()
            }, this),
            "touchstart.owl.core": n.proxy(function() {
                this._core.settings.autoplayHoverPause && this._core.is("rotating") && this.pause()
            }, this),
            "touchend.owl.core": n.proxy(function() {
                this._core.settings.autoplayHoverPause && this.play()
            }, this)
        }, this._core.$element.on(this._handlers), this._core.options = n.extend({}, t.Defaults, this._core.options)
    };
    t.Defaults = {
        autoplay: !1,
        autoplayTimeout: 5e3,
        autoplayHoverPause: !1,
        autoplaySpeed: !1
    }, t.prototype.play = function(e, t) {
        this._paused = !1, this._core.is("rotating") || (this._core.enter("rotating"), this._setAutoPlayInterval())
    }, t.prototype._getNextTimeout = function(e, t) {
        return this._timeout && r.clearTimeout(this._timeout), r.setTimeout(n.proxy(function() {
            this._paused || this._core.is("busy") || this._core.is("interacting") || o.hidden || this._core.next(t || this._core.settings.autoplaySpeed)
        }, this), e || this._core.settings.autoplayTimeout)
    }, t.prototype._setAutoPlayInterval = function() {
        this._timeout = this._getNextTimeout()
    }, t.prototype.stop = function() {
        this._core.is("rotating") && (r.clearTimeout(this._timeout), this._core.leave("rotating"))
    }, t.prototype.pause = function() {
        this._core.is("rotating") && (this._paused = !0)
    }, t.prototype.destroy = function() {
        var e, t;
        for (e in this.stop(), this._handlers) this._core.$element.off(e, this._handlers[e]);
        for (t in Object.getOwnPropertyNames(this)) "function" != typeof this[t] && (this[t] = null)
    }, n.fn.owlCarousel.Constructor.Plugins.autoplay = t
}(window.Zepto || window.jQuery, window, document),
function(i, e, t, n) {
    "use strict";
    var r = function(e) {
        this._core = e, this._initialized = !1, this._pages = [], this._controls = {}, this._templates = [], this.$element = this._core.$element, this._overrides = {
            next: this._core.next,
            prev: this._core.prev,
            to: this._core.to
        }, this._handlers = {
            "prepared.owl.carousel": i.proxy(function(e) {
                e.namespace && this._core.settings.dotsData && this._templates.push('<div class="' + this._core.settings.dotClass + '">' + i(e.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot") + "</div>")
            }, this),
            "added.owl.carousel": i.proxy(function(e) {
                e.namespace && this._core.settings.dotsData && this._templates.splice(e.position, 0, this._templates.pop())
            }, this),
            "remove.owl.carousel": i.proxy(function(e) {
                e.namespace && this._core.settings.dotsData && this._templates.splice(e.position, 1)
            }, this),
            "changed.owl.carousel": i.proxy(function(e) {
                e.namespace && "position" == e.property.name && this.draw()
            }, this),
            "initialized.owl.carousel": i.proxy(function(e) {
                e.namespace && !this._initialized && (this._core.trigger("initialize", null, "navigation"), this.initialize(), this.update(), this.draw(), this._initialized = !0, this._core.trigger("initialized", null, "navigation"))
            }, this),
            "refreshed.owl.carousel": i.proxy(function(e) {
                e.namespace && this._initialized && (this._core.trigger("refresh", null, "navigation"), this.update(), this.draw(), this._core.trigger("refreshed", null, "navigation"))
            }, this)
        }, this._core.options = i.extend({}, r.Defaults, this._core.options), this.$element.on(this._handlers)
    };
    r.Defaults = {
        nav: !1,
        navText: ["prev", "next"],
        navSpeed: !1,
        navElement: "div",
        navContainer: !1,
        navContainerClass: "owl-nav",
        navClass: ["owl-prev", "owl-next"],
        slideBy: 1,
        dotClass: "owl-dot",
        dotsClass: "owl-dots",
        dots: !0,
        dotsEach: !1,
        dotsData: !1,
        dotsSpeed: !1,
        dotsContainer: !1
    }, r.prototype.initialize = function() {
        var e, n = this._core.settings;
        for (e in this._controls.$relative = (n.navContainer ? i(n.navContainer) : i("<div>").addClass(n.navContainerClass).appendTo(this.$element)).addClass("disabled"), this._controls.$previous = i("<" + n.navElement + ">").addClass(n.navClass[0]).html(n.navText[0]).prependTo(this._controls.$relative).on("click", i.proxy(function(e) {
                this.prev(n.navSpeed)
            }, this)), this._controls.$next = i("<" + n.navElement + ">").addClass(n.navClass[1]).html(n.navText[1]).appendTo(this._controls.$relative).on("click", i.proxy(function(e) {
                this.next(n.navSpeed)
            }, this)), n.dotsData || (this._templates = [i("<div>").addClass(n.dotClass).append(i("<span>")).prop("outerHTML")]), this._controls.$absolute = (n.dotsContainer ? i(n.dotsContainer) : i("<div>").addClass(n.dotsClass).appendTo(this.$element)).addClass("disabled"), this._controls.$absolute.on("click", "div", i.proxy(function(e) {
                var t = i(e.target).parent().is(this._controls.$absolute) ? i(e.target).index() : i(e.target).parent().index();
                e.preventDefault(), this.to(t, n.dotsSpeed)
            }, this)), this._overrides) this._core[e] = i.proxy(this[e], this)
    }, r.prototype.destroy = function() {
        var e, t, n, r;
        for (e in this._handlers) this.$element.off(e, this._handlers[e]);
        for (t in this._controls) this._controls[t].remove();
        for (r in this.overides) this._core[r] = this._overrides[r];
        for (n in Object.getOwnPropertyNames(this)) "function" != typeof this[n] && (this[n] = null)
    }, r.prototype.update = function() {
        var e, t, n = this._core.clones().length / 2,
            r = n + this._core.items().length,
            o = this._core.maximum(!0),
            i = this._core.settings,
            a = i.center || i.autoWidth || i.dotsData ? 1 : i.dotsEach || i.items;
        if ("page" !== i.slideBy && (i.slideBy = Math.min(i.slideBy, i.items)), i.dots || "page" == i.slideBy)
            for (this._pages = [], e = n, t = 0; e < r; e++) {
                if (a <= t || 0 === t) {
                    if (this._pages.push({
                            start: Math.min(o, e - n),
                            end: e - n + a - 1
                        }), Math.min(o, e - n) === o) break;
                    t = 0, 0
                }
                t += this._core.mergers(this._core.relative(e))
            }
    }, r.prototype.draw = function() {
        var e, t = this._core.settings,
            n = this._core.items().length <= t.items,
            r = this._core.relative(this._core.current()),
            o = t.loop || t.rewind;
        this._controls.$relative.toggleClass("disabled", !t.nav || n), t.nav && (this._controls.$previous.toggleClass("disabled", !o && r <= this._core.minimum(!0)), this._controls.$next.toggleClass("disabled", !o && r >= this._core.maximum(!0))), this._controls.$absolute.toggleClass("disabled", !t.dots || n), t.dots && (e = this._pages.length - this._controls.$absolute.children().length, t.dotsData && 0 !== e ? this._controls.$absolute.html(this._templates.join("")) : 0 < e ? this._controls.$absolute.append(new Array(e + 1).join(this._templates[0])) : e < 0 && this._controls.$absolute.children().slice(e).remove(), this._controls.$absolute.find(".active").removeClass("active"), this._controls.$absolute.children().eq(i.inArray(this.current(), this._pages)).addClass("active"))
    }, r.prototype.onTrigger = function(e) {
        var t = this._core.settings;
        e.page = {
            index: i.inArray(this.current(), this._pages),
            count: this._pages.length,
            size: t && (t.center || t.autoWidth || t.dotsData ? 1 : t.dotsEach || t.items)
        }
    }, r.prototype.current = function() {
        var n = this._core.relative(this._core.current());
        return i.grep(this._pages, i.proxy(function(e, t) {
            return e.start <= n && e.end >= n
        }, this)).pop()
    }, r.prototype.getPosition = function(e) {
        var t, n, r = this._core.settings;
        return "page" == r.slideBy ? (t = i.inArray(this.current(), this._pages), n = this._pages.length, e ? ++t : --t, t = this._pages[(t % n + n) % n].start) : (t = this._core.relative(this._core.current()), n = this._core.items().length, e ? t += r.slideBy : t -= r.slideBy), t
    }, r.prototype.next = function(e) {
        i.proxy(this._overrides.to, this._core)(this.getPosition(!0), e)
    }, r.prototype.prev = function(e) {
        i.proxy(this._overrides.to, this._core)(this.getPosition(!1), e)
    }, r.prototype.to = function(e, t, n) {
        var r;
        !n && this._pages.length ? (r = this._pages.length, i.proxy(this._overrides.to, this._core)(this._pages[(e % r + r) % r].start, t)) : i.proxy(this._overrides.to, this._core)(e, t)
    }, i.fn.owlCarousel.Constructor.Plugins.Navigation = r
}(window.Zepto || window.jQuery, window, document),
function(r, o, e, t) {
    "use strict";
    var n = function(e) {
        this._core = e, this._hashes = {}, this.$element = this._core.$element, this._handlers = {
            "initialized.owl.carousel": r.proxy(function(e) {
                e.namespace && "URLHash" === this._core.settings.startPosition && r(o).trigger("hashchange.owl.navigation")
            }, this),
            "prepared.owl.carousel": r.proxy(function(e) {
                if (e.namespace) {
                    var t = r(e.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");
                    if (!t) return;
                    this._hashes[t] = e.content
                }
            }, this),
            "changed.owl.carousel": r.proxy(function(e) {
                if (e.namespace && "position" === e.property.name) {
                    var n = this._core.items(this._core.relative(this._core.current())),
                        t = r.map(this._hashes, function(e, t) {
                            return e === n ? t : null
                        }).join();
                    if (!t || o.location.hash.slice(1) === t) return;
                    o.location.hash = t
                }
            }, this)
        }, this._core.options = r.extend({}, n.Defaults, this._core.options), this.$element.on(this._handlers), r(o).on("hashchange.owl.navigation", r.proxy(function(e) {
            var t = o.location.hash.substring(1),
                n = this._core.$stage.children(),
                r = this._hashes[t] && n.index(this._hashes[t]);
            void 0 !== r && r !== this._core.current() && this._core.to(this._core.relative(r), !1, !0)
        }, this))
    };
    n.Defaults = {
        URLhashListener: !1
    }, n.prototype.destroy = function() {
        var e, t;
        for (e in r(o).off("hashchange.owl.navigation"), this._handlers) this._core.$element.off(e, this._handlers[e]);
        for (t in Object.getOwnPropertyNames(this)) "function" != typeof this[t] && (this[t] = null)
    }, r.fn.owlCarousel.Constructor.Plugins.Hash = n
}(window.Zepto || window.jQuery, window, document),
function(o, e, t, i) {
    function n(e, n) {
        var r = !1,
            t = e.charAt(0).toUpperCase() + e.slice(1);
        return o.each((e + " " + s.join(t + " ") + t).split(" "), function(e, t) {
            if (a[t] !== i) return r = !n || t, !1
        }), r
    }

    function r(e) {
        return n(e, !0)
    }
    var a = o("<support>").get(0).style,
        s = "Webkit Moz O ms".split(" "),
        l = {
            transition: {
                end: {
                    WebkitTransition: "webkitTransitionEnd",
                    MozTransition: "transitionend",
                    OTransition: "oTransitionEnd",
                    transition: "transitionend"
                }
            },
            animation: {
                end: {
                    WebkitAnimation: "webkitAnimationEnd",
                    MozAnimation: "animationend",
                    OAnimation: "oAnimationEnd",
                    animation: "animationend"
                }
            }
        },
        c = function() {
            return !!n("transform")
        },
        u = function() {
            return !!n("perspective")
        },
        d = function() {
            return !!n("animation")
        };
    (function() {
        return !!n("transition")
    })() && (o.support.transition = new String(r("transition")), o.support.transition.end = l.transition.end[o.support.transition]), d() && (o.support.animation = new String(r("animation")), o.support.animation.end = l.animation.end[o.support.animation]), c() && (o.support.transform = new String(r("transform")), o.support.transform3d = u())
}(window.Zepto || window.jQuery, window, document),
function(e) {
    "function" == typeof define && define.amd ? define(["jquery"], e) : e("object" == typeof exports ? require("jquery") : window.jQuery || window.Zepto)
}(function(u) {
    var d, r, f, o, h, t, l = "Close",
        c = "BeforeClose",
        p = "MarkupParse",
        m = "Open",
        g = ".mfp",
        v = "mfp-ready",
        n = "mfp-removing",
        a = "mfp-prevent-close",
        e = function() {},
        s = !!window.jQuery,
        y = u(window),
        b = function(e, t) {
            d.ev.on("mfp" + e + g, t)
        },
        w = function(e, t, n, r) {
            var o = document.createElement("div");
            return o.className = "mfp-" + e, n && (o.innerHTML = n), r ? t && t.appendChild(o) : (o = u(o), t && o.appendTo(t)), o
        },
        x = function(e, t) {
            d.ev.triggerHandler("mfp" + e, t), d.st.callbacks && (e = e.charAt(0).toLowerCase() + e.slice(1), d.st.callbacks[e] && d.st.callbacks[e].apply(d, u.isArray(t) ? t : [t]))
        },
        C = function(e) {
            return e === t && d.currTemplate.closeBtn || (d.currTemplate.closeBtn = u(d.st.closeMarkup.replace("%title%", d.st.tClose)), t = e), d.currTemplate.closeBtn
        },
        i = function() {
            u.magnificPopup.instance || ((d = new e).init(), u.magnificPopup.instance = d)
        };
    e.prototype = {
        constructor: e,
        init: function() {
            var e = navigator.appVersion;
            d.isLowIE = d.isIE8 = document.all && !document.addEventListener, d.isAndroid = /android/gi.test(e), d.isIOS = /iphone|ipad|ipod/gi.test(e), d.supportsTransition = function() {
                var e = document.createElement("p").style,
                    t = ["ms", "O", "Moz", "Webkit"];
                if (void 0 !== e.transition) return !0;
                for (; t.length;)
                    if (t.pop() + "Transition" in e) return !0;
                return !1
            }(), d.probablyMobile = d.isAndroid || d.isIOS || /(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent), f = u(document), d.popupsCache = {}
        },
        open: function(e) {
            var t;
            if (!1 === e.isObj) {
                d.items = e.items.toArray(), d.index = 0;
                var n, r = e.items;
                for (t = 0; t < r.length; t++)
                    if ((n = r[t]).parsed && (n = n.el[0]), n === e.el[0]) {
                        d.index = t;
                        break
                    }
            } else d.items = u.isArray(e.items) ? e.items : [e.items], d.index = e.index || 0;
            if (!d.isOpen) {
                d.types = [], h = "", e.mainEl && e.mainEl.length ? d.ev = e.mainEl.eq(0) : d.ev = f, e.key ? (d.popupsCache[e.key] || (d.popupsCache[e.key] = {}), d.currTemplate = d.popupsCache[e.key]) : d.currTemplate = {}, d.st = u.extend(!0, {}, u.magnificPopup.defaults, e), d.fixedContentPos = "auto" === d.st.fixedContentPos ? !d.probablyMobile : d.st.fixedContentPos, d.st.modal && (d.st.closeOnContentClick = !1, d.st.closeOnBgClick = !1, d.st.showCloseBtn = !1, d.st.enableEscapeKey = !1), d.bgOverlay || (d.bgOverlay = w("bg").on("click" + g, function() {
                    d.close()
                }), d.wrap = w("wrap").attr("tabindex", -1).on("click" + g, function(e) {
                    d._checkIfClose(e.target) && d.close()
                }), d.container = w("container", d.wrap)), d.contentContainer = w("content"), d.st.preloader && (d.preloader = w("preloader", d.container, d.st.tLoading));
                var o = u.magnificPopup.modules;
                for (t = 0; t < o.length; t++) {
                    var i = o[t];
                    i = i.charAt(0).toUpperCase() + i.slice(1), d["init" + i].call(d)
                }
                x("BeforeOpen"), d.st.showCloseBtn && (d.st.closeBtnInside ? (b(p, function(e, t, n, r) {
                    n.close_replaceWith = C(r.type)
                }), h += " mfp-close-btn-in") : d.wrap.append(C())), d.st.alignTop && (h += " mfp-align-top"), d.fixedContentPos ? d.wrap.css({
                    overflow: d.st.overflowY,
                    overflowX: "hidden",
                    overflowY: d.st.overflowY
                }) : d.wrap.css({
                    top: y.scrollTop(),
                    position: "absolute"
                }), (!1 === d.st.fixedBgPos || "auto" === d.st.fixedBgPos && !d.fixedContentPos) && d.bgOverlay.css({
                    height: f.height(),
                    position: "absolute"
                }), d.st.enableEscapeKey && f.on("keyup" + g, function(e) {
                    27 === e.keyCode && d.close()
                }), y.on("resize" + g, function() {
                    d.updateSize()
                }), d.st.closeOnContentClick || (h += " mfp-auto-cursor"), h && d.wrap.addClass(h);
                var a = d.wH = y.height(),
                    s = {};
                if (d.fixedContentPos && d._hasScrollBar(a)) {
                    var l = d._getScrollbarSize();
                    l && (s.marginRight = l)
                }
                d.fixedContentPos && (d.isIE7 ? u("body, html").css("overflow", "hidden") : s.overflow = "hidden");
                var c = d.st.mainClass;
                return d.isIE7 && (c += " mfp-ie7"), c && d._addClassToMFP(c), d.updateItemHTML(), x("BuildControls"), u("html").css(s), d.bgOverlay.add(d.wrap).prependTo(d.st.prependTo || u(document.body)), d._lastFocusedEl = document.activeElement, setTimeout(function() {
                    d.content ? (d._addClassToMFP(v), d._setFocus()) : d.bgOverlay.addClass(v), f.on("focusin" + g, d._onFocusIn)
                }, 16), d.isOpen = !0, d.updateSize(a), x(m), e
            }
            d.updateItemHTML()
        },
        close: function() {
            d.isOpen && (x(c), d.isOpen = !1, d.st.removalDelay && !d.isLowIE && d.supportsTransition ? (d._addClassToMFP(n), setTimeout(function() {
                d._close()
            }, d.st.removalDelay)) : d._close())
        },
        _close: function() {
            x(l);
            var e = n + " " + v + " ";
            if (d.bgOverlay.detach(), d.wrap.detach(), d.container.empty(), d.st.mainClass && (e += d.st.mainClass + " "), d._removeClassFromMFP(e), d.fixedContentPos) {
                var t = {
                    marginRight: ""
                };
                d.isIE7 ? u("body, html").css("overflow", "") : t.overflow = "", u("html").css(t)
            }
            f.off("keyup.mfp focusin" + g), d.ev.off(g), d.wrap.attr("class", "mfp-wrap").removeAttr("style"), d.bgOverlay.attr("class", "mfp-bg"), d.container.attr("class", "mfp-container"), !d.st.showCloseBtn || d.st.closeBtnInside && !0 !== d.currTemplate[d.currItem.type] || d.currTemplate.closeBtn && d.currTemplate.closeBtn.detach(), d.st.autoFocusLast && d._lastFocusedEl && u(d._lastFocusedEl).focus(), d.currItem = null, d.content = null, d.currTemplate = null, d.prevHeight = 0, x("AfterClose")
        },
        updateSize: function(e) {
            if (d.isIOS) {
                var t = document.documentElement.clientWidth / window.innerWidth,
                    n = window.innerHeight * t;
                d.wrap.css("height", n), d.wH = n
            } else d.wH = e || y.height();
            d.fixedContentPos || d.wrap.css("height", d.wH), x("Resize")
        },
        updateItemHTML: function() {
            var e = d.items[d.index];
            d.contentContainer.detach(), d.content && d.content.detach(), e.parsed || (e = d.parseEl(d.index));
            var t = e.type;
            if (x("BeforeChange", [d.currItem ? d.currItem.type : "", t]), d.currItem = e, !d.currTemplate[t]) {
                var n = !!d.st[t] && d.st[t].markup;
                x("FirstMarkupParse", n), d.currTemplate[t] = !n || u(n)
            }
            o && o !== e.type && d.container.removeClass("mfp-" + o + "-holder");
            var r = d["get" + t.charAt(0).toUpperCase() + t.slice(1)](e, d.currTemplate[t]);
            d.appendContent(r, t), e.preloaded = !0, x("Change", e), o = e.type, d.container.prepend(d.contentContainer), x("AfterChange")
        },
        appendContent: function(e, t) {
            (d.content = e) ? d.st.showCloseBtn && d.st.closeBtnInside && !0 === d.currTemplate[t] ? d.content.find(".mfp-close").length || d.content.append(C()) : d.content = e: d.content = "", x("BeforeAppend"), d.container.addClass("mfp-" + t + "-holder"), d.contentContainer.append(d.content)
        },
        parseEl: function(e) {
            var t, n = d.items[e];
            if ((n = n.tagName ? {
                    el: u(n)
                } : (t = n.type, {
                    data: n,
                    src: n.src
                })).el) {
                for (var r = d.types, o = 0; o < r.length; o++)
                    if (n.el.hasClass("mfp-" + r[o])) {
                        t = r[o];
                        break
                    }
                n.src = n.el.attr("data-mfp-src"), n.src || (n.src = n.el.attr("href"))
            }
            return n.type = t || d.st.type || "inline", n.index = e, n.parsed = !0, d.items[e] = n, x("ElementParse", n), d.items[e]
        },
        addGroup: function(t, n) {
            var e = function(e) {
                e.mfpEl = this, d._openClick(e, t, n)
            };
            n || (n = {});
            var r = "click.magnificPopup";
            n.mainEl = t, n.items ? (n.isObj = !0, t.off(r).on(r, e)) : (n.isObj = !1, n.delegate ? t.off(r).on(r, n.delegate, e) : (n.items = t).off(r).on(r, e))
        },
        _openClick: function(e, t, n) {
            if ((void 0 !== n.midClick ? n.midClick : u.magnificPopup.defaults.midClick) || !(2 === e.which || e.ctrlKey || e.metaKey || e.altKey || e.shiftKey)) {
                var r = void 0 !== n.disableOn ? n.disableOn : u.magnificPopup.defaults.disableOn;
                if (r)
                    if (u.isFunction(r)) {
                        if (!r.call(d)) return !0
                    } else if (y.width() < r) return !0;
                e.type && (e.preventDefault(), d.isOpen && e.stopPropagation()), n.el = u(e.mfpEl), n.delegate && (n.items = t.find(n.delegate)), d.open(n)
            }
        },
        updateStatus: function(e, t) {
            if (d.preloader) {
                r !== e && d.container.removeClass("mfp-s-" + r), t || "loading" !== e || (t = d.st.tLoading);
                var n = {
                    status: e,
                    text: t
                };
                x("UpdateStatus", n), e = n.status, t = n.text, d.preloader.html(t), d.preloader.find("a").on("click", function(e) {
                    e.stopImmediatePropagation()
                }), d.container.addClass("mfp-s-" + e), r = e
            }
        },
        _checkIfClose: function(e) {
            if (!u(e).hasClass(a)) {
                var t = d.st.closeOnContentClick,
                    n = d.st.closeOnBgClick;
                if (t && n) return !0;
                if (!d.content || u(e).hasClass("mfp-close") || d.preloader && e === d.preloader[0]) return !0;
                if (e === d.content[0] || u.contains(d.content[0], e)) {
                    if (t) return !0
                } else if (n && u.contains(document, e)) return !0;
                return !1
            }
        },
        _addClassToMFP: function(e) {
            d.bgOverlay.addClass(e), d.wrap.addClass(e)
        },
        _removeClassFromMFP: function(e) {
            this.bgOverlay.removeClass(e), d.wrap.removeClass(e)
        },
        _hasScrollBar: function(e) {
            return (d.isIE7 ? f.height() : document.body.scrollHeight) > (e || y.height())
        },
        _setFocus: function() {
            (d.st.focus ? d.content.find(d.st.focus).eq(0) : d.wrap).focus()
        },
        _onFocusIn: function(e) {
            return e.target === d.wrap[0] || u.contains(d.wrap[0], e.target) ? void 0 : (d._setFocus(), !1)
        },
        _parseMarkup: function(o, e, t) {
            var i;
            t.data && (e = u.extend(t.data, e)), x(p, [o, e, t]), u.each(e, function(e, t) {
                if (void 0 === t || !1 === t) return !0;
                if (1 < (i = e.split("_")).length) {
                    var n = o.find(g + "-" + i[0]);
                    if (0 < n.length) {
                        var r = i[1];
                        "replaceWith" === r ? n[0] !== t[0] && n.replaceWith(t) : "img" === r ? n.is("img") ? n.attr("src", t) : n.replaceWith(u("<img>").attr("src", t).attr("class", n.attr("class"))) : n.attr(i[1], t)
                    }
                } else o.find(g + "-" + e).html(t)
            })
        },
        _getScrollbarSize: function() {
            if (void 0 === d.scrollbarSize) {
                var e = document.createElement("div");
                e.style.cssText = "width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;", document.body.appendChild(e), d.scrollbarSize = e.offsetWidth - e.clientWidth, document.body.removeChild(e)
            }
            return d.scrollbarSize
        }
    }, u.magnificPopup = {
        instance: null,
        proto: e.prototype,
        modules: [],
        open: function(e, t) {
            return i(), (e = e ? u.extend(!0, {}, e) : {}).isObj = !0, e.index = t || 0, this.instance.open(e)
        },
        close: function() {
            return u.magnificPopup.instance && u.magnificPopup.instance.close()
        },
        registerModule: function(e, t) {
            t.options && (u.magnificPopup.defaults[e] = t.options), u.extend(this.proto, t.proto), this.modules.push(e)
        },
        defaults: {
            disableOn: 0,
            key: null,
            midClick: !1,
            mainClass: "",
            preloader: !0,
            focus: "",
            closeOnContentClick: !1,
            closeOnBgClick: !0,
            closeBtnInside: !0,
            showCloseBtn: !0,
            enableEscapeKey: !0,
            modal: !1,
            alignTop: !1,
            removalDelay: 0,
            prependTo: null,
            fixedContentPos: "auto",
            fixedBgPos: "auto",
            overflowY: "auto",
            closeMarkup: '<button title="%title%" type="button" class="mfp-close">&#215;</button>',
            tClose: "Close (Esc)",
            tLoading: "Loading...",
            autoFocusLast: !0
        }
    }, u.fn.magnificPopup = function(e) {
        i();
        var t = u(this);
        if ("string" == typeof e)
            if ("open" === e) {
                var n, r = s ? t.data("magnificPopup") : t[0].magnificPopup,
                    o = parseInt(arguments[1], 10) || 0;
                n = r.items ? r.items[o] : (n = t, r.delegate && (n = n.find(r.delegate)), n.eq(o)), d._openClick({
                    mfpEl: n
                }, t, r)
            } else d.isOpen && d[e].apply(d, Array.prototype.slice.call(arguments, 1));
        else e = u.extend(!0, {}, e), s ? t.data("magnificPopup", e) : t[0].magnificPopup = e, d.addGroup(t, e);
        return t
    };
    var _, S, E, k = "inline",
        T = function() {
            E && (S.after(E.addClass(_)).detach(), E = null)
        };
    u.magnificPopup.registerModule(k, {
        options: {
            hiddenClass: "hide",
            markup: "",
            tNotFound: "Content not found"
        },
        proto: {
            initInline: function() {
                d.types.push(k), b(l + "." + k, function() {
                    T()
                })
            },
            getInline: function(e, t) {
                if (T(), e.src) {
                    var n = d.st.inline,
                        r = u(e.src);
                    if (r.length) {
                        var o = r[0].parentNode;
                        o && o.tagName && (S || (_ = n.hiddenClass, S = w(_), _ = "mfp-" + _), E = r.after(S).detach().removeClass(_)), d.updateStatus("ready")
                    } else d.updateStatus("error", n.tNotFound), r = u("<div>");
                    return e.inlineElement = r
                }
                return d.updateStatus("ready"), d._parseMarkup(t, {}, e), t
            }
        }
    });
    var N, A = "ajax",
        O = function() {
            N && u(document.body).removeClass(N)
        },
        R = function() {
            O(), d.req && d.req.abort()
        };
    u.magnificPopup.registerModule(A, {
        options: {
            settings: null,
            cursor: "mfp-ajax-cur",
            tError: '<a href="%url%">The content</a> could not be loaded.'
        },
        proto: {
            initAjax: function() {
                d.types.push(A), N = d.st.ajax.cursor, b(l + "." + A, R), b("BeforeChange." + A, R)
            },
            getAjax: function(o) {
                N && u(document.body).addClass(N), d.updateStatus("loading");
                var e = u.extend({
                    url: o.src,
                    success: function(e, t, n) {
                        var r = {
                            data: e,
                            xhr: n
                        };
                        x("ParseAjax", r), d.appendContent(u(r.data), A), o.finished = !0, O(), d._setFocus(), setTimeout(function() {
                            d.wrap.addClass(v)
                        }, 16), d.updateStatus("ready"), x("AjaxContentAdded")
                    },
                    error: function() {
                        O(), o.finished = o.loadError = !0, d.updateStatus("error", d.st.ajax.tError.replace("%url%", o.src))
                    }
                }, d.st.ajax.settings);
                return d.req = u.ajax(e), ""
            }
        }
    });
    var P;
    u.magnificPopup.registerModule("image", {
        options: {
            markup: '<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',
            cursor: "mfp-zoom-out-cur",
            titleSrc: "title",
            verticalFit: !0,
            tError: '<a href="%url%">The image</a> could not be loaded.'
        },
        proto: {
            initImage: function() {
                var e = d.st.image,
                    t = ".image";
                d.types.push("image"), b(m + t, function() {
                    "image" === d.currItem.type && e.cursor && u(document.body).addClass(e.cursor)
                }), b(l + t, function() {
                    e.cursor && u(document.body).removeClass(e.cursor), y.off("resize" + g)
                }), b("Resize" + t, d.resizeImage), d.isLowIE && b("AfterChange", d.resizeImage)
            },
            resizeImage: function() {
                var e = d.currItem;
                if (e && e.img && d.st.image.verticalFit) {
                    var t = 0;
                    d.isLowIE && (t = parseInt(e.img.css("padding-top"), 10) + parseInt(e.img.css("padding-bottom"), 10)), e.img.css("max-height", d.wH - t)
                }
            },
            _onImageHasSize: function(e) {
                e.img && (e.hasSize = !0, P && clearInterval(P), e.isCheckingImgSize = !1, x("ImageHasSize", e), e.imgHidden && (d.content && d.content.removeClass("mfp-loading"), e.imgHidden = !1))
            },
            findImageSize: function(t) {
                var n = 0,
                    r = t.img[0],
                    o = function(e) {
                        P && clearInterval(P), P = setInterval(function() {
                            return 0 < r.naturalWidth ? void d._onImageHasSize(t) : (200 < n && clearInterval(P), void(3 === ++n ? o(10) : 40 === n ? o(50) : 100 === n && o(500)))
                        }, e)
                    };
                o(1)
            },
            getImage: function(e, t) {
                var n = 0,
                    r = function() {
                        e && (e.img[0].complete ? (e.img.off(".mfploader"), e === d.currItem && (d._onImageHasSize(e), d.updateStatus("ready")), e.hasSize = !0, e.loaded = !0, x("ImageLoadComplete")) : ++n < 200 ? setTimeout(r, 100) : o())
                    },
                    o = function() {
                        e && (e.img.off(".mfploader"), e === d.currItem && (d._onImageHasSize(e), d.updateStatus("error", i.tError.replace("%url%", e.src))), e.hasSize = !0, e.loaded = !0, e.loadError = !0)
                    },
                    i = d.st.image,
                    a = t.find(".mfp-img");
                if (a.length) {
                    var s = document.createElement("img");
                    s.className = "mfp-img", e.el && e.el.find("img").length && (s.alt = e.el.find("img").attr("alt")), e.img = u(s).on("load.mfploader", r).on("error.mfploader", o), s.src = e.src, a.is("img") && (e.img = e.img.clone()), 0 < (s = e.img[0]).naturalWidth ? e.hasSize = !0 : s.width || (e.hasSize = !1)
                }
                return d._parseMarkup(t, {
                    title: function(e) {
                        if (e.data && void 0 !== e.data.title) return e.data.title;
                        var t = d.st.image.titleSrc;
                        if (t) {
                            if (u.isFunction(t)) return t.call(d, e);
                            if (e.el) return e.el.attr(t) || ""
                        }
                        return ""
                    }(e),
                    img_replaceWith: e.img
                }, e), d.resizeImage(), e.hasSize ? (P && clearInterval(P), e.loadError ? (t.addClass("mfp-loading"), d.updateStatus("error", i.tError.replace("%url%", e.src))) : (t.removeClass("mfp-loading"), d.updateStatus("ready"))) : (d.updateStatus("loading"), e.loading = !0, e.hasSize || (e.imgHidden = !0, t.addClass("mfp-loading"), d.findImageSize(e))), t
            }
        }
    });
    var B;
    u.magnificPopup.registerModule("zoom", {
        options: {
            enabled: !1,
            easing: "ease-in-out",
            duration: 300,
            opener: function(e) {
                return e.is("img") ? e : e.find("img")
            }
        },
        proto: {
            initZoom: function() {
                var e, i = d.st.zoom,
                    t = ".zoom";
                if (i.enabled && d.supportsTransition) {
                    var n, r, o = i.duration,
                        a = function(e) {
                            var t = e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),
                                n = "all " + i.duration / 1e3 + "s " + i.easing,
                                r = {
                                    position: "fixed",
                                    zIndex: 9999,
                                    left: 0,
                                    top: 0,
                                    "-webkit-backface-visibility": "hidden"
                                },
                                o = "transition";
                            return r["-webkit-" + o] = r["-moz-" + o] = r["-o-" + o] = r[o] = n, t.css(r), t
                        },
                        s = function() {
                            d.content.css("visibility", "visible")
                        };
                    b("BuildControls" + t, function() {
                        if (d._allowZoom()) {
                            if (clearTimeout(n), d.content.css("visibility", "hidden"), !(e = d._getItemToZoom())) return void s();
                            (r = a(e)).css(d._getOffset()), d.wrap.append(r), n = setTimeout(function() {
                                r.css(d._getOffset(!0)), n = setTimeout(function() {
                                    s(), setTimeout(function() {
                                        r.remove(), e = r = null, x("ZoomAnimationEnded")
                                    }, 16)
                                }, o)
                            }, 16)
                        }
                    }), b(c + t, function() {
                        if (d._allowZoom()) {
                            if (clearTimeout(n), d.st.removalDelay = o, !e) {
                                if (!(e = d._getItemToZoom())) return;
                                r = a(e)
                            }
                            r.css(d._getOffset(!0)), d.wrap.append(r), d.content.css("visibility", "hidden"), setTimeout(function() {
                                r.css(d._getOffset())
                            }, 16)
                        }
                    }), b(l + t, function() {
                        d._allowZoom() && (s(), r && r.remove(), e = null)
                    })
                }
            },
            _allowZoom: function() {
                return "image" === d.currItem.type
            },
            _getItemToZoom: function() {
                return !!d.currItem.hasSize && d.currItem.img
            },
            _getOffset: function(e) {
                var t, n = (t = e ? d.currItem.img : d.st.zoom.opener(d.currItem.el || d.currItem)).offset(),
                    r = parseInt(t.css("padding-top"), 10),
                    o = parseInt(t.css("padding-bottom"), 10);
                n.top -= u(window).scrollTop() - r;
                var i = {
                    width: t.width(),
                    height: (s ? t.innerHeight() : t[0].offsetHeight) - o - r
                };
                return void 0 === B && (B = void 0 !== document.createElement("p").style.MozTransform), B ? i["-moz-transform"] = i.transform = "translate(" + n.left + "px," + n.top + "px)" : (i.left = n.left, i.top = n.top), i
            }
        }
    });
    var D = "iframe",
        L = function(e) {
            if (d.currTemplate[D]) {
                var t = d.currTemplate[D].find("iframe");
                t.length && (e || (t[0].src = "//about:blank"), d.isIE8 && t.css("display", e ? "block" : "none"))
            }
        };
    u.magnificPopup.registerModule(D, {
        options: {
            markup: '<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',
            srcAction: "iframe_src",
            patterns: {
                youtube: {
                    index: "youtube.com",
                    id: "v=",
                    src: "//www.youtube.com/embed/%id%?autoplay=1"
                },
                vimeo: {
                    index: "vimeo.com/",
                    id: "/",
                    src: "//player.vimeo.com/video/%id%?autoplay=1"
                },
                gmaps: {
                    index: "//maps.google.",
                    src: "%id%&output=embed"
                }
            }
        },
        proto: {
            initIframe: function() {
                d.types.push(D), b("BeforeChange", function(e, t, n) {
                    t !== n && (t === D ? L() : n === D && L(!0))
                }), b(l + "." + D, function() {
                    L()
                })
            },
            getIframe: function(e, t) {
                var n = e.src,
                    r = d.st.iframe;
                u.each(r.patterns, function() {
                    return -1 < n.indexOf(this.index) ? (this.id && (n = "string" == typeof this.id ? n.substr(n.lastIndexOf(this.id) + this.id.length, n.length) : this.id.call(this, n)), n = this.src.replace("%id%", n), !1) : void 0
                });
                var o = {};
                return r.srcAction && (o[r.srcAction] = n), d._parseMarkup(t, o, e), d.updateStatus("ready"), t
            }
        }
    });
    var z = function(e) {
            var t = d.items.length;
            return t - 1 < e ? e - t : e < 0 ? t + e : e
        },
        I = function(e, t, n) {
            return e.replace(/%curr%/gi, t + 1).replace(/%total%/gi, n)
        };
    u.magnificPopup.registerModule("gallery", {
        options: {
            enabled: !1,
            arrowMarkup: '<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',
            preload: [0, 2],
            navigateByImgClick: !0,
            arrows: !0,
            tPrev: "Previous (Left arrow key)",
            tNext: "Next (Right arrow key)",
            tCounter: "%curr% of %total%"
        },
        proto: {
            initGallery: function() {
                var i = d.st.gallery,
                    e = ".mfp-gallery";
                return d.direction = !0, !(!i || !i.enabled) && (h += " mfp-gallery", b(m + e, function() {
                    i.navigateByImgClick && d.wrap.on("click" + e, ".mfp-img", function() {
                        return 1 < d.items.length ? (d.next(), !1) : void 0
                    }), f.on("keydown" + e, function(e) {
                        37 === e.keyCode ? d.prev() : 39 === e.keyCode && d.next()
                    })
                }), b("UpdateStatus" + e, function(e, t) {
                    t.text && (t.text = I(t.text, d.currItem.index, d.currItem.index.items.length))
                }), b(p + e, function(e, t, n, r) {
                    var o = d.items.length;
                    n.counter = 1 < o ? I(i.tCounter, r.index, o) : ""
                }), b("BuildControls" + e, function() {
                    if (1 < d.items.length && i.arrows && !d.arrowLeft) {
                        var e = i.arrowMarkup,
                            t = d.arrowLeft = u(e.replace(/%title%/gi, i.tPrev).replace(/%dir%/gi, "left")).addClass(a),
                            n = d.arrowRight = u(e.replace(/%title%/gi, i.tNext).replace(/%dir%/gi, "right")).addClass(a);
                        t.click(function() {
                            d.prev()
                        }), n.click(function() {
                            d.next()
                        }), d.container.append(t.add(n))
                    }
                }), b("Change" + e, function() {
                    d._preloadTimeout && clearTimeout(d._preloadTimeout), d._preloadTimeout = setTimeout(function() {
                        d.preloadNearbyImages(), d._preloadTimeout = null
                    }, 16)
                }), void b(l + e, function() {
                    f.off(e), d.wrap.off("click" + e), d.arrowRight = d.arrowLeft = null
                }))
            },
            next: function() {
                d.direction = !0, d.index = z(d.index + 1), d.updateItemHTML()
            },
            prev: function() {
                d.direction = !1, d.index = z(d.index - 1), d.updateItemHTML()
            },
            goTo: function(e) {
                d.direction = e >= d.index, d.index = e, d.updateItemHTML()
            },
            preloadNearbyImages: function() {
                var e, t = d.st.gallery.preload,
                    n = Math.min(t[0], d.items.length),
                    r = Math.min(t[1], d.items.length);
                for (e = 1; e <= (d.direction ? r : n); e++) d._preloadItem(d.index + e);
                for (e = 1; e <= (d.direction ? n : r); e++) d._preloadItem(d.index - e)
            },
            _preloadItem: function(e) {
                if (e = z(e), !d.items[e].preloaded) {
                    var t = d.items[e];
                    t.parsed || (t = d.parseEl(e)), x("LazyLoad", t), "image" === t.type && (t.img = u('<img class="mfp-img" />').on("load.mfploader", function() {
                        t.hasSize = !0
                    }).on("error.mfploader", function() {
                        t.hasSize = !0, t.loadError = !0, x("LazyLoadError", t)
                    }).attr("src", t.src)), t.preloaded = !0
                }
            }
        }
    });
    var M = "retina";
    u.magnificPopup.registerModule(M, {
        options: {
            replaceSrc: function(e) {
                return e.src.replace(/\.\w+$/, function(e) {
                    return "@2x" + e
                })
            },
            ratio: 1
        },
        proto: {
            initRetina: function() {
                if (1 < window.devicePixelRatio) {
                    var n = d.st.retina,
                        r = n.ratio;
                    1 < (r = isNaN(r) ? r() : r) && (b("ImageHasSize." + M, function(e, t) {
                        t.img.css({
                            "max-width": t.img[0].naturalWidth / r,
                            width: "100%"
                        })
                    }), b("ElementParse." + M, function(e, t) {
                        t.src = n.replaceSrc(t, r)
                    }))
                }
            }
        }
    }), i()
}),
function(n) {
    n(function() {
        function e() {
            n(window).width() < 1200 ? (n("#slider-article").addClass("owl-carousel"), n("#slider-article").owlCarousel({
                loop: !0,
                margin: 0,
                nav: !1,
                items: 1,
                dots: !0,
                autoplay: !0,
                autoplayTimeout: 7e3,
                autoplayHoverPause: !0
            })) : n("#slider-article").trigger('destroy.owl.carousel')
        }

        function t() {
            n(window).width() <= 767 ? (n("#slider-list").addClass("owl-carousel"), n("#slider-list").owlCarousel({
                loop: !0,
                margin: 0,
                nav: !1,
                items: 1,
                dots: !0,
                autoplay: !0,
                autoplayTimeout: 7e3,
                autoplayHoverPause: !0
            })) : n("#slider-list").removeClass("owl-carousel").trigger("destroy.owl.carousel")
        }

        n(window).width() <= 767 ? (n(".b-projects-empty__actions").addClass("owl-carousel"), n(".b-projects-empty__actions").owlCarousel({
            loop: !0,
            margin: 20,
            nav: !1,
            items: 1,
            dots: !0,
            autoplay: !0,
            autoplayTimeout: 7e3,
            autoplayHoverPause: !0
        })) : (n(".b-projects-empty__actions.owl-loaded")
        .trigger("destroy.owl.carousel")
        .find('.cloned').remove(), 
        n(".b-projects-empty__actions.owl-loaded .b-projects-empty__action").unwrap().unwrap().unwrap().parent().removeClass("owl-carousel, owl-loaded, owl-drag") )


        n(window).width() <= 767 ? (n(".banners-list").addClass("owl-carousel"), n(".banners-list").owlCarousel({
            loop: !0,
            margin: 0,
            nav: !1,
            items: 1,
            dots: !0,
            autoplay: !0,
            autoplayTimeout: 7e3,
            autoplayHoverPause: !0
        })) : n(".banners-list").removeClass("owl-carousel").trigger("destroy.owl.carousel")
        
        // Логика для попапов, открытие-закрытие и ограничение скрола страницы

        n(".hamburger").click(function() {
            n(this).toggleClass("is-active"), n('body').toggleClass("menu-open"), n(".hamburger").hasClass("is-active"), n("#navigation").slideToggle("blind")
        }), 

        n(".b-user__name-wrapper").click(function() {
            if (n(window).outerWidth() < 1200) {
                n(".b-user__name-ico").toggleClass("is-active"), n('body').toggleClass("menu-open"), n(".b-user__name-ico").hasClass("is-active"), n("#navigation-profile").slideToggle("blind")
            }
        }), 
        
        n(".close-profile").click(function() {
            n('body').toggleClass("menu-open")
        }), 
        
        n("#open__fm").click(function() {
            n(this).toggleClass("is-active"), n("#open__fm").hasClass("is-active"), n(".footer__menu").slideToggle("blind")
        }), 
        
        n("#reviews").owlCarousel({
            loop: !0,
            margin: 62,
            nav: !1,
            items: 2,
            dots: !0,
            autoplay: !0,
            autoplayTimeout: 7e3,
            autoplayHoverPause: !0,
            responsive: {
                0: {
                    items: 1,
                    margin: 0
                },
                1e3: {
                    items: 2
                }
            }
        }), n(document).ready(e), n(window).on("resize", e), n(document).ready(t), n(window).on("resize", t), n(".gallery").magnificPopup({
            delegate: "a",
            type: "image",
            tLoading: "Загрузка...",
            mainClass: "mfp-img-mobile",
            gallery: {
                enabled: !0,
                navigateByImgClick: !0,
                preload: [0, 1]
            },
            image: {
                tError: '<a href="%url%">Изображение #%curr%</a> в данный момент недоступно.',
                titleSrc: function(e) {
                    return e.el.attr("title")
                }
            }
        }),
        
        // Логика для попапов, опции плагина Magnific, при открытии-закрытии - ограничение скрола страницы 
        n(".js-popup").magnificPopup({
            type: "inline",
            preloader: !1,
            focus: ".email"
            // fixedContentPos: true,
            // fixedBgPos: true,
            // overflowY: "hidden"
        }),

        n(".js-popup").on('mfpOpen', function() {
            n('body').addClass('menu-open')
        }),

        n(".js-popup").on('mfpClose', function() {
            n('body').removeClass('menu-open')
        })


    })
}(jQuery),
function(o, e, t, n, a) {
    var r = function(e) {
        this._core = e, this._handlers = {
            "dragged.owl.carousel changed.owl.carousel": o.proxy(function(e) {
                e.namespace && this._core.settings.linked && this.update(e)
            }, this),
            "linked.to.owl.carousel": o.proxy(function(e, t, n, r, o) {
                e.namespace && this._core.settings.linked && this.toSlide(t, n, o)
            }, this)
        }, this._core.$element.on(this._handlers), this._core.options = o.extend({}, r.Defaults, this._core.options)
    };
    r.Defaults = {
        linked: !1
    }, r.prototype.update = function(e) {
        this.toSlide(e.relatedTarget.relative(e.item.index))
    }, r.prototype.toSlide = function(n, e, t) {
        this._core.$element.attr("id");
        var r = this._core.settings.linked.split(",");
        void 0 === t && (t = !0), n = n || 0, t ? o.each(r, function(e, t) {
            o(t).trigger("linked.to.owl.carousel", [n, 300, !0, !1])
        }) : (this._core.$element.trigger("to.owl.carousel", [n, 300, !0]), this._core.settings.current && this._core._plugins.current.switchTo(n))
    }, r.prototype.destroy = function() {
        var e, t;
        for (e in this._handlers) this.$element.off(e, this._handlers[e]);
        for (t in Object.getOwnPropertyNames(this)) "function" != typeof this[t] && (this[t] = null)
    }, o.fn.owlCarousel.Constructor.Plugins.linked = r
}(window.Zepto || window.jQuery, window, document),
function(e, t) {
    "function" == typeof define && define.amd ? define([], function() {
        return e.svg4everybody = t()
    }) : "object" == typeof module && module.exports ? module.exports = t() : e.svg4everybody = t()
}(this, function() {
    function g(e, t, n) {
        if (n) {
            var r = document.createDocumentFragment(),
                o = !t.hasAttribute("viewBox") && n.getAttribute("viewBox");
            o && t.setAttribute("viewBox", o);
            for (var i = n.cloneNode(!0); i.childNodes.length;) r.appendChild(i.firstChild);
            e.appendChild(r)
        }
    }

    function v(r) {
        r.onreadystatechange = function() {
            if (4 === r.readyState) {
                var n = r._cachedDocument;
                n || ((n = r._cachedDocument = document.implementation.createHTMLDocument("")).body.innerHTML = r.responseText, r._cachedTarget = {}), r._embeds.splice(0).map(function(e) {
                    var t = r._cachedTarget[e.id];
                    t || (t = r._cachedTarget[e.id] = n.getElementById(e.id)), g(e.parent, e.svg, t)
                })
            }
        }, r.onreadystatechange()
    }

    function y(e) {
        for (var t = e;
            "svg" !== t.nodeName.toLowerCase() && (t = t.parentNode););
        return t
    }
    return function(e) {
        var u, d = Object(e),
            t = window.top !== window.self;
        u = "polyfill" in d ? d.polyfill : /\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/.test(navigator.userAgent) || (navigator.userAgent.match(/\bEdge\/12\.(\d+)\b/) || [])[1] < 10547 || (navigator.userAgent.match(/\bAppleWebKit\/(\d+)\b/) || [])[1] < 537 || /\bEdge\/.(\d+)\b/.test(navigator.userAgent) && t;
        var f = {},
            h = window.requestAnimationFrame || setTimeout,
            p = document.getElementsByTagName("use"),
            m = 0;
        u && function e() {
            for (var t = 0; t < p.length;) {
                var n = p[t],
                    r = n.parentNode,
                    o = y(r),
                    i = n.getAttribute("xlink:href") || n.getAttribute("href");
                if (!i && d.attributeName && (i = n.getAttribute(d.attributeName)), o && i) {
                    if (u)
                        if (!d.validate || d.validate(i, o, n)) {
                            r.removeChild(n);
                            var a = i.split("#"),
                                s = a.shift(),
                                l = a.join("#");
                            if (s.length) {
                                var c = f[s];
                                c || ((c = f[s] = new XMLHttpRequest).open("GET", s), c.send(), c._embeds = []), c._embeds.push({
                                    parent: r,
                                    svg: o,
                                    id: l
                                }), v(c)
                            } else g(r, o, document.getElementById(l))
                        } else ++t, ++m
                } else ++t
            }(!p.length || 0 < p.length - m) && h(e, 67)
        }()
    }
}),
function(y) {
    var r, e, t, o = (e = document.createElement("input"), t = "onpaste", e.setAttribute(t, ""), ("function" == typeof e[t] ? "paste" : "input") + ".mask"),
        n = navigator.userAgent,
        b = /iphone/i.test(n),
        w = /android/i.test(n);
    y.mask = {
        definitions: {
            9: "[0-9]",
            a: "[A-Za-z]",
            "*": "[A-Za-z0-9]"
        },
        dataName: "rawMaskFn",
        placeholder: "_"
    }, y.fn.extend({
        caret: function(e, t) {
            var n;
            if (0 !== this.length && !this.is(":hidden")) return "number" == typeof e ? (t = "number" == typeof t ? t : e, this.each(function() {
                this.setSelectionRange ? this.setSelectionRange(e, t) : this.createTextRange && ((n = this.createTextRange()).collapse(!0), n.moveEnd("character", t), n.moveStart("character", e), n.select())
            })) : (this[0].setSelectionRange ? (e = this[0].selectionStart, t = this[0].selectionEnd) : document.selection && document.selection.createRange && (n = document.selection.createRange(), e = 0 - n.duplicate().moveStart("character", -1e5), t = e + n.text.length), {
                begin: e,
                end: t
            })
        },
        unmask: function() {
            return this.trigger("unmask")
        },
        mask: function(t, h) {
            var n, p, m, g, v;
            return !t && 0 < this.length ? y(this[0]).data(y.mask.dataName)() : (h = y.extend({
                placeholder: y.mask.placeholder,
                completed: null
            }, h), n = y.mask.definitions, p = [], m = v = t.length, g = null, y.each(t.split(""), function(e, t) {
                "?" == t ? (v--, m = e) : n[t] ? (p.push(RegExp(n[t])), null === g && (g = p.length - 1)) : p.push(null)
            }), this.trigger("unmask").each(function() {
                function a(e) {
                    for (; v > ++e && !p[e];);
                    return e
                }

                function s(e, t) {
                    var n, r;
                    if (!(e < 0)) {
                        for (n = e, r = a(t); n < v; n++)
                            if (p[n]) {
                                if (!(r < v && p[n].test(d[r]))) break;
                                d[n] = d[r], d[r] = h.placeholder, r = a(r)
                            }
                        c(), u.caret(Math.max(g, e))
                    }
                }

                function l(e, t) {
                    var n;
                    for (n = e; n < t && n < v; n++) p[n] && (d[n] = h.placeholder)
                }

                function c() {
                    u.val(d.join(""))
                }

                function i(e) {
                    var t, n, r = u.val(),
                        o = -1;
                    for (t = 0, pos = 0; t < v; t++)
                        if (p[t]) {
                            for (d[t] = h.placeholder; pos++ < r.length;)
                                if (n = r.charAt(pos - 1), p[t].test(n)) {
                                    d[t] = n, o = t;
                                    break
                                }
                            if (pos > r.length) break
                        } else d[t] === r.charAt(pos) && t !== m && (pos++, o = t);
                    return e ? c() : o + 1 < m ? (u.val(""), l(0, v)) : (c(), u.val(u.val().substring(0, o + 1))), m ? t : g
                }
                var u = y(this),
                    d = y.map(t.split(""), function(e) {
                        return "?" != e ? n[e] ? h.placeholder : e : void 0
                    }),
                    f = u.val();
                u.data(y.mask.dataName, function() {
                    return y.map(d, function(e, t) {
                        return p[t] && e != h.placeholder ? e : null
                    }).join("")
                }), u.attr("readonly") || u.one("unmask", function() {
                    u.unbind(".mask").removeData(y.mask.dataName)
                }).bind("focus.mask", function() {
                    var e;
                    clearTimeout(r), f = u.val(), e = i(), r = setTimeout(function() {
                        c(), e == t.length ? u.caret(0, e) : u.caret(e)
                    }, 10)
                }).bind("blur.mask", function() {
                    i(), u.val() != f && u.change()
                }).bind("keydown.mask", function(e) {
                    var t, n, r, o = e.which;
                    8 === o || 46 === o || b && 127 === o ? (n = (t = u.caret()).begin, 0 == (r = t.end) - n && (n = 46 !== o ? function(e) {
                        for (; 0 <= --e && !p[e];);
                        return e
                    }(n) : r = a(n - 1), r = 46 === o ? a(r) : r), l(n, r), s(n, r - 1), e.preventDefault()) : 27 == o && (u.val(f), u.caret(0, i()), e.preventDefault())
                }).bind("keypress.mask", function(e) {
                    var t, n, r, o = e.which,
                        i = u.caret();
                    e.ctrlKey || e.altKey || e.metaKey || o < 32 || o && (0 != i.end - i.begin && (l(i.begin, i.end), s(i.begin, i.end - 1)), (t = a(i.begin - 1)) < v && (n = String.fromCharCode(o), p[t].test(n) && (function(e) {
                        var t, n, r, o;
                        for (t = e, n = h.placeholder; t < v; t++)
                            if (p[t]) {
                                if (r = a(t), o = d[t], d[t] = n, !(r < v && p[r].test(o))) break;
                                n = o
                            }
                    }(t), d[t] = n, c(), r = a(t), w ? setTimeout(y.proxy(y.fn.caret, u, r), 0) : u.caret(r), h.completed && v <= r && h.completed.call(u))), e.preventDefault())
                }).bind(o, function() {
                    setTimeout(function() {
                        var e = i(!0);
                        u.caret(e), h.completed && e == u.val().length && h.completed.call(u)
                    }, 0)
                }), i()
            }))
        }
    })
}(jQuery),
function(n) {
    "function" == typeof define && define.amd ? define(["jquery"], n) : "object" == typeof module && module.exports ? module.exports = function(e, t) {
        return void 0 === t && (t = "undefined" != typeof window ? require("jquery") : require("jquery")(e)), n(t), t
    } : n(jQuery)
}(function(n) {
    var e = function() {
            if (n && n.fn && n.fn.select2 && n.fn.select2.amd) var e = n.fn.select2.amd;
            var t, o, c;
            return e && e.requirejs || (e ? o = e : e = {}, function(h) {
                function p(e, t) {
                    return n.call(e, t)
                }

                function s(e, t) {
                    var n, r, o, i, a, s, l, c, u, d, f, h = t && t.split("/"),
                        p = _.map,
                        m = p && p["*"] || {};
                    if (e) {
                        for (a = (e = e.split("/")).length - 1, _.nodeIdCompat && E.test(e[a]) && (e[a] = e[a].replace(E, "")), "." === e[0].charAt(0) && h && (e = h.slice(0, h.length - 1).concat(e)), u = 0; u < e.length; u++)
                            if ("." === (f = e[u])) e.splice(u, 1), u -= 1;
                            else if (".." === f) {
                            if (0 === u || 1 === u && ".." === e[2] || ".." === e[u - 1]) continue;
                            0 < u && (e.splice(u - 1, 2), u -= 2)
                        }
                        e = e.join("/")
                    }
                    if ((h || m) && p) {
                        for (u = (n = e.split("/")).length; 0 < u; u -= 1) {
                            if (r = n.slice(0, u).join("/"), h)
                                for (d = h.length; 0 < d; d -= 1)
                                    if ((o = p[h.slice(0, d).join("/")]) && (o = o[r])) {
                                        i = o, s = u;
                                        break
                                    }
                            if (i) break;
                            !l && m && m[r] && (l = m[r], c = u)
                        }!i && l && (i = l, s = c), i && (n.splice(0, s, i), e = n.join("/"))
                    }
                    return e
                }

                function m(t, n) {
                    return function() {
                        var e = r.call(arguments, 0);
                        return "string" != typeof e[0] && 1 === e.length && e.push(null), a.apply(h, e.concat([t, n]))
                    }
                }

                function g(t) {
                    return function(e) {
                        x[t] = e
                    }
                }

                function v(e) {
                    if (p(C, e)) {
                        var t = C[e];
                        delete C[e], S[e] = !0, i.apply(h, t)
                    }
                    if (!p(x, e) && !p(S, e)) throw new Error("No " + e);
                    return x[e]
                }

                function l(e) {
                    var t, n = e ? e.indexOf("!") : -1;
                    return -1 < n && (t = e.substring(0, n), e = e.substring(n + 1, e.length)), [t, e]
                }

                function y(e) {
                    return e ? l(e) : []
                }
                var i, a, b, w, x = {},
                    C = {},
                    _ = {},
                    S = {},
                    n = Object.prototype.hasOwnProperty,
                    r = [].slice,
                    E = /\.js$/;
                b = function(e, t) {
                    var n, r, o = l(e),
                        i = o[0],
                        a = t[1];
                    return e = o[1], i && (n = v(i = s(i, a))), i ? e = n && n.normalize ? n.normalize(e, (r = a, function(e) {
                        return s(e, r)
                    })) : s(e, a) : (i = (o = l(e = s(e, a)))[0], e = o[1], i && (n = v(i))), {
                        f: i ? i + "!" + e : e,
                        n: e,
                        pr: i,
                        p: n
                    }
                }, w = {
                    require: function(e) {
                        return m(e)
                    },
                    exports: function(e) {
                        var t = x[e];
                        return void 0 !== t ? t : x[e] = {}
                    },
                    module: function(e) {
                        return {
                            id: e,
                            uri: "",
                            exports: x[e],
                            config: (t = e, function() {
                                return _ && _.config && _.config[t] || {}
                            })
                        };
                        var t
                    }
                }, i = function(e, t, n, r) {
                    var o, i, a, s, l, c, u, d = [],
                        f = typeof n;
                    if (c = y(r = r || e), "undefined" === f || "function" === f) {
                        for (t = !t.length && n.length ? ["require", "exports", "module"] : t, l = 0; l < t.length; l += 1)
                            if ("require" === (i = (s = b(t[l], c)).f)) d[l] = w.require(e);
                            else if ("exports" === i) d[l] = w.exports(e), u = !0;
                        else if ("module" === i) o = d[l] = w.module(e);
                        else if (p(x, i) || p(C, i) || p(S, i)) d[l] = v(i);
                        else {
                            if (!s.p) throw new Error(e + " missing " + i);
                            s.p.load(s.n, m(r, !0), g(i), {}), d[l] = x[i]
                        }
                        a = n ? n.apply(x[e], d) : void 0, e && (o && o.exports !== h && o.exports !== x[e] ? x[e] = o.exports : a === h && u || (x[e] = a))
                    } else e && (x[e] = n)
                }, t = o = a = function(e, t, n, r, o) {
                    if ("string" == typeof e) return w[e] ? w[e](t) : v(b(e, y(t)).f);
                    if (!e.splice) {
                        if ((_ = e).deps && a(_.deps, _.callback), !t) return;
                        t.splice ? (e = t, t = n, n = null) : e = h
                    }
                    return t = t || function() {}, "function" == typeof n && (n = r, r = o), r ? i(h, e, t, n) : setTimeout(function() {
                        i(h, e, t, n)
                    }, 4), a
                }, a.config = function(e) {
                    return a(e)
                }, t._defined = x, (c = function(e, t, n) {
                    if ("string" != typeof e) throw new Error("See almond README: incorrect module build, no module name");
                    t.splice || (n = t, t = []), p(x, e) || p(C, e) || (C[e] = [e, t, n])
                }).amd = {
                    jQuery: !0
                }
            }(), e.requirejs = t, e.require = o, e.define = c), e.define("almond", function() {}), e.define("jquery", [], function() {
                var e = n || $;
                return null == e && console && console.error && console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."), e
            }), e.define("select2/utils", ["jquery"], function(i) {
                function u(e) {
                    var t = e.prototype,
                        n = [];
                    for (var r in t) "function" == typeof t[r] && "constructor" !== r && n.push(r);
                    return n
                }
                var e = {
                        Extend: function(e, t) {
                            function n() {
                                this.constructor = e
                            }
                            var r = {}.hasOwnProperty;
                            for (var o in t) r.call(t, o) && (e[o] = t[o]);
                            return n.prototype = t.prototype, e.prototype = new n, e.__super__ = t.prototype, e
                        },
                        Decorate: function(r, o) {
                            function i() {
                                var e = Array.prototype.unshift,
                                    t = o.prototype.constructor.length,
                                    n = r.prototype.constructor;
                                0 < t && (e.call(arguments, r.prototype.constructor), n = o.prototype.constructor), n.apply(this, arguments)
                            }
                            var e = u(o),
                                t = u(r);
                            o.displayName = r.displayName, i.prototype = new function() {
                                this.constructor = i
                            };
                            for (var n = 0; n < t.length; n++) {
                                var a = t[n];
                                i.prototype[a] = r.prototype[a]
                            }
                            for (var s = function(e) {
                                    var t = function() {};
                                    e in i.prototype && (t = i.prototype[e]);
                                    var n = o.prototype[e];
                                    return function() {
                                        return Array.prototype.unshift.call(arguments, t), n.apply(this, arguments)
                                    }
                                }, l = 0; l < e.length; l++) {
                                var c = e[l];
                                i.prototype[c] = s(c)
                            }
                            return i
                        }
                    },
                    t = function() {
                        this.listeners = {}
                    };
                return t.prototype.on = function(e, t) {
                    this.listeners = this.listeners || {}, e in this.listeners ? this.listeners[e].push(t) : this.listeners[e] = [t]
                }, t.prototype.trigger = function(e) {
                    var t = Array.prototype.slice,
                        n = t.call(arguments, 1);
                    this.listeners = this.listeners || {}, null == n && (n = []), 0 === n.length && n.push({}), (n[0]._type = e) in this.listeners && this.invoke(this.listeners[e], t.call(arguments, 1)), "*" in this.listeners && this.invoke(this.listeners["*"], arguments)
                }, t.prototype.invoke = function(e, t) {
                    for (var n = 0, r = e.length; n < r; n++) e[n].apply(this, t)
                }, e.Observable = t, e.generateChars = function(e) {
                    for (var t = "", n = 0; n < e; n++) t += Math.floor(36 * Math.random()).toString(36);
                    return t
                }, e.bind = function(e, t) {
                    return function() {
                        e.apply(t, arguments)
                    }
                }, e._convertData = function(e) {
                    for (var t in e) {
                        var n = t.split("-"),
                            r = e;
                        if (1 !== n.length) {
                            for (var o = 0; o < n.length; o++) {
                                var i = n[o];
                                (i = i.substring(0, 1).toLowerCase() + i.substring(1)) in r || (r[i] = {}), o == n.length - 1 && (r[i] = e[t]), r = r[i]
                            }
                            delete e[t]
                        }
                    }
                    return e
                }, e.hasScroll = function(e, t) {
                    var n = i(t),
                        r = t.style.overflowX,
                        o = t.style.overflowY;
                    return (r !== o || "hidden" !== o && "visible" !== o) && ("scroll" === r || "scroll" === o || n.innerHeight() < t.scrollHeight || n.innerWidth() < t.scrollWidth)
                }, e.escapeMarkup = function(e) {
                    var t = {
                        "\\": "&#92;",
                        "&": "&amp;",
                        "<": "&lt;",
                        ">": "&gt;",
                        '"': "&quot;",
                        "'": "&#39;",
                        "/": "&#47;"
                    };
                    return "string" != typeof e ? e : String(e).replace(/[&<>"'\/\\]/g, function(e) {
                        return t[e]
                    })
                }, e.appendMany = function(e, t) {
                    if ("1.7" === i.fn.jquery.substr(0, 3)) {
                        var n = i();
                        i.map(t, function(e) {
                            n = n.add(e)
                        }), t = n
                    }
                    e.append(t)
                }, e
            }), e.define("select2/results", ["jquery", "./utils"], function(f, e) {
                function r(e, t, n) {
                    this.$element = e, this.data = n, this.options = t, r.__super__.constructor.call(this)
                }
                return e.Extend(r, e.Observable), r.prototype.render = function() {
                    var e = f('<ul class="select2-results__options" role="tree"></ul>');
                    return this.options.get("multiple") && e.attr("aria-multiselectable", "true"), this.$results = e
                }, r.prototype.clear = function() {
                    this.$results.empty()
                }, r.prototype.displayMessage = function(e) {
                    var t = this.options.get("escapeMarkup");
                    this.clear(), this.hideLoading();
                    var n = f('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),
                        r = this.options.get("translations").get(e.message);
                    n.append(t(r(e.args))), n[0].className += " select2-results__message", this.$results.append(n)
                }, r.prototype.hideMessages = function() {
                    this.$results.find(".select2-results__message").remove()
                }, r.prototype.append = function(e) {
                    this.hideLoading();
                    var t = [];
                    if (null != e.results && 0 !== e.results.length) {
                        e.results = this.sort(e.results);
                        for (var n = 0; n < e.results.length; n++) {
                            var r = e.results[n],
                                o = this.option(r);
                            t.push(o)
                        }
                        this.$results.append(t)
                    } else 0 === this.$results.children().length && this.trigger("results:message", {
                        message: "noResults"
                    })
                }, r.prototype.position = function(e, t) {
                    t.find(".select2-results").append(e)
                }, r.prototype.sort = function(e) {
                    return this.options.get("sorter")(e)
                }, r.prototype.highlightFirstItem = function() {
                    var e = this.$results.find(".select2-results__option[aria-selected]"),
                        t = e.filter("[aria-selected=true]");
                    0 < t.length ? t.first().trigger("mouseenter") : e.first().trigger("mouseenter"), this.ensureHighlightVisible()
                }, r.prototype.setClasses = function() {
                    var t = this;
                    this.data.current(function(e) {
                        var r = f.map(e, function(e) {
                            return e.id.toString()
                        });
                        t.$results.find(".select2-results__option[aria-selected]").each(function() {
                            var e = f(this),
                                t = f.data(this, "data"),
                                n = "" + t.id;
                            null != t.element && t.element.selected || null == t.element && -1 < f.inArray(n, r) ? e.attr("aria-selected", "true") : e.attr("aria-selected", "false")
                        })
                    })
                }, r.prototype.showLoading = function(e) {
                    this.hideLoading();
                    var t = {
                            disabled: !0,
                            loading: !0,
                            text: this.options.get("translations").get("searching")(e)
                        },
                        n = this.option(t);
                    n.className += " loading-results", this.$results.prepend(n)
                }, r.prototype.hideLoading = function() {
                    this.$results.find(".loading-results").remove()
                }, r.prototype.option = function(e) {
                    var t = document.createElement("li");
                    t.className = "select2-results__option";
                    var n = {
                        role: "treeitem",
                        "aria-selected": "false"
                    };
                    for (var r in e.disabled && (delete n["aria-selected"], n["aria-disabled"] = "true"), null == e.id && delete n["aria-selected"], null != e._resultId && (t.id = e._resultId), e.title && (t.title = e.title), e.children && (n.role = "group", n["aria-label"] = e.text, delete n["aria-selected"]), n) {
                        var o = n[r];
                        t.setAttribute(r, o)
                    }
                    if (e.children) {
                        var i = f(t),
                            a = document.createElement("strong");
                        a.className = "select2-results__group", f(a), this.template(e, a);
                        for (var s = [], l = 0; l < e.children.length; l++) {
                            var c = e.children[l],
                                u = this.option(c);
                            s.push(u)
                        }
                        var d = f("<ul></ul>", {
                            class: "select2-results__options select2-results__options--nested"
                        });
                        d.append(s), i.append(a), i.append(d)
                    } else this.template(e, t);
                    return f.data(t, "data", e), t
                }, r.prototype.bind = function(t, e) {
                    var l = this,
                        n = t.id + "-results";
                    this.$results.attr("id", n), t.on("results:all", function(e) {
                        l.clear(), l.append(e.data), t.isOpen() && (l.setClasses(), l.highlightFirstItem())
                    }), t.on("results:append", function(e) {
                        l.append(e.data), t.isOpen() && l.setClasses()
                    }), t.on("query", function(e) {
                        l.hideMessages(), l.showLoading(e)
                    }), t.on("select", function() {
                        t.isOpen() && (l.setClasses(), l.highlightFirstItem())
                    }), t.on("unselect", function() {
                        t.isOpen() && (l.setClasses(), l.highlightFirstItem())
                    }), t.on("open", function() {
                        l.$results.attr("aria-expanded", "true"), l.$results.attr("aria-hidden", "false"), l.setClasses(), l.ensureHighlightVisible()
                    }), t.on("close", function() {
                        l.$results.attr("aria-expanded", "false"), l.$results.attr("aria-hidden", "true"), l.$results.removeAttr("aria-activedescendant")
                    }), t.on("results:toggle", function() {
                        var e = l.getHighlightedResults();
                        0 !== e.length && e.trigger("mouseup")
                    }), t.on("results:select", function() {
                        var e = l.getHighlightedResults();
                        if (0 !== e.length) {
                            var t = e.data("data");
                            "true" == e.attr("aria-selected") ? l.trigger("close", {}) : l.trigger("select", {
                                data: t
                            })
                        }
                    }), t.on("results:previous", function() {
                        var e = l.getHighlightedResults(),
                            t = l.$results.find("[aria-selected]"),
                            n = t.index(e);
                        if (0 !== n) {
                            var r = n - 1;
                            0 === e.length && (r = 0);
                            var o = t.eq(r);
                            o.trigger("mouseenter");
                            var i = l.$results.offset().top,
                                a = o.offset().top,
                                s = l.$results.scrollTop() + (a - i);
                            0 === r ? l.$results.scrollTop(0) : a - i < 0 && l.$results.scrollTop(s)
                        }
                    }), t.on("results:next", function() {
                        var e = l.getHighlightedResults(),
                            t = l.$results.find("[aria-selected]"),
                            n = t.index(e) + 1;
                        if (!(n >= t.length)) {
                            var r = t.eq(n);
                            r.trigger("mouseenter");
                            var o = l.$results.offset().top + l.$results.outerHeight(!1),
                                i = r.offset().top + r.outerHeight(!1),
                                a = l.$results.scrollTop() + i - o;
                            0 === n ? l.$results.scrollTop(0) : o < i && l.$results.scrollTop(a)
                        }
                    }), t.on("results:focus", function(e) {
                        e.element.addClass("select2-results__option--highlighted")
                    }), t.on("results:message", function(e) {
                        l.displayMessage(e)
                    }), f.fn.mousewheel && this.$results.on("mousewheel", function(e) {
                        var t = l.$results.scrollTop(),
                            n = l.$results.get(0).scrollHeight - t + e.deltaY,
                            r = 0 < e.deltaY && t - e.deltaY <= 0,
                            o = e.deltaY < 0 && n <= l.$results.height();
                        r ? (l.$results.scrollTop(0), e.preventDefault(), e.stopPropagation()) : o && (l.$results.scrollTop(l.$results.get(0).scrollHeight - l.$results.height()), e.preventDefault(), e.stopPropagation())
                    }), this.$results.on("mouseup", ".select2-results__option[aria-selected]", function(e) {
                        var t = f(this),
                            n = t.data("data");
                        "true" !== t.attr("aria-selected") ? l.trigger("select", {
                            originalEvent: e,
                            data: n
                        }) : l.options.get("multiple") ? l.trigger("unselect", {
                            originalEvent: e,
                            data: n
                        }) : l.trigger("close", {})
                    }), this.$results.on("mouseenter", ".select2-results__option[aria-selected]", function(e) {
                        var t = f(this).data("data");
                        l.getHighlightedResults().removeClass("select2-results__option--highlighted"), l.trigger("results:focus", {
                            data: t,
                            element: f(this)
                        })
                    })
                }, r.prototype.getHighlightedResults = function() {
                    return this.$results.find(".select2-results__option--highlighted")
                }, r.prototype.destroy = function() {
                    this.$results.remove()
                }, r.prototype.ensureHighlightVisible = function() {
                    var e = this.getHighlightedResults();
                    if (0 !== e.length) {
                        var t = this.$results.find("[aria-selected]").index(e),
                            n = this.$results.offset().top,
                            r = e.offset().top,
                            o = this.$results.scrollTop() + (r - n),
                            i = r - n;
                        o -= 2 * e.outerHeight(!1), t <= 2 ? this.$results.scrollTop(0) : (i > this.$results.outerHeight() || i < 0) && this.$results.scrollTop(o)
                    }
                }, r.prototype.template = function(e, t) {
                    var n = this.options.get("templateResult"),
                        r = this.options.get("escapeMarkup"),
                        o = n(e, t);
                    null == o ? t.style.display = "none" : "string" == typeof o ? t.innerHTML = r(o) : f(t).append(o)
                }, r
            }), e.define("select2/keys", [], function() {
                return {
                    BACKSPACE: 8,
                    TAB: 9,
                    ENTER: 13,
                    SHIFT: 16,
                    CTRL: 17,
                    ALT: 18,
                    ESC: 27,
                    SPACE: 32,
                    PAGE_UP: 33,
                    PAGE_DOWN: 34,
                    END: 35,
                    HOME: 36,
                    LEFT: 37,
                    UP: 38,
                    RIGHT: 39,
                    DOWN: 40,
                    DELETE: 46
                }
            }), e.define("select2/selection/base", ["jquery", "../utils", "../keys"], function(n, e, o) {
                function r(e, t) {
                    this.$element = e, this.options = t, r.__super__.constructor.call(this)
                }
                return e.Extend(r, e.Observable), r.prototype.render = function() {
                    var e = n('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');
                    return this._tabindex = 0, null != this.$element.data("old-tabindex") ? this._tabindex = this.$element.data("old-tabindex") : null != this.$element.attr("tabindex") && (this._tabindex = this.$element.attr("tabindex")), e.attr("title", this.$element.attr("title")), e.attr("tabindex", this._tabindex), this.$selection = e
                }, r.prototype.bind = function(e, t) {
                    var n = this,
                        r = (e.id, e.id + "-results");
                    this.container = e, this.$selection.on("focus", function(e) {
                        n.trigger("focus", e)
                    }), this.$selection.on("blur", function(e) {
                        n._handleBlur(e)
                    }), this.$selection.on("keydown", function(e) {
                        n.trigger("keypress", e), e.which === o.SPACE && e.preventDefault()
                    }), e.on("results:focus", function(e) {
                        n.$selection.attr("aria-activedescendant", e.data._resultId)
                    }), e.on("selection:update", function(e) {
                        n.update(e.data)
                    }), e.on("open", function() {
                        n.$selection.attr("aria-expanded", "true"), n.$selection.attr("aria-owns", r), n._attachCloseHandler(e)
                    }), e.on("close", function() {
                        n.$selection.attr("aria-expanded", "false"), n.$selection.removeAttr("aria-activedescendant"), n.$selection.removeAttr("aria-owns"), n.$selection.focus(), n._detachCloseHandler(e)
                    }), e.on("enable", function() {
                        n.$selection.attr("tabindex", n._tabindex)
                    }), e.on("disable", function() {
                        n.$selection.attr("tabindex", "-1")
                    })
                }, r.prototype._handleBlur = function(e) {
                    var t = this;
                    window.setTimeout(function() {
                        document.activeElement == t.$selection[0] || n.contains(t.$selection[0], document.activeElement) || t.trigger("blur", e)
                    }, 1)
                }, r.prototype._attachCloseHandler = function(e) {
                    n(document.body).on("mousedown.select2." + e.id, function(e) {
                        var t = n(e.target).closest(".select2");
                        n(".select2.select2-container--open").each(function() {
                            var e = n(this);
                            this != t[0] && e.data("element").select2("close")
                        })
                    })
                }, r.prototype._detachCloseHandler = function(e) {
                    n(document.body).off("mousedown.select2." + e.id)
                }, r.prototype.position = function(e, t) {
                    t.find(".selection").append(e)
                }, r.prototype.destroy = function() {
                    this._detachCloseHandler(this.container)
                }, r.prototype.update = function(e) {
                    throw new Error("The `update` method must be defined in child classes.")
                }, r
            }), e.define("select2/selection/single", ["jquery", "./base", "../utils", "../keys"], function(e, t, n, r) {
                function o() {
                    o.__super__.constructor.apply(this, arguments)
                }
                return n.Extend(o, t), o.prototype.render = function() {
                    var e = o.__super__.render.call(this);
                    return e.addClass("select2-selection--single"), e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'), e
                }, o.prototype.bind = function(t, e) {
                    var n = this;
                    o.__super__.bind.apply(this, arguments);
                    var r = t.id + "-container";
                    this.$selection.find(".select2-selection__rendered").attr("id", r), this.$selection.attr("aria-labelledby", r), this.$selection.on("mousedown", function(e) {
                        1 === e.which && n.trigger("toggle", {
                            originalEvent: e
                        })
                    }), this.$selection.on("focus", function(e) {}), this.$selection.on("blur", function(e) {}), t.on("focus", function(e) {
                        t.isOpen() || n.$selection.focus()
                    }), t.on("selection:update", function(e) {
                        n.update(e.data)
                    })
                }, o.prototype.clear = function() {
                    this.$selection.find(".select2-selection__rendered").empty()
                }, o.prototype.display = function(e, t) {
                    var n = this.options.get("templateSelection");
                    return this.options.get("escapeMarkup")(n(e, t))
                }, o.prototype.selectionContainer = function() {
                    return e("<span></span>")
                }, o.prototype.update = function(e) {
                    if (0 !== e.length) {
                        var t = e[0],
                            n = this.$selection.find(".select2-selection__rendered"),
                            r = this.display(t, n);
                        n.empty().append(r), n.prop("title", t.title || t.text)
                    } else this.clear()
                }, o
            }), e.define("select2/selection/multiple", ["jquery", "./base", "../utils"], function(r, e, s) {
                function o(e, t) {
                    o.__super__.constructor.apply(this, arguments)
                }
                return s.Extend(o, e), o.prototype.render = function() {
                    var e = o.__super__.render.call(this);
                    return e.addClass("select2-selection--multiple"), e.html('<ul class="select2-selection__rendered"></ul>'), e
                }, o.prototype.bind = function(e, t) {
                    var n = this;
                    o.__super__.bind.apply(this, arguments), this.$selection.on("click", function(e) {
                        n.trigger("toggle", {
                            originalEvent: e
                        })
                    }), this.$selection.on("click", ".select2-selection__choice__remove", function(e) {
                        if (!n.options.get("disabled")) {
                            var t = r(this).parent().data("data");
                            n.trigger("unselect", {
                                originalEvent: e,
                                data: t
                            })
                        }
                    })
                }, o.prototype.clear = function() {
                    this.$selection.find(".select2-selection__rendered").empty()
                }, o.prototype.display = function(e, t) {
                    var n = this.options.get("templateSelection");
                    return this.options.get("escapeMarkup")(n(e, t))
                }, o.prototype.selectionContainer = function() {
                    return r('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')
                }, o.prototype.update = function(e) {
                    if (this.clear(), 0 !== e.length) {
                        for (var t = [], n = 0; n < e.length; n++) {
                            var r = e[n],
                                o = this.selectionContainer(),
                                i = this.display(r, o);
                            o.append(i), o.prop("title", r.title || r.text), o.data("data", r), t.push(o)
                        }
                        var a = this.$selection.find(".select2-selection__rendered");
                        s.appendMany(a, t)
                    }
                }, o
            }), e.define("select2/selection/placeholder", ["../utils"], function(e) {
                function t(e, t, n) {
                    this.placeholder = this.normalizePlaceholder(n.get("placeholder")), e.call(this, t, n)
                }
                return t.prototype.normalizePlaceholder = function(e, t) {
                    return "string" == typeof t && (t = {
                        id: "",
                        text: t
                    }), t
                }, t.prototype.createPlaceholder = function(e, t) {
                    var n = this.selectionContainer();
                    return n.html(this.display(t)), n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"), n
                }, t.prototype.update = function(e, t) {
                    var n = 1 == t.length && t[0].id != this.placeholder.id;
                    if (1 < t.length || n) return e.call(this, t);
                    this.clear();
                    var r = this.createPlaceholder(this.placeholder);
                    this.$selection.find(".select2-selection__rendered").append(r)
                }, t
            }), e.define("select2/selection/allowClear", ["jquery", "../keys"], function(r, o) {
                function e() {}
                return e.prototype.bind = function(e, t, n) {
                    var r = this;
                    e.call(this, t, n), null == this.placeholder && this.options.get("debug") && window.console && console.error && console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."), this.$selection.on("mousedown", ".select2-selection__clear", function(e) {
                        r._handleClear(e)
                    }), t.on("keypress", function(e) {
                        r._handleKeyboardClear(e, t)
                    })
                }, e.prototype._handleClear = function(e, t) {
                    if (!this.options.get("disabled")) {
                        var n = this.$selection.find(".select2-selection__clear");
                        if (0 !== n.length) {
                            t.stopPropagation();
                            for (var r = n.data("data"), o = 0; o < r.length; o++) {
                                var i = {
                                    data: r[o]
                                };
                                if (this.trigger("unselect", i), i.prevented) return
                            }
                            this.$element.val(this.placeholder.id).trigger("change"), this.trigger("toggle", {})
                        }
                    }
                }, e.prototype._handleKeyboardClear = function(e, t, n) {
                    n.isOpen() || t.which != o.DELETE && t.which != o.BACKSPACE || this._handleClear(t)
                }, e.prototype.update = function(e, t) {
                    if (e.call(this, t), !(0 < this.$selection.find(".select2-selection__placeholder").length || 0 === t.length)) {
                        var n = r('<span class="select2-selection__clear">&times;</span>');
                        n.data("data", t), this.$selection.find(".select2-selection__rendered").prepend(n)
                    }
                }, e
            }), e.define("select2/selection/search", ["jquery", "../utils", "../keys"], function(r, e, a) {
                function t(e, t, n) {
                    e.call(this, t, n)
                }
                return t.prototype.render = function(e) {
                    var t = r('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');
                    this.$searchContainer = t, this.$search = t.find("input");
                    var n = e.call(this);
                    return this._transferTabIndex(), n
                }, t.prototype.bind = function(e, t, n) {
                    var r = this;
                    e.call(this, t, n), t.on("open", function() {
                        r.$search.trigger("focus")
                    }), t.on("close", function() {
                        r.$search.val(""), r.$search.removeAttr("aria-activedescendant"), r.$search.trigger("focus")
                    }), t.on("enable", function() {
                        r.$search.prop("disabled", !1), r._transferTabIndex()
                    }), t.on("disable", function() {
                        r.$search.prop("disabled", !0)
                    }), t.on("focus", function(e) {
                        r.$search.trigger("focus")
                    }), t.on("results:focus", function(e) {
                        r.$search.attr("aria-activedescendant", e.id)
                    }), this.$selection.on("focusin", ".select2-search--inline", function(e) {
                        r.trigger("focus", e)
                    }), this.$selection.on("focusout", ".select2-search--inline", function(e) {
                        r._handleBlur(e)
                    }), this.$selection.on("keydown", ".select2-search--inline", function(e) {
                        if (e.stopPropagation(), r.trigger("keypress", e), r._keyUpPrevented = e.isDefaultPrevented(), e.which === a.BACKSPACE && "" === r.$search.val()) {
                            var t = r.$searchContainer.prev(".select2-selection__choice");
                            if (0 < t.length) {
                                var n = t.data("data");
                                r.searchRemoveChoice(n), e.preventDefault()
                            }
                        }
                    });
                    var o = document.documentMode,
                        i = o && o <= 11;
                    this.$selection.on("input.searchcheck", ".select2-search--inline", function(e) {
                        i ? r.$selection.off("input.search input.searchcheck") : r.$selection.off("keyup.search")
                    }), this.$selection.on("keyup.search input.search", ".select2-search--inline", function(e) {
                        if (i && "input" === e.type) r.$selection.off("input.search input.searchcheck");
                        else {
                            var t = e.which;
                            t != a.SHIFT && t != a.CTRL && t != a.ALT && t != a.TAB && r.handleSearch(e)
                        }
                    })
                }, t.prototype._transferTabIndex = function(e) {
                    this.$search.attr("tabindex", this.$selection.attr("tabindex")), this.$selection.attr("tabindex", "-1")
                }, t.prototype.createPlaceholder = function(e, t) {
                    this.$search.attr("placeholder", t.text)
                }, t.prototype.update = function(e, t) {
                    var n = this.$search[0] == document.activeElement;
                    this.$search.attr("placeholder", ""), e.call(this, t), this.$selection.find(".select2-selection__rendered").append(this.$searchContainer), this.resizeSearch(), n && this.$search.focus()
                }, t.prototype.handleSearch = function() {
                    if (this.resizeSearch(), !this._keyUpPrevented) {
                        var e = this.$search.val();
                        this.trigger("query", {
                            term: e
                        })
                    }
                    this._keyUpPrevented = !1
                }, t.prototype.searchRemoveChoice = function(e, t) {
                    this.trigger("unselect", {
                        data: t
                    }), this.$search.val(t.text), this.handleSearch()
                }, t.prototype.resizeSearch = function() {
                    this.$search.css("width", "25px");
                    var e = "";
                    e = "" !== this.$search.attr("placeholder") ? this.$selection.find(".select2-selection__rendered").innerWidth() : .75 * (this.$search.val().length + 1) + "em", this.$search.css("width", e)
                }, t
            }), e.define("select2/selection/eventRelay", ["jquery"], function(a) {
                function e() {}
                return e.prototype.bind = function(e, t, n) {
                    var r = this,
                        o = ["open", "opening", "close", "closing", "select", "selecting", "unselect", "unselecting"],
                        i = ["opening", "closing", "selecting", "unselecting"];
                    e.call(this, t, n), t.on("*", function(e, t) {
                        if (-1 !== a.inArray(e, o)) {
                            t = t || {};
                            var n = a.Event("select2:" + e, {
                                params: t
                            });
                            r.$element.trigger(n), -1 !== a.inArray(e, i) && (t.prevented = n.isDefaultPrevented())
                        }
                    })
                }, e
            }), e.define("select2/translation", ["jquery", "require"], function(t, n) {
                function r(e) {
                    this.dict = e || {}
                }
                return r.prototype.all = function() {
                    return this.dict
                }, r.prototype.get = function(e) {
                    return this.dict[e]
                }, r.prototype.extend = function(e) {
                    this.dict = t.extend({}, e.all(), this.dict)
                }, r._cache = {}, r.loadPath = function(e) {
                    if (!(e in r._cache)) {
                        var t = n(e);
                        r._cache[e] = t
                    }
                    return new r(r._cache[e])
                }, r
            }), e.define("select2/diacritics", [], function() {
                return {
                    "Ⓐ": "A",
                    "Ａ": "A",
                    "À": "A",
                    "Á": "A",
                    "Â": "A",
                    "Ầ": "A",
                    "Ấ": "A",
                    "Ẫ": "A",
                    "Ẩ": "A",
                    "Ã": "A",
                    "Ā": "A",
                    "Ă": "A",
                    "Ằ": "A",
                    "Ắ": "A",
                    "Ẵ": "A",
                    "Ẳ": "A",
                    "Ȧ": "A",
                    "Ǡ": "A",
                    "Ä": "A",
                    "Ǟ": "A",
                    "Ả": "A",
                    "Å": "A",
                    "Ǻ": "A",
                    "Ǎ": "A",
                    "Ȁ": "A",
                    "Ȃ": "A",
                    "Ạ": "A",
                    "Ậ": "A",
                    "Ặ": "A",
                    "Ḁ": "A",
                    "Ą": "A",
                    "Ⱥ": "A",
                    "Ɐ": "A",
                    "Ꜳ": "AA",
                    "Æ": "AE",
                    "Ǽ": "AE",
                    "Ǣ": "AE",
                    "Ꜵ": "AO",
                    "Ꜷ": "AU",
                    "Ꜹ": "AV",
                    "Ꜻ": "AV",
                    "Ꜽ": "AY",
                    "Ⓑ": "B",
                    "Ｂ": "B",
                    "Ḃ": "B",
                    "Ḅ": "B",
                    "Ḇ": "B",
                    "Ƀ": "B",
                    "Ƃ": "B",
                    "Ɓ": "B",
                    "Ⓒ": "C",
                    "Ｃ": "C",
                    "Ć": "C",
                    "Ĉ": "C",
                    "Ċ": "C",
                    "Č": "C",
                    "Ç": "C",
                    "Ḉ": "C",
                    "Ƈ": "C",
                    "Ȼ": "C",
                    "Ꜿ": "C",
                    "Ⓓ": "D",
                    "Ｄ": "D",
                    "Ḋ": "D",
                    "Ď": "D",
                    "Ḍ": "D",
                    "Ḑ": "D",
                    "Ḓ": "D",
                    "Ḏ": "D",
                    "Đ": "D",
                    "Ƌ": "D",
                    "Ɗ": "D",
                    "Ɖ": "D",
                    "Ꝺ": "D",
                    "Ǳ": "DZ",
                    "Ǆ": "DZ",
                    "ǲ": "Dz",
                    "ǅ": "Dz",
                    "Ⓔ": "E",
                    "Ｅ": "E",
                    "È": "E",
                    "É": "E",
                    "Ê": "E",
                    "Ề": "E",
                    "Ế": "E",
                    "Ễ": "E",
                    "Ể": "E",
                    "Ẽ": "E",
                    "Ē": "E",
                    "Ḕ": "E",
                    "Ḗ": "E",
                    "Ĕ": "E",
                    "Ė": "E",
                    "Ë": "E",
                    "Ẻ": "E",
                    "Ě": "E",
                    "Ȅ": "E",
                    "Ȇ": "E",
                    "Ẹ": "E",
                    "Ệ": "E",
                    "Ȩ": "E",
                    "Ḝ": "E",
                    "Ę": "E",
                    "Ḙ": "E",
                    "Ḛ": "E",
                    "Ɛ": "E",
                    "Ǝ": "E",
                    "Ⓕ": "F",
                    "Ｆ": "F",
                    "Ḟ": "F",
                    "Ƒ": "F",
                    "Ꝼ": "F",
                    "Ⓖ": "G",
                    "Ｇ": "G",
                    "Ǵ": "G",
                    "Ĝ": "G",
                    "Ḡ": "G",
                    "Ğ": "G",
                    "Ġ": "G",
                    "Ǧ": "G",
                    "Ģ": "G",
                    "Ǥ": "G",
                    "Ɠ": "G",
                    "Ꞡ": "G",
                    "Ᵹ": "G",
                    "Ꝿ": "G",
                    "Ⓗ": "H",
                    "Ｈ": "H",
                    "Ĥ": "H",
                    "Ḣ": "H",
                    "Ḧ": "H",
                    "Ȟ": "H",
                    "Ḥ": "H",
                    "Ḩ": "H",
                    "Ḫ": "H",
                    "Ħ": "H",
                    "Ⱨ": "H",
                    "Ⱶ": "H",
                    "Ɥ": "H",
                    "Ⓘ": "I",
                    "Ｉ": "I",
                    "Ì": "I",
                    "Í": "I",
                    "Î": "I",
                    "Ĩ": "I",
                    "Ī": "I",
                    "Ĭ": "I",
                    "İ": "I",
                    "Ï": "I",
                    "Ḯ": "I",
                    "Ỉ": "I",
                    "Ǐ": "I",
                    "Ȉ": "I",
                    "Ȋ": "I",
                    "Ị": "I",
                    "Į": "I",
                    "Ḭ": "I",
                    "Ɨ": "I",
                    "Ⓙ": "J",
                    "Ｊ": "J",
                    "Ĵ": "J",
                    "Ɉ": "J",
                    "Ⓚ": "K",
                    "Ｋ": "K",
                    "Ḱ": "K",
                    "Ǩ": "K",
                    "Ḳ": "K",
                    "Ķ": "K",
                    "Ḵ": "K",
                    "Ƙ": "K",
                    "Ⱪ": "K",
                    "Ꝁ": "K",
                    "Ꝃ": "K",
                    "Ꝅ": "K",
                    "Ꞣ": "K",
                    "Ⓛ": "L",
                    "Ｌ": "L",
                    "Ŀ": "L",
                    "Ĺ": "L",
                    "Ľ": "L",
                    "Ḷ": "L",
                    "Ḹ": "L",
                    "Ļ": "L",
                    "Ḽ": "L",
                    "Ḻ": "L",
                    "Ł": "L",
                    "Ƚ": "L",
                    "Ɫ": "L",
                    "Ⱡ": "L",
                    "Ꝉ": "L",
                    "Ꝇ": "L",
                    "Ꞁ": "L",
                    "Ǉ": "LJ",
                    "ǈ": "Lj",
                    "Ⓜ": "M",
                    "Ｍ": "M",
                    "Ḿ": "M",
                    "Ṁ": "M",
                    "Ṃ": "M",
                    "Ɱ": "M",
                    "Ɯ": "M",
                    "Ⓝ": "N",
                    "Ｎ": "N",
                    "Ǹ": "N",
                    "Ń": "N",
                    "Ñ": "N",
                    "Ṅ": "N",
                    "Ň": "N",
                    "Ṇ": "N",
                    "Ņ": "N",
                    "Ṋ": "N",
                    "Ṉ": "N",
                    "Ƞ": "N",
                    "Ɲ": "N",
                    "Ꞑ": "N",
                    "Ꞥ": "N",
                    "Ǌ": "NJ",
                    "ǋ": "Nj",
                    "Ⓞ": "O",
                    "Ｏ": "O",
                    "Ò": "O",
                    "Ó": "O",
                    "Ô": "O",
                    "Ồ": "O",
                    "Ố": "O",
                    "Ỗ": "O",
                    "Ổ": "O",
                    "Õ": "O",
                    "Ṍ": "O",
                    "Ȭ": "O",
                    "Ṏ": "O",
                    "Ō": "O",
                    "Ṑ": "O",
                    "Ṓ": "O",
                    "Ŏ": "O",
                    "Ȯ": "O",
                    "Ȱ": "O",
                    "Ö": "O",
                    "Ȫ": "O",
                    "Ỏ": "O",
                    "Ő": "O",
                    "Ǒ": "O",
                    "Ȍ": "O",
                    "Ȏ": "O",
                    "Ơ": "O",
                    "Ờ": "O",
                    "Ớ": "O",
                    "Ỡ": "O",
                    "Ở": "O",
                    "Ợ": "O",
                    "Ọ": "O",
                    "Ộ": "O",
                    "Ǫ": "O",
                    "Ǭ": "O",
                    "Ø": "O",
                    "Ǿ": "O",
                    "Ɔ": "O",
                    "Ɵ": "O",
                    "Ꝋ": "O",
                    "Ꝍ": "O",
                    "Ƣ": "OI",
                    "Ꝏ": "OO",
                    "Ȣ": "OU",
                    "Ⓟ": "P",
                    "Ｐ": "P",
                    "Ṕ": "P",
                    "Ṗ": "P",
                    "Ƥ": "P",
                    "Ᵽ": "P",
                    "Ꝑ": "P",
                    "Ꝓ": "P",
                    "Ꝕ": "P",
                    "Ⓠ": "Q",
                    "Ｑ": "Q",
                    "Ꝗ": "Q",
                    "Ꝙ": "Q",
                    "Ɋ": "Q",
                    "Ⓡ": "R",
                    "Ｒ": "R",
                    "Ŕ": "R",
                    "Ṙ": "R",
                    "Ř": "R",
                    "Ȑ": "R",
                    "Ȓ": "R",
                    "Ṛ": "R",
                    "Ṝ": "R",
                    "Ŗ": "R",
                    "Ṟ": "R",
                    "Ɍ": "R",
                    "Ɽ": "R",
                    "Ꝛ": "R",
                    "Ꞧ": "R",
                    "Ꞃ": "R",
                    "Ⓢ": "S",
                    "Ｓ": "S",
                    "ẞ": "S",
                    "Ś": "S",
                    "Ṥ": "S",
                    "Ŝ": "S",
                    "Ṡ": "S",
                    "Š": "S",
                    "Ṧ": "S",
                    "Ṣ": "S",
                    "Ṩ": "S",
                    "Ș": "S",
                    "Ş": "S",
                    "Ȿ": "S",
                    "Ꞩ": "S",
                    "Ꞅ": "S",
                    "Ⓣ": "T",
                    "Ｔ": "T",
                    "Ṫ": "T",
                    "Ť": "T",
                    "Ṭ": "T",
                    "Ț": "T",
                    "Ţ": "T",
                    "Ṱ": "T",
                    "Ṯ": "T",
                    "Ŧ": "T",
                    "Ƭ": "T",
                    "Ʈ": "T",
                    "Ⱦ": "T",
                    "Ꞇ": "T",
                    "Ꜩ": "TZ",
                    "Ⓤ": "U",
                    "Ｕ": "U",
                    "Ù": "U",
                    "Ú": "U",
                    "Û": "U",
                    "Ũ": "U",
                    "Ṹ": "U",
                    "Ū": "U",
                    "Ṻ": "U",
                    "Ŭ": "U",
                    "Ü": "U",
                    "Ǜ": "U",
                    "Ǘ": "U",
                    "Ǖ": "U",
                    "Ǚ": "U",
                    "Ủ": "U",
                    "Ů": "U",
                    "Ű": "U",
                    "Ǔ": "U",
                    "Ȕ": "U",
                    "Ȗ": "U",
                    "Ư": "U",
                    "Ừ": "U",
                    "Ứ": "U",
                    "Ữ": "U",
                    "Ử": "U",
                    "Ự": "U",
                    "Ụ": "U",
                    "Ṳ": "U",
                    "Ų": "U",
                    "Ṷ": "U",
                    "Ṵ": "U",
                    "Ʉ": "U",
                    "Ⓥ": "V",
                    "Ｖ": "V",
                    "Ṽ": "V",
                    "Ṿ": "V",
                    "Ʋ": "V",
                    "Ꝟ": "V",
                    "Ʌ": "V",
                    "Ꝡ": "VY",
                    "Ⓦ": "W",
                    "Ｗ": "W",
                    "Ẁ": "W",
                    "Ẃ": "W",
                    "Ŵ": "W",
                    "Ẇ": "W",
                    "Ẅ": "W",
                    "Ẉ": "W",
                    "Ⱳ": "W",
                    "Ⓧ": "X",
                    "Ｘ": "X",
                    "Ẋ": "X",
                    "Ẍ": "X",
                    "Ⓨ": "Y",
                    "Ｙ": "Y",
                    "Ỳ": "Y",
                    "Ý": "Y",
                    "Ŷ": "Y",
                    "Ỹ": "Y",
                    "Ȳ": "Y",
                    "Ẏ": "Y",
                    "Ÿ": "Y",
                    "Ỷ": "Y",
                    "Ỵ": "Y",
                    "Ƴ": "Y",
                    "Ɏ": "Y",
                    "Ỿ": "Y",
                    "Ⓩ": "Z",
                    "Ｚ": "Z",
                    "Ź": "Z",
                    "Ẑ": "Z",
                    "Ż": "Z",
                    "Ž": "Z",
                    "Ẓ": "Z",
                    "Ẕ": "Z",
                    "Ƶ": "Z",
                    "Ȥ": "Z",
                    "Ɀ": "Z",
                    "Ⱬ": "Z",
                    "Ꝣ": "Z",
                    "ⓐ": "a",
                    "ａ": "a",
                    "ẚ": "a",
                    "à": "a",
                    "á": "a",
                    "â": "a",
                    "ầ": "a",
                    "ấ": "a",
                    "ẫ": "a",
                    "ẩ": "a",
                    "ã": "a",
                    "ā": "a",
                    "ă": "a",
                    "ằ": "a",
                    "ắ": "a",
                    "ẵ": "a",
                    "ẳ": "a",
                    "ȧ": "a",
                    "ǡ": "a",
                    "ä": "a",
                    "ǟ": "a",
                    "ả": "a",
                    "å": "a",
                    "ǻ": "a",
                    "ǎ": "a",
                    "ȁ": "a",
                    "ȃ": "a",
                    "ạ": "a",
                    "ậ": "a",
                    "ặ": "a",
                    "ḁ": "a",
                    "ą": "a",
                    "ⱥ": "a",
                    "ɐ": "a",
                    "ꜳ": "aa",
                    "æ": "ae",
                    "ǽ": "ae",
                    "ǣ": "ae",
                    "ꜵ": "ao",
                    "ꜷ": "au",
                    "ꜹ": "av",
                    "ꜻ": "av",
                    "ꜽ": "ay",
                    "ⓑ": "b",
                    "ｂ": "b",
                    "ḃ": "b",
                    "ḅ": "b",
                    "ḇ": "b",
                    "ƀ": "b",
                    "ƃ": "b",
                    "ɓ": "b",
                    "ⓒ": "c",
                    "ｃ": "c",
                    "ć": "c",
                    "ĉ": "c",
                    "ċ": "c",
                    "č": "c",
                    "ç": "c",
                    "ḉ": "c",
                    "ƈ": "c",
                    "ȼ": "c",
                    "ꜿ": "c",
                    "ↄ": "c",
                    "ⓓ": "d",
                    "ｄ": "d",
                    "ḋ": "d",
                    "ď": "d",
                    "ḍ": "d",
                    "ḑ": "d",
                    "ḓ": "d",
                    "ḏ": "d",
                    "đ": "d",
                    "ƌ": "d",
                    "ɖ": "d",
                    "ɗ": "d",
                    "ꝺ": "d",
                    "ǳ": "dz",
                    "ǆ": "dz",
                    "ⓔ": "e",
                    "ｅ": "e",
                    "è": "e",
                    "é": "e",
                    "ê": "e",
                    "ề": "e",
                    "ế": "e",
                    "ễ": "e",
                    "ể": "e",
                    "ẽ": "e",
                    "ē": "e",
                    "ḕ": "e",
                    "ḗ": "e",
                    "ĕ": "e",
                    "ė": "e",
                    "ë": "e",
                    "ẻ": "e",
                    "ě": "e",
                    "ȅ": "e",
                    "ȇ": "e",
                    "ẹ": "e",
                    "ệ": "e",
                    "ȩ": "e",
                    "ḝ": "e",
                    "ę": "e",
                    "ḙ": "e",
                    "ḛ": "e",
                    "ɇ": "e",
                    "ɛ": "e",
                    "ǝ": "e",
                    "ⓕ": "f",
                    "ｆ": "f",
                    "ḟ": "f",
                    "ƒ": "f",
                    "ꝼ": "f",
                    "ⓖ": "g",
                    "ｇ": "g",
                    "ǵ": "g",
                    "ĝ": "g",
                    "ḡ": "g",
                    "ğ": "g",
                    "ġ": "g",
                    "ǧ": "g",
                    "ģ": "g",
                    "ǥ": "g",
                    "ɠ": "g",
                    "ꞡ": "g",
                    "ᵹ": "g",
                    "ꝿ": "g",
                    "ⓗ": "h",
                    "ｈ": "h",
                    "ĥ": "h",
                    "ḣ": "h",
                    "ḧ": "h",
                    "ȟ": "h",
                    "ḥ": "h",
                    "ḩ": "h",
                    "ḫ": "h",
                    "ẖ": "h",
                    "ħ": "h",
                    "ⱨ": "h",
                    "ⱶ": "h",
                    "ɥ": "h",
                    "ƕ": "hv",
                    "ⓘ": "i",
                    "ｉ": "i",
                    "ì": "i",
                    "í": "i",
                    "î": "i",
                    "ĩ": "i",
                    "ī": "i",
                    "ĭ": "i",
                    "ï": "i",
                    "ḯ": "i",
                    "ỉ": "i",
                    "ǐ": "i",
                    "ȉ": "i",
                    "ȋ": "i",
                    "ị": "i",
                    "į": "i",
                    "ḭ": "i",
                    "ɨ": "i",
                    "ı": "i",
                    "ⓙ": "j",
                    "ｊ": "j",
                    "ĵ": "j",
                    "ǰ": "j",
                    "ɉ": "j",
                    "ⓚ": "k",
                    "ｋ": "k",
                    "ḱ": "k",
                    "ǩ": "k",
                    "ḳ": "k",
                    "ķ": "k",
                    "ḵ": "k",
                    "ƙ": "k",
                    "ⱪ": "k",
                    "ꝁ": "k",
                    "ꝃ": "k",
                    "ꝅ": "k",
                    "ꞣ": "k",
                    "ⓛ": "l",
                    "ｌ": "l",
                    "ŀ": "l",
                    "ĺ": "l",
                    "ľ": "l",
                    "ḷ": "l",
                    "ḹ": "l",
                    "ļ": "l",
                    "ḽ": "l",
                    "ḻ": "l",
                    "ſ": "l",
                    "ł": "l",
                    "ƚ": "l",
                    "ɫ": "l",
                    "ⱡ": "l",
                    "ꝉ": "l",
                    "ꞁ": "l",
                    "ꝇ": "l",
                    "ǉ": "lj",
                    "ⓜ": "m",
                    "ｍ": "m",
                    "ḿ": "m",
                    "ṁ": "m",
                    "ṃ": "m",
                    "ɱ": "m",
                    "ɯ": "m",
                    "ⓝ": "n",
                    "ｎ": "n",
                    "ǹ": "n",
                    "ń": "n",
                    "ñ": "n",
                    "ṅ": "n",
                    "ň": "n",
                    "ṇ": "n",
                    "ņ": "n",
                    "ṋ": "n",
                    "ṉ": "n",
                    "ƞ": "n",
                    "ɲ": "n",
                    "ŉ": "n",
                    "ꞑ": "n",
                    "ꞥ": "n",
                    "ǌ": "nj",
                    "ⓞ": "o",
                    "ｏ": "o",
                    "ò": "o",
                    "ó": "o",
                    "ô": "o",
                    "ồ": "o",
                    "ố": "o",
                    "ỗ": "o",
                    "ổ": "o",
                    "õ": "o",
                    "ṍ": "o",
                    "ȭ": "o",
                    "ṏ": "o",
                    "ō": "o",
                    "ṑ": "o",
                    "ṓ": "o",
                    "ŏ": "o",
                    "ȯ": "o",
                    "ȱ": "o",
                    "ö": "o",
                    "ȫ": "o",
                    "ỏ": "o",
                    "ő": "o",
                    "ǒ": "o",
                    "ȍ": "o",
                    "ȏ": "o",
                    "ơ": "o",
                    "ờ": "o",
                    "ớ": "o",
                    "ỡ": "o",
                    "ở": "o",
                    "ợ": "o",
                    "ọ": "o",
                    "ộ": "o",
                    "ǫ": "o",
                    "ǭ": "o",
                    "ø": "o",
                    "ǿ": "o",
                    "ɔ": "o",
                    "ꝋ": "o",
                    "ꝍ": "o",
                    "ɵ": "o",
                    "ƣ": "oi",
                    "ȣ": "ou",
                    "ꝏ": "oo",
                    "ⓟ": "p",
                    "ｐ": "p",
                    "ṕ": "p",
                    "ṗ": "p",
                    "ƥ": "p",
                    "ᵽ": "p",
                    "ꝑ": "p",
                    "ꝓ": "p",
                    "ꝕ": "p",
                    "ⓠ": "q",
                    "ｑ": "q",
                    "ɋ": "q",
                    "ꝗ": "q",
                    "ꝙ": "q",
                    "ⓡ": "r",
                    "ｒ": "r",
                    "ŕ": "r",
                    "ṙ": "r",
                    "ř": "r",
                    "ȑ": "r",
                    "ȓ": "r",
                    "ṛ": "r",
                    "ṝ": "r",
                    "ŗ": "r",
                    "ṟ": "r",
                    "ɍ": "r",
                    "ɽ": "r",
                    "ꝛ": "r",
                    "ꞧ": "r",
                    "ꞃ": "r",
                    "ⓢ": "s",
                    "ｓ": "s",
                    "ß": "s",
                    "ś": "s",
                    "ṥ": "s",
                    "ŝ": "s",
                    "ṡ": "s",
                    "š": "s",
                    "ṧ": "s",
                    "ṣ": "s",
                    "ṩ": "s",
                    "ș": "s",
                    "ş": "s",
                    "ȿ": "s",
                    "ꞩ": "s",
                    "ꞅ": "s",
                    "ẛ": "s",
                    "ⓣ": "t",
                    "ｔ": "t",
                    "ṫ": "t",
                    "ẗ": "t",
                    "ť": "t",
                    "ṭ": "t",
                    "ț": "t",
                    "ţ": "t",
                    "ṱ": "t",
                    "ṯ": "t",
                    "ŧ": "t",
                    "ƭ": "t",
                    "ʈ": "t",
                    "ⱦ": "t",
                    "ꞇ": "t",
                    "ꜩ": "tz",
                    "ⓤ": "u",
                    "ｕ": "u",
                    "ù": "u",
                    "ú": "u",
                    "û": "u",
                    "ũ": "u",
                    "ṹ": "u",
                    "ū": "u",
                    "ṻ": "u",
                    "ŭ": "u",
                    "ü": "u",
                    "ǜ": "u",
                    "ǘ": "u",
                    "ǖ": "u",
                    "ǚ": "u",
                    "ủ": "u",
                    "ů": "u",
                    "ű": "u",
                    "ǔ": "u",
                    "ȕ": "u",
                    "ȗ": "u",
                    "ư": "u",
                    "ừ": "u",
                    "ứ": "u",
                    "ữ": "u",
                    "ử": "u",
                    "ự": "u",
                    "ụ": "u",
                    "ṳ": "u",
                    "ų": "u",
                    "ṷ": "u",
                    "ṵ": "u",
                    "ʉ": "u",
                    "ⓥ": "v",
                    "ｖ": "v",
                    "ṽ": "v",
                    "ṿ": "v",
                    "ʋ": "v",
                    "ꝟ": "v",
                    "ʌ": "v",
                    "ꝡ": "vy",
                    "ⓦ": "w",
                    "ｗ": "w",
                    "ẁ": "w",
                    "ẃ": "w",
                    "ŵ": "w",
                    "ẇ": "w",
                    "ẅ": "w",
                    "ẘ": "w",
                    "ẉ": "w",
                    "ⱳ": "w",
                    "ⓧ": "x",
                    "ｘ": "x",
                    "ẋ": "x",
                    "ẍ": "x",
                    "ⓨ": "y",
                    "ｙ": "y",
                    "ỳ": "y",
                    "ý": "y",
                    "ŷ": "y",
                    "ỹ": "y",
                    "ȳ": "y",
                    "ẏ": "y",
                    "ÿ": "y",
                    "ỷ": "y",
                    "ẙ": "y",
                    "ỵ": "y",
                    "ƴ": "y",
                    "ɏ": "y",
                    "ỿ": "y",
                    "ⓩ": "z",
                    "ｚ": "z",
                    "ź": "z",
                    "ẑ": "z",
                    "ż": "z",
                    "ž": "z",
                    "ẓ": "z",
                    "ẕ": "z",
                    "ƶ": "z",
                    "ȥ": "z",
                    "ɀ": "z",
                    "ⱬ": "z",
                    "ꝣ": "z",
                    "Ά": "Α",
                    "Έ": "Ε",
                    "Ή": "Η",
                    "Ί": "Ι",
                    "Ϊ": "Ι",
                    "Ό": "Ο",
                    "Ύ": "Υ",
                    "Ϋ": "Υ",
                    "Ώ": "Ω",
                    "ά": "α",
                    "έ": "ε",
                    "ή": "η",
                    "ί": "ι",
                    "ϊ": "ι",
                    "ΐ": "ι",
                    "ό": "ο",
                    "ύ": "υ",
                    "ϋ": "υ",
                    "ΰ": "υ",
                    "ω": "ω",
                    "ς": "σ"
                }
            }), e.define("select2/data/base", ["../utils"], function(r) {
                function n(e, t) {
                    n.__super__.constructor.call(this)
                }
                return r.Extend(n, r.Observable), n.prototype.current = function(e) {
                    throw new Error("The `current` method must be defined in child classes.")
                }, n.prototype.query = function(e, t) {
                    throw new Error("The `query` method must be defined in child classes.")
                }, n.prototype.bind = function(e, t) {}, n.prototype.destroy = function() {}, n.prototype.generateResultId = function(e, t) {
                    var n = e.id + "-result-";
                    return n += r.generateChars(4), null != t.id ? n += "-" + t.id.toString() : n += "-" + r.generateChars(4), n
                }, n
            }), e.define("select2/data/select", ["./base", "../utils", "jquery"], function(e, t, s) {
                function n(e, t) {
                    this.$element = e, this.options = t, n.__super__.constructor.call(this)
                }
                return t.Extend(n, e), n.prototype.current = function(e) {
                    var n = [],
                        r = this;
                    this.$element.find(":selected").each(function() {
                        var e = s(this),
                            t = r.item(e);
                        n.push(t)
                    }), e(n)
                }, n.prototype.select = function(o) {
                    var i = this;
                    if (o.selected = !0, s(o.element).is("option")) return o.element.selected = !0, void this.$element.trigger("change");
                    if (this.$element.prop("multiple")) this.current(function(e) {
                        var t = [];
                        (o = [o]).push.apply(o, e);
                        for (var n = 0; n < o.length; n++) {
                            var r = o[n].id; - 1 === s.inArray(r, t) && t.push(r)
                        }
                        i.$element.val(t), i.$element.trigger("change")
                    });
                    else {
                        var e = o.id;
                        this.$element.val(e), this.$element.trigger("change")
                    }
                }, n.prototype.unselect = function(o) {
                    var i = this;
                    if (this.$element.prop("multiple")) {
                        if (o.selected = !1, s(o.element).is("option")) return o.element.selected = !1, void this.$element.trigger("change");
                        this.current(function(e) {
                            for (var t = [], n = 0; n < e.length; n++) {
                                var r = e[n].id;
                                r !== o.id && -1 === s.inArray(r, t) && t.push(r)
                            }
                            i.$element.val(t), i.$element.trigger("change")
                        })
                    }
                }, n.prototype.bind = function(e, t) {
                    var n = this;
                    (this.container = e).on("select", function(e) {
                        n.select(e.data)
                    }), e.on("unselect", function(e) {
                        n.unselect(e.data)
                    })
                }, n.prototype.destroy = function() {
                    this.$element.find("*").each(function() {
                        s.removeData(this, "data")
                    })
                }, n.prototype.query = function(r, e) {
                    var o = [],
                        i = this;
                    this.$element.children().each(function() {
                        var e = s(this);
                        if (e.is("option") || e.is("optgroup")) {
                            var t = i.item(e),
                                n = i.matches(r, t);
                            null !== n && o.push(n)
                        }
                    }), e({
                        results: o
                    })
                }, n.prototype.addOptions = function(e) {
                    t.appendMany(this.$element, e)
                }, n.prototype.option = function(e) {
                    var t;
                    e.children ? (t = document.createElement("optgroup")).label = e.text : void 0 !== (t = document.createElement("option")).textContent ? t.textContent = e.text : t.innerText = e.text, void 0 !== e.id && (t.value = e.id), e.disabled && (t.disabled = !0), e.selected && (t.selected = !0), e.title && (t.title = e.title);
                    var n = s(t),
                        r = this._normalizeItem(e);
                    return r.element = t, s.data(t, "data", r), n
                }, n.prototype.item = function(e) {
                    var t = {};
                    if (null != (t = s.data(e[0], "data"))) return t;
                    if (e.is("option")) t = {
                        id: e.val(),
                        text: e.text(),
                        disabled: e.prop("disabled"),
                        selected: e.prop("selected"),
                        title: e.prop("title")
                    };
                    else if (e.is("optgroup")) {
                        t = {
                            text: e.prop("label"),
                            children: [],
                            title: e.prop("title")
                        };
                        for (var n = e.children("option"), r = [], o = 0; o < n.length; o++) {
                            var i = s(n[o]),
                                a = this.item(i);
                            r.push(a)
                        }
                        t.children = r
                    }
                    return (t = this._normalizeItem(t)).element = e[0], s.data(e[0], "data", t), t
                }, n.prototype._normalizeItem = function(e) {
                    s.isPlainObject(e) || (e = {
                        id: e,
                        text: e
                    });
                    return null != (e = s.extend({}, {
                        text: ""
                    }, e)).id && (e.id = e.id.toString()), null != e.text && (e.text = e.text.toString()), null == e._resultId && e.id && null != this.container && (e._resultId = this.generateResultId(this.container, e)), s.extend({}, {
                        selected: !1,
                        disabled: !1
                    }, e)
                }, n.prototype.matches = function(e, t) {
                    return this.options.get("matcher")(e, t)
                }, n
            }), e.define("select2/data/array", ["./select", "../utils", "jquery"], function(e, p, m) {
                function r(e, t) {
                    var n = t.get("data") || [];
                    r.__super__.constructor.call(this, e, t), this.addOptions(this.convertToOptions(n))
                }
                return p.Extend(r, e), r.prototype.select = function(n) {
                    var e = this.$element.find("option").filter(function(e, t) {
                        return t.value == n.id.toString()
                    });
                    0 === e.length && (e = this.option(n), this.addOptions(e)), r.__super__.select.call(this, n)
                }, r.prototype.convertToOptions = function(e) {
                    function t(e) {
                        return function() {
                            return m(this).val() == e.id
                        }
                    }
                    for (var n = this, r = this.$element.find("option"), o = r.map(function() {
                            return n.item(m(this)).id
                        }).get(), i = [], a = 0; a < e.length; a++) {
                        var s = this._normalizeItem(e[a]);
                        if (0 <= m.inArray(s.id, o)) {
                            var l = r.filter(t(s)),
                                c = this.item(l),
                                u = m.extend(!0, {}, s, c),
                                d = this.option(u);
                            l.replaceWith(d)
                        } else {
                            var f = this.option(s);
                            if (s.children) {
                                var h = this.convertToOptions(s.children);
                                p.appendMany(f, h)
                            }
                            i.push(f)
                        }
                    }
                    return i
                }, r
            }), e.define("select2/data/ajax", ["./array", "../utils", "jquery"], function(e, t, i) {
                function n(e, t) {
                    this.ajaxOptions = this._applyDefaults(t.get("ajax")), null != this.ajaxOptions.processResults && (this.processResults = this.ajaxOptions.processResults), n.__super__.constructor.call(this, e, t)
                }
                return t.Extend(n, e), n.prototype._applyDefaults = function(e) {
                    var t = {
                        data: function(e) {
                            return i.extend({}, e, {
                                q: e.term
                            })
                        },
                        transport: function(e, t, n) {
                            var r = i.ajax(e);
                            return r.then(t), r.fail(n), r
                        }
                    };
                    return i.extend({}, t, e, !0)
                }, n.prototype.processResults = function(e) {
                    return e
                }, n.prototype.query = function(n, r) {
                    function e() {
                        var e = t.transport(t, function(e) {
                            var t = o.processResults(e, n);
                            o.options.get("debug") && window.console && console.error && (t && t.results && i.isArray(t.results) || console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")), r(t)
                        }, function() {
                            e.status && "0" === e.status || o.trigger("results:message", {
                                message: "errorLoading"
                            })
                        });
                        o._request = e
                    }
                    var o = this;
                    null != this._request && (i.isFunction(this._request.abort) && this._request.abort(), this._request = null);
                    var t = i.extend({
                        type: "GET"
                    }, this.ajaxOptions);
                    "function" == typeof t.url && (t.url = t.url.call(this.$element, n)), "function" == typeof t.data && (t.data = t.data.call(this.$element, n)), this.ajaxOptions.delay && null != n.term ? (this._queryTimeout && window.clearTimeout(this._queryTimeout), this._queryTimeout = window.setTimeout(e, this.ajaxOptions.delay)) : e()
                }, n
            }), e.define("select2/data/tags", ["jquery"], function(u) {
                function e(e, t, n) {
                    var r = n.get("tags"),
                        o = n.get("createTag");
                    void 0 !== o && (this.createTag = o);
                    var i = n.get("insertTag");
                    if (void 0 !== i && (this.insertTag = i), e.call(this, t, n), u.isArray(r))
                        for (var a = 0; a < r.length; a++) {
                            var s = r[a],
                                l = this._normalizeItem(s),
                                c = this.option(l);
                            this.$element.append(c)
                        }
                }
                return e.prototype.query = function(e, c, u) {
                    var d = this;
                    this._removeOldTags(), null != c.term && null == c.page ? e.call(this, c, function e(t, n) {
                        for (var r = t.results, o = 0; o < r.length; o++) {
                            var i = r[o],
                                a = null != i.children && !e({
                                    results: i.children
                                }, !0);
                            if ((i.text || "").toUpperCase() === (c.term || "").toUpperCase() || a) return !n && (t.data = r, void u(t))
                        }
                        if (n) return !0;
                        var s = d.createTag(c);
                        if (null != s) {
                            var l = d.option(s);
                            l.attr("data-select2-tag", !0), d.addOptions([l]), d.insertTag(r, s)
                        }
                        t.results = r, u(t)
                    }) : e.call(this, c, u)
                }, e.prototype.createTag = function(e, t) {
                    var n = u.trim(t.term);
                    return "" === n ? null : {
                        id: n,
                        text: n
                    }
                }, e.prototype.insertTag = function(e, t, n) {
                    t.unshift(n)
                }, e.prototype._removeOldTags = function(e) {
                    this._lastTag, this.$element.find("option[data-select2-tag]").each(function() {
                        this.selected || u(this).remove()
                    })
                }, e
            }), e.define("select2/data/tokenizer", ["jquery"], function(d) {
                function e(e, t, n) {
                    var r = n.get("tokenizer");
                    void 0 !== r && (this.tokenizer = r), e.call(this, t, n)
                }
                return e.prototype.bind = function(e, t, n) {
                    e.call(this, t, n), this.$search = t.dropdown.$search || t.selection.$search || n.find(".select2-search__field")
                }, e.prototype.query = function(e, t, n) {
                    var o = this;
                    t.term = t.term || "";
                    var r = this.tokenizer(t, this.options, function(e) {
                        var t, n = o._normalizeItem(e);
                        if (!o.$element.find("option").filter(function() {
                                return d(this).val() === n.id
                            }).length) {
                            var r = o.option(n);
                            r.attr("data-select2-tag", !0), o._removeOldTags(), o.addOptions([r])
                        }
                        t = n, o.trigger("select", {
                            data: t
                        })
                    });
                    r.term !== t.term && (this.$search.length && (this.$search.val(r.term), this.$search.focus()), t.term = r.term), e.call(this, t, n)
                }, e.prototype.tokenizer = function(e, t, n, r) {
                    for (var o = n.get("tokenSeparators") || [], i = t.term, a = 0, s = this.createTag || function(e) {
                            return {
                                id: e.term,
                                text: e.term
                            }
                        }; a < i.length;) {
                        var l = i[a];
                        if (-1 !== d.inArray(l, o)) {
                            var c = i.substr(0, a),
                                u = s(d.extend({}, t, {
                                    term: c
                                }));
                            null != u ? (r(u), i = i.substr(a + 1) || "", a = 0) : a++
                        } else a++
                    }
                    return {
                        term: i
                    }
                }, e
            }), e.define("select2/data/minimumInputLength", [], function() {
                function e(e, t, n) {
                    this.minimumInputLength = n.get("minimumInputLength"), e.call(this, t, n)
                }
                return e.prototype.query = function(e, t, n) {
                    t.term = t.term || "", t.term.length < this.minimumInputLength ? this.trigger("results:message", {
                        message: "inputTooShort",
                        args: {
                            minimum: this.minimumInputLength,
                            input: t.term,
                            params: t
                        }
                    }) : e.call(this, t, n)
                }, e
            }), e.define("select2/data/maximumInputLength", [], function() {
                function e(e, t, n) {
                    this.maximumInputLength = n.get("maximumInputLength"), e.call(this, t, n)
                }
                return e.prototype.query = function(e, t, n) {
                    t.term = t.term || "", 0 < this.maximumInputLength && t.term.length > this.maximumInputLength ? this.trigger("results:message", {
                        message: "inputTooLong",
                        args: {
                            maximum: this.maximumInputLength,
                            input: t.term,
                            params: t
                        }
                    }) : e.call(this, t, n)
                }, e
            }), e.define("select2/data/maximumSelectionLength", [], function() {
                function e(e, t, n) {
                    this.maximumSelectionLength = n.get("maximumSelectionLength"), e.call(this, t, n)
                }
                return e.prototype.query = function(n, r, o) {
                    var i = this;
                    this.current(function(e) {
                        var t = null != e ? e.length : 0;
                        0 < i.maximumSelectionLength && t >= i.maximumSelectionLength ? i.trigger("results:message", {
                            message: "maximumSelected",
                            args: {
                                maximum: i.maximumSelectionLength
                            }
                        }) : n.call(i, r, o)
                    })
                }, e
            }), e.define("select2/dropdown", ["jquery", "./utils"], function(t, e) {
                function n(e, t) {
                    this.$element = e, this.options = t, n.__super__.constructor.call(this)
                }
                return e.Extend(n, e.Observable), n.prototype.render = function() {
                    var e = t('<span class="select2-dropdown"><span class="select2-results"></span></span>');
                    return e.attr("dir", this.options.get("dir")), this.$dropdown = e
                }, n.prototype.bind = function() {}, n.prototype.position = function(e, t) {}, n.prototype.destroy = function() {
                    this.$dropdown.remove()
                }, n
            }), e.define("select2/dropdown/search", ["jquery", "../utils"], function(o, e) {
                function t() {}
                return t.prototype.render = function(e) {
                    var t = e.call(this),
                        n = o('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /></span>');
                    return this.$searchContainer = n, this.$search = n.find("input"), t.prepend(n), t
                }, t.prototype.bind = function(e, t, n) {
                    var r = this;
                    e.call(this, t, n), this.$search.on("keydown", function(e) {
                        r.trigger("keypress", e), r._keyUpPrevented = e.isDefaultPrevented()
                    }), this.$search.on("input", function(e) {
                        o(this).off("keyup")
                    }), this.$search.on("keyup input", function(e) {
                        r.handleSearch(e)
                    }), t.on("open", function() {
                        r.$search.attr("tabindex", 0), r.$search.focus(), window.setTimeout(function() {
                            r.$search.focus()
                        }, 0)
                    }), t.on("close", function() {
                        r.$search.attr("tabindex", -1), r.$search.val("")
                    }), t.on("focus", function() {
                        t.isOpen() || r.$search.focus()
                    }), t.on("results:all", function(e) {
                        null != e.query.term && "" !== e.query.term || (r.showSearch(e) ? r.$searchContainer.removeClass("select2-search--hide") : r.$searchContainer.addClass("select2-search--hide"))
                    })
                }, t.prototype.handleSearch = function(e) {
                    if (!this._keyUpPrevented) {
                        var t = this.$search.val();
                        this.trigger("query", {
                            term: t
                        })
                    }
                    this._keyUpPrevented = !1
                }, t.prototype.showSearch = function(e, t) {
                    return !0
                }, t
            }), e.define("select2/dropdown/hidePlaceholder", [], function() {
                function e(e, t, n, r) {
                    this.placeholder = this.normalizePlaceholder(n.get("placeholder")), e.call(this, t, n, r)
                }
                return e.prototype.append = function(e, t) {
                    t.results = this.removePlaceholder(t.results), e.call(this, t)
                }, e.prototype.normalizePlaceholder = function(e, t) {
                    return "string" == typeof t && (t = {
                        id: "",
                        text: t
                    }), t
                }, e.prototype.removePlaceholder = function(e, t) {
                    for (var n = t.slice(0), r = t.length - 1; 0 <= r; r--) {
                        var o = t[r];
                        this.placeholder.id === o.id && n.splice(r, 1)
                    }
                    return n
                }, e
            }), e.define("select2/dropdown/infiniteScroll", ["jquery"], function(o) {
                function e(e, t, n, r) {
                    this.lastParams = {}, e.call(this, t, n, r), this.$loadingMore = this.createLoadingMore(), this.loading = !1
                }
                return e.prototype.append = function(e, t) {
                    this.$loadingMore.remove(), this.loading = !1, e.call(this, t), this.showLoadingMore(t) && this.$results.append(this.$loadingMore)
                }, e.prototype.bind = function(e, t, n) {
                    var r = this;
                    e.call(this, t, n), t.on("query", function(e) {
                        r.lastParams = e, r.loading = !0
                    }), t.on("query:append", function(e) {
                        r.lastParams = e, r.loading = !0
                    }), this.$results.on("scroll", function() {
                        var e = o.contains(document.documentElement, r.$loadingMore[0]);
                        !r.loading && e && r.$results.offset().top + r.$results.outerHeight(!1) + 50 >= r.$loadingMore.offset().top + r.$loadingMore.outerHeight(!1) && r.loadMore()
                    })
                }, e.prototype.loadMore = function() {
                    this.loading = !0;
                    var e = o.extend({}, {
                        page: 1
                    }, this.lastParams);
                    e.page++, this.trigger("query:append", e)
                }, e.prototype.showLoadingMore = function(e, t) {
                    return t.pagination && t.pagination.more
                }, e.prototype.createLoadingMore = function() {
                    var e = o('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),
                        t = this.options.get("translations").get("loadingMore");
                    return e.html(t(this.lastParams)), e
                }, e
            }), e.define("select2/dropdown/attachBody", ["jquery", "../utils"], function(p, s) {
                function e(e, t, n) {
                    this.$dropdownParent = n.get("dropdownParent") || p(document.body), e.call(this, t, n)
                }
                return e.prototype.bind = function(e, t, n) {
                    var r = this,
                        o = !1;
                    e.call(this, t, n), t.on("open", function() {
                        r._showDropdown(), r._attachPositioningHandler(t), o || (o = !0, t.on("results:all", function() {
                            r._positionDropdown(), r._resizeDropdown()
                        }), t.on("results:append", function() {
                            r._positionDropdown(), r._resizeDropdown()
                        }))
                    }), t.on("close", function() {
                        r._hideDropdown(), r._detachPositioningHandler(t)
                    }), this.$dropdownContainer.on("mousedown", function(e) {
                        e.stopPropagation()
                    })
                }, e.prototype.destroy = function(e) {
                    e.call(this), this.$dropdownContainer.remove()
                }, e.prototype.position = function(e, t, n) {
                    t.attr("class", n.attr("class")), t.removeClass("select2"), t.addClass("select2-container--open"), t.css({
                        position: "absolute",
                        top: -999999
                    }), this.$container = n
                }, e.prototype.render = function(e) {
                    var t = p("<span></span>"),
                        n = e.call(this);
                    return t.append(n), this.$dropdownContainer = t
                }, e.prototype._hideDropdown = function(e) {
                    this.$dropdownContainer.detach()
                }, e.prototype._attachPositioningHandler = function(e, t) {
                    var n = this,
                        r = "scroll.select2." + t.id,
                        o = "resize.select2." + t.id,
                        i = "orientationchange.select2." + t.id,
                        a = this.$container.parents().filter(s.hasScroll);
                    a.each(function() {
                        p(this).data("select2-scroll-position", {
                            x: p(this).scrollLeft(),
                            y: p(this).scrollTop()
                        })
                    }), a.on(r, function(e) {
                        var t = p(this).data("select2-scroll-position");
                        p(this).scrollTop(t.y)
                    }), p(window).on(r + " " + o + " " + i, function(e) {
                        n._positionDropdown(), n._resizeDropdown()
                    })
                }, e.prototype._detachPositioningHandler = function(e, t) {
                    var n = "scroll.select2." + t.id,
                        r = "resize.select2." + t.id,
                        o = "orientationchange.select2." + t.id;
                    this.$container.parents().filter(s.hasScroll).off(n), p(window).off(n + " " + r + " " + o)
                }, e.prototype._positionDropdown = function() {
                    var e = p(window),
                        t = this.$dropdown.hasClass("select2-dropdown--above"),
                        n = this.$dropdown.hasClass("select2-dropdown--below"),
                        r = null,
                        o = this.$container.offset();
                    o.bottom = o.top + this.$container.outerHeight(!1);
                    var i = {
                        height: this.$container.outerHeight(!1)
                    };
                    i.top = o.top, i.bottom = o.top + i.height;
                    var a = this.$dropdown.outerHeight(!1),
                        s = e.scrollTop(),
                        l = e.scrollTop() + e.height(),
                        c = s < o.top - a,
                        u = l > o.bottom + a,
                        d = {
                            left: o.left,
                            top: i.bottom
                        },
                        f = this.$dropdownParent;
                    "static" === f.css("position") && (f = f.offsetParent());
                    var h = f.offset();
                    d.top -= h.top, d.left -= h.left, t || n || (r = "below"), u || !c || t ? !c && u && t && (r = "below") : r = "above", ("above" == r || t && "below" !== r) && (d.top = i.top - h.top - a), null != r && (this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--" + r), this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--" + r)), this.$dropdownContainer.css(d)
                }, e.prototype._resizeDropdown = function() {
                    var e = {
                        width: this.$container.outerWidth(!1) + "px"
                    };
                    this.options.get("dropdownAutoWidth") && (e.minWidth = e.width, e.position = "relative", e.width = "auto"), this.$dropdown.css(e)
                }, e.prototype._showDropdown = function(e) {
                    this.$dropdownContainer.appendTo(this.$dropdownParent), this._positionDropdown(), this._resizeDropdown()
                }, e
            }), e.define("select2/dropdown/minimumResultsForSearch", [], function() {
                function e(e, t, n, r) {
                    this.minimumResultsForSearch = n.get("minimumResultsForSearch"), this.minimumResultsForSearch < 0 && (this.minimumResultsForSearch = 1 / 0), e.call(this, t, n, r)
                }
                return e.prototype.showSearch = function(e, t) {
                    return !(function e(t) {
                        for (var n = 0, r = 0; r < t.length; r++) {
                            var o = t[r];
                            o.children ? n += e(o.children) : n++
                        }
                        return n
                    }(t.data.results) < this.minimumResultsForSearch) && e.call(this, t)
                }, e
            }), e.define("select2/dropdown/selectOnClose", [], function() {
                function e() {}
                return e.prototype.bind = function(e, t, n) {
                    var r = this;
                    e.call(this, t, n), t.on("close", function(e) {
                        r._handleSelectOnClose(e)
                    })
                }, e.prototype._handleSelectOnClose = function(e, t) {
                    if (t && null != t.originalSelect2Event) {
                        var n = t.originalSelect2Event;
                        if ("select" === n._type || "unselect" === n._type) return
                    }
                    var r = this.getHighlightedResults();
                    if (!(r.length < 1)) {
                        var o = r.data("data");
                        null != o.element && o.element.selected || null == o.element && o.selected || this.trigger("select", {
                            data: o
                        })
                    }
                }, e
            }), e.define("select2/dropdown/closeOnSelect", [], function() {
                function e() {}
                return e.prototype.bind = function(e, t, n) {
                    var r = this;
                    e.call(this, t, n), t.on("select", function(e) {
                        r._selectTriggered(e)
                    }), t.on("unselect", function(e) {
                        r._selectTriggered(e)
                    })
                }, e.prototype._selectTriggered = function(e, t) {
                    var n = t.originalEvent;
                    n && n.ctrlKey || this.trigger("close", {
                        originalEvent: n,
                        originalSelect2Event: t
                    })
                }, e
            }), e.define("select2/i18n/en", [], function() {
                return {
                    errorLoading: function() {
                        return "The results could not be loaded."
                    },
                    inputTooLong: function(e) {
                        var t = e.input.length - e.maximum,
                            n = "Please delete " + t + " character";
                        return 1 != t && (n += "s"), n
                    },
                    inputTooShort: function(e) {
                        return "Please enter " + (e.minimum - e.input.length) + " or more characters"
                    },
                    loadingMore: function() {
                        return "Loading more results…"
                    },
                    maximumSelected: function(e) {
                        var t = "You can only select " + e.maximum + " item";
                        return 1 != e.maximum && (t += "s"), t
                    },
                    noResults: function() {
                        return "No results found"
                    },
                    searching: function() {
                        return "Searching…"
                    }
                }
            }), e.define("select2/defaults", ["jquery", "require", "./results", "./selection/single", "./selection/multiple", "./selection/placeholder", "./selection/allowClear", "./selection/search", "./selection/eventRelay", "./utils", "./translation", "./diacritics", "./data/select", "./data/array", "./data/ajax", "./data/tags", "./data/tokenizer", "./data/minimumInputLength", "./data/maximumInputLength", "./data/maximumSelectionLength", "./dropdown", "./dropdown/search", "./dropdown/hidePlaceholder", "./dropdown/infiniteScroll", "./dropdown/attachBody", "./dropdown/minimumResultsForSearch", "./dropdown/selectOnClose", "./dropdown/closeOnSelect", "./i18n/en"], function(p, m, g, v, y, b, w, x, C, _, S, t, E, k, T, N, A, O, R, P, B, D, L, z, I, M, $, F, e) {
                function n() {
                    this.reset()
                }
                return n.prototype.apply = function(t) {
                    if (null == (t = p.extend(!0, {}, this.defaults, t)).dataAdapter) {
                        if (null != t.ajax ? t.dataAdapter = T : null != t.data ? t.dataAdapter = k : t.dataAdapter = E, 0 < t.minimumInputLength && (t.dataAdapter = _.Decorate(t.dataAdapter, O)), 0 < t.maximumInputLength && (t.dataAdapter = _.Decorate(t.dataAdapter, R)), 0 < t.maximumSelectionLength && (t.dataAdapter = _.Decorate(t.dataAdapter, P)), t.tags && (t.dataAdapter = _.Decorate(t.dataAdapter, N)), null == t.tokenSeparators && null == t.tokenizer || (t.dataAdapter = _.Decorate(t.dataAdapter, A)), null != t.query) {
                            var e = m(t.amdBase + "compat/query");
                            t.dataAdapter = _.Decorate(t.dataAdapter, e)
                        }
                        if (null != t.initSelection) {
                            var n = m(t.amdBase + "compat/initSelection");
                            t.dataAdapter = _.Decorate(t.dataAdapter, n)
                        }
                    }
                    if (null == t.resultsAdapter && (t.resultsAdapter = g, null != t.ajax && (t.resultsAdapter = _.Decorate(t.resultsAdapter, z)), null != t.placeholder && (t.resultsAdapter = _.Decorate(t.resultsAdapter, L)), t.selectOnClose && (t.resultsAdapter = _.Decorate(t.resultsAdapter, $))), null == t.dropdownAdapter) {
                        if (t.multiple) t.dropdownAdapter = B;
                        else {
                            var r = _.Decorate(B, D);
                            t.dropdownAdapter = r
                        }
                        if (0 !== t.minimumResultsForSearch && (t.dropdownAdapter = _.Decorate(t.dropdownAdapter, M)), t.closeOnSelect && (t.dropdownAdapter = _.Decorate(t.dropdownAdapter, F)), null != t.dropdownCssClass || null != t.dropdownCss || null != t.adaptDropdownCssClass) {
                            var o = m(t.amdBase + "compat/dropdownCss");
                            t.dropdownAdapter = _.Decorate(t.dropdownAdapter, o)
                        }
                        t.dropdownAdapter = _.Decorate(t.dropdownAdapter, I)
                    }
                    if (null == t.selectionAdapter) {
                        if (t.multiple ? t.selectionAdapter = y : t.selectionAdapter = v, null != t.placeholder && (t.selectionAdapter = _.Decorate(t.selectionAdapter, b)), t.allowClear && (t.selectionAdapter = _.Decorate(t.selectionAdapter, w)), t.multiple && (t.selectionAdapter = _.Decorate(t.selectionAdapter, x)), null != t.containerCssClass || null != t.containerCss || null != t.adaptContainerCssClass) {
                            var i = m(t.amdBase + "compat/containerCss");
                            t.selectionAdapter = _.Decorate(t.selectionAdapter, i)
                        }
                        t.selectionAdapter = _.Decorate(t.selectionAdapter, C)
                    }
                    if ("string" == typeof t.language)
                        if (0 < t.language.indexOf("-")) {
                            var a = t.language.split("-")[0];
                            t.language = [t.language, a]
                        } else t.language = [t.language];
                    if (p.isArray(t.language)) {
                        var s = new S;
                        t.language.push("en");
                        for (var l = t.language, c = 0; c < l.length; c++) {
                            var u = l[c],
                                d = {};
                            try {
                                d = S.loadPath(u)
                            } catch (e) {
                                try {
                                    u = this.defaults.amdLanguageBase + u, d = S.loadPath(u)
                                } catch (e) {
                                    t.debug && window.console && console.warn && console.warn('Select2: The language file for "' + u + '" could not be automatically loaded. A fallback will be used instead.');
                                    continue
                                }
                            }
                            s.extend(d)
                        }
                        t.translations = s
                    } else {
                        var f = S.loadPath(this.defaults.amdLanguageBase + "en"),
                            h = new S(t.language);
                        h.extend(f), t.translations = h
                    }
                    return t
                }, n.prototype.reset = function() {
                    function s(e) {
                        return e.replace(/[^\u0000-\u007E]/g, function(e) {
                            return t[e] || e
                        })
                    }
                    this.defaults = {
                        amdBase: "./",
                        amdLanguageBase: "./i18n/",
                        closeOnSelect: !0,
                        debug: !1,
                        dropdownAutoWidth: !1,
                        escapeMarkup: _.escapeMarkup,
                        language: e,
                        matcher: function e(t, n) {
                            if ("" === p.trim(t.term)) return n;
                            if (n.children && 0 < n.children.length) {
                                for (var r = p.extend(!0, {}, n), o = n.children.length - 1; 0 <= o; o--) null == e(t, n.children[o]) && r.children.splice(o, 1);
                                return 0 < r.children.length ? r : e(t, r)
                            }
                            var i = s(n.text).toUpperCase(),
                                a = s(t.term).toUpperCase();
                            return -1 < i.indexOf(a) ? n : null
                        },
                        minimumInputLength: 0,
                        maximumInputLength: 0,
                        maximumSelectionLength: 0,
                        minimumResultsForSearch: 0,
                        selectOnClose: !1,
                        sorter: function(e) {
                            return e
                        },
                        templateResult: function(e) {
                            return e.text
                        },
                        templateSelection: function(e) {
                            return e.text
                        },
                        theme: "default",
                        width: "resolve"
                    }
                }, n.prototype.set = function(e, t) {
                    var n = {};
                    n[p.camelCase(e)] = t;
                    var r = _._convertData(n);
                    p.extend(this.defaults, r)
                }, new n
            }), e.define("select2/options", ["require", "jquery", "./defaults", "./utils"], function(r, i, o, a) {
                function e(e, t) {
                    if (this.options = e, null != t && this.fromElement(t), this.options = o.apply(this.options), t && t.is("input")) {
                        var n = r(this.get("amdBase") + "compat/inputData");
                        this.options.dataAdapter = a.Decorate(this.options.dataAdapter, n)
                    }
                }
                return e.prototype.fromElement = function(e) {
                    var t = ["select2"];
                    null == this.options.multiple && (this.options.multiple = e.prop("multiple")), null == this.options.disabled && (this.options.disabled = e.prop("disabled")), null == this.options.language && (e.prop("lang") ? this.options.language = e.prop("lang").toLowerCase() : e.closest("[lang]").prop("lang") && (this.options.language = e.closest("[lang]").prop("lang"))), null == this.options.dir && (e.prop("dir") ? this.options.dir = e.prop("dir") : e.closest("[dir]").prop("dir") ? this.options.dir = e.closest("[dir]").prop("dir") : this.options.dir = "ltr"), e.prop("disabled", this.options.disabled), e.prop("multiple", this.options.multiple), e.data("select2Tags") && (this.options.debug && window.console && console.warn && console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'), e.data("data", e.data("select2Tags")), e.data("tags", !0)), e.data("ajaxUrl") && (this.options.debug && window.console && console.warn && console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."), e.attr("ajax--url", e.data("ajaxUrl")), e.data("ajax--url", e.data("ajaxUrl")));
                    var n;
                    n = i.fn.jquery && "1." == i.fn.jquery.substr(0, 2) && e[0].dataset ? i.extend(!0, {}, e[0].dataset, e.data()) : e.data();
                    var r = i.extend(!0, {}, n);
                    for (var o in r = a._convertData(r)) - 1 < i.inArray(o, t) || (i.isPlainObject(this.options[o]) ? i.extend(this.options[o], r[o]) : this.options[o] = r[o]);
                    return this
                }, e.prototype.get = function(e) {
                    return this.options[e]
                }, e.prototype.set = function(e, t) {
                    this.options[e] = t
                }, e
            }), e.define("select2/core", ["jquery", "./options", "./utils", "./keys"], function(o, c, n, r) {
                var u = function(e, t) {
                    null != e.data("select2") && e.data("select2").destroy(), this.$element = e, this.id = this._generateId(e), t = t || {}, this.options = new c(t, e), u.__super__.constructor.call(this);
                    var n = e.attr("tabindex") || 0;
                    e.data("old-tabindex", n), e.attr("tabindex", "-1");
                    var r = this.options.get("dataAdapter");
                    this.dataAdapter = new r(e, this.options);
                    var o = this.render();
                    this._placeContainer(o);
                    var i = this.options.get("selectionAdapter");
                    this.selection = new i(e, this.options), this.$selection = this.selection.render(), this.selection.position(this.$selection, o);
                    var a = this.options.get("dropdownAdapter");
                    this.dropdown = new a(e, this.options), this.$dropdown = this.dropdown.render(), this.dropdown.position(this.$dropdown, o);
                    var s = this.options.get("resultsAdapter");
                    this.results = new s(e, this.options, this.dataAdapter), this.$results = this.results.render(), this.results.position(this.$results, this.$dropdown);
                    var l = this;
                    this._bindAdapters(), this._registerDomEvents(), this._registerDataEvents(), this._registerSelectionEvents(), this._registerDropdownEvents(), this._registerResultsEvents(), this._registerEvents(), this.dataAdapter.current(function(e) {
                        l.trigger("selection:update", {
                            data: e
                        })
                    }), e.addClass("select2-hidden-accessible"), e.attr("aria-hidden", "true"), this._syncAttributes(), e.data("select2", this)
                };
                return n.Extend(u, n.Observable), u.prototype._generateId = function(e) {
                    return "select2-" + (null != e.attr("id") ? e.attr("id") : null != e.attr("name") ? e.attr("name") + "-" + n.generateChars(2) : n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g, "")
                }, u.prototype._placeContainer = function(e) {
                    e.insertAfter(this.$element);
                    var t = this._resolveWidth(this.$element, this.options.get("width"));
                    null != t && e.css("width", t)
                }, u.prototype._resolveWidth = function(e, t) {
                    var n = /^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;
                    if ("resolve" == t) {
                        var r = this._resolveWidth(e, "style");
                        return null != r ? r : this._resolveWidth(e, "element")
                    }
                    if ("element" == t) {
                        var o = e.outerWidth(!1);
                        return o <= 0 ? "auto" : o + "px"
                    }
                    if ("style" != t) return t;
                    var i = e.attr("style");
                    if ("string" != typeof i) return null;
                    for (var a = i.split(";"), s = 0, l = a.length; s < l; s += 1) {
                        var c = a[s].replace(/\s/g, "").match(n);
                        if (null !== c && 1 <= c.length) return c[1]
                    }
                    return null
                }, u.prototype._bindAdapters = function() {
                    this.dataAdapter.bind(this, this.$container), this.selection.bind(this, this.$container), this.dropdown.bind(this, this.$container), this.results.bind(this, this.$container)
                }, u.prototype._registerDomEvents = function() {
                    var t = this;
                    this.$element.on("change.select2", function() {
                        t.dataAdapter.current(function(e) {
                            t.trigger("selection:update", {
                                data: e
                            })
                        })
                    }), this.$element.on("focus.select2", function(e) {
                        t.trigger("focus", e)
                    }), this._syncA = n.bind(this._syncAttributes, this), this._syncS = n.bind(this._syncSubtree, this), this.$element[0].attachEvent && this.$element[0].attachEvent("onpropertychange", this._syncA);
                    var e = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
                    null != e ? (this._observer = new e(function(e) {
                        o.each(e, t._syncA), o.each(e, t._syncS)
                    }), this._observer.observe(this.$element[0], {
                        attributes: !0,
                        childList: !0,
                        subtree: !1
                    })) : this.$element[0].addEventListener && (this.$element[0].addEventListener("DOMAttrModified", t._syncA, !1), this.$element[0].addEventListener("DOMNodeInserted", t._syncS, !1), this.$element[0].addEventListener("DOMNodeRemoved", t._syncS, !1))
                }, u.prototype._registerDataEvents = function() {
                    var n = this;
                    this.dataAdapter.on("*", function(e, t) {
                        n.trigger(e, t)
                    })
                }, u.prototype._registerSelectionEvents = function() {
                    var n = this,
                        r = ["toggle", "focus"];
                    this.selection.on("toggle", function() {
                        n.toggleDropdown()
                    }), this.selection.on("focus", function(e) {
                        n.focus(e)
                    }), this.selection.on("*", function(e, t) {
                        -1 === o.inArray(e, r) && n.trigger(e, t)
                    })
                }, u.prototype._registerDropdownEvents = function() {
                    var n = this;
                    this.dropdown.on("*", function(e, t) {
                        n.trigger(e, t)
                    })
                }, u.prototype._registerResultsEvents = function() {
                    var n = this;
                    this.results.on("*", function(e, t) {
                        n.trigger(e, t)
                    })
                }, u.prototype._registerEvents = function() {
                    var n = this;
                    this.on("open", function() {
                        n.$container.addClass("select2-container--open")
                    }), this.on("close", function() {
                        n.$container.removeClass("select2-container--open")
                    }), this.on("enable", function() {
                        n.$container.removeClass("select2-container--disabled")
                    }), this.on("disable", function() {
                        n.$container.addClass("select2-container--disabled")
                    }), this.on("blur", function() {
                        n.$container.removeClass("select2-container--focus")
                    }), this.on("query", function(t) {
                        n.isOpen() || n.trigger("open", {}), this.dataAdapter.query(t, function(e) {
                            n.trigger("results:all", {
                                data: e,
                                query: t
                            })
                        })
                    }), this.on("query:append", function(t) {
                        this.dataAdapter.query(t, function(e) {
                            n.trigger("results:append", {
                                data: e,
                                query: t
                            })
                        })
                    }), this.on("keypress", function(e) {
                        var t = e.which;
                        n.isOpen() ? t === r.ESC || t === r.TAB || t === r.UP && e.altKey ? (n.close(), e.preventDefault()) : t === r.ENTER ? (n.trigger("results:select", {}), e.preventDefault()) : t === r.SPACE && e.ctrlKey ? (n.trigger("results:toggle", {}), e.preventDefault()) : t === r.UP ? (n.trigger("results:previous", {}), e.preventDefault()) : t === r.DOWN && (n.trigger("results:next", {}), e.preventDefault()) : (t === r.ENTER || t === r.SPACE || t === r.DOWN && e.altKey) && (n.open(), e.preventDefault())
                    })
                }, u.prototype._syncAttributes = function() {
                    this.options.set("disabled", this.$element.prop("disabled")), this.options.get("disabled") ? (this.isOpen() && this.close(), this.trigger("disable", {})) : this.trigger("enable", {})
                }, u.prototype._syncSubtree = function(e, t) {
                    var n = !1,
                        r = this;
                    if (!e || !e.target || "OPTION" === e.target.nodeName || "OPTGROUP" === e.target.nodeName) {
                        if (t)
                            if (t.addedNodes && 0 < t.addedNodes.length)
                                for (var o = 0; o < t.addedNodes.length; o++) {
                                    t.addedNodes[o].selected && (n = !0)
                                } else t.removedNodes && 0 < t.removedNodes.length && (n = !0);
                            else n = !0;
                        n && this.dataAdapter.current(function(e) {
                            r.trigger("selection:update", {
                                data: e
                            })
                        })
                    }
                }, u.prototype.trigger = function(e, t) {
                    var n = u.__super__.trigger,
                        r = {
                            open: "opening",
                            close: "closing",
                            select: "selecting",
                            unselect: "unselecting"
                        };
                    if (void 0 === t && (t = {}), e in r) {
                        var o = r[e],
                            i = {
                                prevented: !1,
                                name: e,
                                args: t
                            };
                        if (n.call(this, o, i), i.prevented) return void(t.prevented = !0)
                    }
                    n.call(this, e, t)
                }, u.prototype.toggleDropdown = function() {
                    this.options.get("disabled") || (this.isOpen() ? this.close() : this.open())
                }, u.prototype.open = function() {
                    this.isOpen() || this.trigger("query", {})
                }, u.prototype.close = function() {
                    this.isOpen() && this.trigger("close", {})
                }, u.prototype.isOpen = function() {
                    return this.$container.hasClass("select2-container--open")
                }, u.prototype.hasFocus = function() {
                    return this.$container.hasClass("select2-container--focus")
                }, u.prototype.focus = function(e) {
                    this.hasFocus() || (this.$container.addClass("select2-container--focus"), this.trigger("focus", {}))
                }, u.prototype.enable = function(e) {
                    this.options.get("debug") && window.console && console.warn && console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'), null != e && 0 !== e.length || (e = [!0]);
                    var t = !e[0];
                    this.$element.prop("disabled", t)
                }, u.prototype.data = function() {
                    this.options.get("debug") && 0 < arguments.length && window.console && console.warn && console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');
                    var t = [];
                    return this.dataAdapter.current(function(e) {
                        t = e
                    }), t
                }, u.prototype.val = function(e) {
                    if (this.options.get("debug") && window.console && console.warn && console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'), null == e || 0 === e.length) return this.$element.val();
                    var t = e[0];
                    o.isArray(t) && (t = o.map(t, function(e) {
                        return e.toString()
                    })), this.$element.val(t).trigger("change")
                }, u.prototype.destroy = function() {
                    this.$container.remove(), this.$element[0].detachEvent && this.$element[0].detachEvent("onpropertychange", this._syncA), null != this._observer ? (this._observer.disconnect(), this._observer = null) : this.$element[0].removeEventListener && (this.$element[0].removeEventListener("DOMAttrModified", this._syncA, !1), this.$element[0].removeEventListener("DOMNodeInserted", this._syncS, !1), this.$element[0].removeEventListener("DOMNodeRemoved", this._syncS, !1)), this._syncA = null, this._syncS = null, this.$element.off(".select2"), this.$element.attr("tabindex", this.$element.data("old-tabindex")), this.$element.removeClass("select2-hidden-accessible"), this.$element.attr("aria-hidden", "false"), this.$element.removeData("select2"), this.dataAdapter.destroy(), this.selection.destroy(), this.dropdown.destroy(), this.results.destroy(), this.dataAdapter = null, this.selection = null, this.dropdown = null, this.results = null
                }, u.prototype.render = function() {
                    var e = o('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');
                    return e.attr("dir", this.options.get("dir")), this.$container = e, this.$container.addClass("select2-container--" + this.options.get("theme")), e.data("element", this.$element), e
                }, u
            }), e.define("jquery-mousewheel", ["jquery"], function(e) {
                return e
            }), e.define("jquery.select2", ["jquery", "jquery-mousewheel", "./select2/core", "./select2/defaults"], function(o, e, i, t) {
                if (null == o.fn.select2) {
                    var a = ["open", "close", "destroy"];
                    o.fn.select2 = function(t) {
                        if ("object" == typeof(t = t || {})) return this.each(function() {
                            var e = o.extend(!0, {}, t);
                            new i(o(this), e)
                        }), this;
                        if ("string" != typeof t) throw new Error("Invalid arguments for Select2: " + t);
                        var n, r = Array.prototype.slice.call(arguments, 1);
                        return this.each(function() {
                            var e = o(this).data("select2");
                            null == e && window.console && console.error && console.error("The select2('" + t + "') method was called on an element that is not using Select2."), n = e[t].apply(e, r)
                        }), -1 < o.inArray(t, a) ? this : n
                    }
                }
                return null == o.fn.select2.defaults && (o.fn.select2.defaults = t), i
            }), {
                define: e.define,
                require: e.require
            }
        }(),
        t = e.require("jquery.select2");
    return n.fn.select2.amd = e, t
}),
function() {
    "use strict";
    var e, t, n, r, o, i, a, s, l, c, u, d, f, h, p, m, g, v = function(e) {
            return function() {
                return e
            }
        },
        y = v(!1),
        b = v(!0),
        H = {
            noop: function() {
                for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
            },
            noarg: function(n) {
                return function() {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    return n()
                }
            },
            compose: function(n, r) {
                return function() {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    return n(r.apply(null, arguments))
                }
            },
            constant: v,
            identity: function(e) {
                return e
            },
            tripleEquals: function(e, t) {
                return e === t
            },
            curry: function(i) {
                for (var e = [], t = 1; t < arguments.length; t++) e[t - 1] = arguments[t];
                for (var a = new Array(arguments.length - 1), n = 1; n < arguments.length; n++) a[n - 1] = arguments[n];
                return function() {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    for (var n = new Array(arguments.length), r = 0; r < n.length; r++) n[r] = arguments[r];
                    var o = a.concat(n);
                    return i.apply(null, o)
                }
            },
            not: function(n) {
                return function() {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    return !n.apply(null, arguments)
                }
            },
            die: function(e) {
                return function() {
                    throw new Error(e)
                }
            },
            apply: function(e) {
                return e()
            },
            call: function(e) {
                e()
            },
            never: y,
            always: b
        },
        w = H.never,
        x = H.always,
        C = function() {
            return _
        },
        _ = (r = {
            fold: function(e, t) {
                return e()
            },
            is: w,
            isSome: w,
            isNone: x,
            getOr: n = function(e) {
                return e
            },
            getOrThunk: t = function(e) {
                return e()
            },
            getOrDie: function(e) {
                throw new Error(e || "error: getOrDie called on none.")
            },
            or: n,
            orThunk: t,
            map: C,
            ap: C,
            each: function() {},
            bind: C,
            flatten: C,
            exists: w,
            forall: x,
            filter: C,
            equals: e = function(e) {
                return e.isNone()
            },
            equals_: e,
            toArray: function() {
                return []
            },
            toString: H.constant("none()")
        }, Object.freeze && Object.freeze(r), r),
        S = function(n) {
            var e = function() {
                    return n
                },
                t = function() {
                    return o
                },
                r = function(e) {
                    return e(n)
                },
                o = {
                    fold: function(e, t) {
                        return t(n)
                    },
                    is: function(e) {
                        return n === e
                    },
                    isSome: x,
                    isNone: w,
                    getOr: e,
                    getOrThunk: e,
                    getOrDie: e,
                    or: t,
                    orThunk: t,
                    map: function(e) {
                        return S(e(n))
                    },
                    ap: function(e) {
                        return e.fold(C, function(e) {
                            return S(e(n))
                        })
                    },
                    each: function(e) {
                        e(n)
                    },
                    bind: r,
                    flatten: e,
                    exists: r,
                    forall: r,
                    filter: function(e) {
                        return e(n) ? o : _
                    },
                    equals: function(e) {
                        return e.is(n)
                    },
                    equals_: function(e, t) {
                        return e.fold(w, function(e) {
                            return t(n, e)
                        })
                    },
                    toArray: function() {
                        return [n]
                    },
                    toString: function() {
                        return "some(" + n + ")"
                    }
                };
            return o
        },
        M = {
            some: S,
            none: C,
            from: function(e) {
                return null == e ? _ : S(e)
            }
        },
        E = function(t) {
            return function(e) {
                return function(e) {
                    if (null === e) return "null";
                    var t = typeof e;
                    return "object" === t && Array.prototype.isPrototypeOf(e) ? "array" : "object" === t && String.prototype.isPrototypeOf(e) ? "string" : t
                }(e) === t
            }
        },
        F = {
            isString: E("string"),
            isObject: E("object"),
            isArray: E("array"),
            isNull: E("null"),
            isBoolean: E("boolean"),
            isUndefined: E("undefined"),
            isFunction: E("function"),
            isNumber: E("number")
        },
        k = void 0 === (o = Array.prototype.indexOf) ? function(e, t) {
            return B(e, t)
        } : function(e, t) {
            return o.call(e, t)
        },
        T = function(e, t) {
            return -1 < k(e, t)
        },
        N = function(e, t) {
            for (var n = e.length, r = new Array(n), o = 0; o < n; o++) {
                var i = e[o];
                r[o] = t(i, o, e)
            }
            return r
        },
        A = function(e, t) {
            for (var n = 0, r = e.length; n < r; n++) t(e[n], n, e)
        },
        O = function(e, t) {
            for (var n = e.length - 1; 0 <= n; n--) t(e[n], n, e)
        },
        R = function(e, t) {
            for (var n = [], r = 0, o = e.length; r < o; r++) {
                var i = e[r];
                t(i, r, e) && n.push(i)
            }
            return n
        },
        P = function(e, t) {
            for (var n = 0, r = e.length; n < r; n++)
                if (t(e[n], n, e)) return M.some(n);
            return M.none()
        },
        B = function(e, t) {
            for (var n = 0, r = e.length; n < r; ++n)
                if (e[n] === t) return n;
            return -1
        },
        D = Array.prototype.push,
        L = function(e) {
            for (var t = [], n = 0, r = e.length; n < r; ++n) {
                if (!Array.prototype.isPrototypeOf(e[n])) throw new Error("Arr.flatten item " + n + " was not an array, input: " + e);
                D.apply(t, e[n])
            }
            return t
        },
        z = function(e, t) {
            for (var n = 0, r = e.length; n < r; ++n)
                if (!0 !== t(e[n], n, e)) return !1;
            return !0
        },
        I = Array.prototype.slice,
        $ = F.isFunction(Array.from) ? Array.from : function(e) {
            return I.call(e)
        },
        q = {
            map: N,
            each: A,
            eachr: O,
            partition: function(e, t) {
                for (var n = [], r = [], o = 0, i = e.length; o < i; o++) {
                    var a = e[o];
                    (t(a, o, e) ? n : r).push(a)
                }
                return {
                    pass: n,
                    fail: r
                }
            },
            filter: R,
            groupBy: function(e, t) {
                if (0 === e.length) return [];
                for (var n = t(e[0]), r = [], o = [], i = 0, a = e.length; i < a; i++) {
                    var s = e[i],
                        l = t(s);
                    l !== n && (r.push(o), o = []), n = l, o.push(s)
                }
                return 0 !== o.length && r.push(o), r
            },
            indexOf: function(e, t) {
                var n = k(e, t);
                return -1 === n ? M.none() : M.some(n)
            },
            foldr: function(e, t, n) {
                return O(e, function(e) {
                    n = t(n, e)
                }), n
            },
            foldl: function(e, t, n) {
                return A(e, function(e) {
                    n = t(n, e)
                }), n
            },
            find: function(e, t) {
                for (var n = 0, r = e.length; n < r; n++) {
                    var o = e[n];
                    if (t(o, n, e)) return M.some(o)
                }
                return M.none()
            },
            findIndex: P,
            flatten: L,
            bind: function(e, t) {
                var n = N(e, t);
                return L(n)
            },
            forall: z,
            exists: function(e, t) {
                return P(e, t).isSome()
            },
            contains: T,
            equal: function(e, n) {
                return e.length === n.length && z(e, function(e, t) {
                    return e === n[t]
                })
            },
            reverse: function(e) {
                var t = I.call(e, 0);
                return t.reverse(), t
            },
            chunk: function(e, t) {
                for (var n = [], r = 0; r < e.length; r += t) {
                    var o = e.slice(r, r + t);
                    n.push(o)
                }
                return n
            },
            difference: function(e, t) {
                return R(e, function(e) {
                    return !T(t, e)
                })
            },
            mapToObject: function(e, t) {
                for (var n = {}, r = 0, o = e.length; r < o; r++) {
                    var i = e[r];
                    n[String(i)] = t(i, r)
                }
                return n
            },
            pure: function(e) {
                return [e]
            },
            sort: function(e, t) {
                var n = I.call(e, 0);
                return n.sort(t), n
            },
            range: function(e, t) {
                for (var n = [], r = 0; r < e; r++) n.push(t(r));
                return n
            },
            head: function(e) {
                return 0 === e.length ? M.none() : M.some(e[0])
            },
            last: function(e) {
                return 0 === e.length ? M.none() : M.some(e[e.length - 1])
            },
            from: $
        },
        j = "undefined" != typeof window ? window : Function("return this;")(),
        U = function(e, t) {
            return function(e, t) {
                for (var n = null != t ? t : j, r = 0; r < e.length && null != n; ++r) n = n[e[r]];
                return n
            }(e.split("."), t)
        },
        V = {
            getOrDie: function(e, t) {
                var n = U(e, t);
                if (null == n) throw e + " not available on this browser";
                return n
            }
        },
        W = function() {
            return V.getOrDie("URL")
        },
        Y = function(e) {
            return W().createObjectURL(e)
        },
        K = function(e) {
            W().revokeObjectURL(e)
        },
        X = navigator,
        Z = X.userAgent,
        G = function(e) {
            return "matchMedia" in window && matchMedia(e).matches
        };
    f = /Android/.test(Z), a = (a = !(i = /WebKit/.test(Z)) && /MSIE/gi.test(Z) && /Explorer/gi.test(X.appName)) && /MSIE (\w+)\./.exec(Z)[1], s = -1 !== Z.indexOf("Trident/") && (-1 !== Z.indexOf("rv:") || -1 !== X.appName.indexOf("Netscape")) && 11, l = -1 !== Z.indexOf("Edge/") && !a && !s && 12, a = a || s || l, c = !i && !s && /Gecko/.test(Z), u = -1 !== Z.indexOf("Mac"), d = /(iPad|iPhone)/.test(Z), h = "FormData" in window && "FileReader" in window && "URL" in window && !!Y, p = G("only screen and (max-device-width: 480px)") && (f || d), m = G("only screen and (min-width: 800px)") && (f || d), g = -1 !== Z.indexOf("Windows Phone"), l && (i = !1);
    var Q, J, ee, te, ne, re, oe, ie, ae, se, le, ce, ue, de, fe, he, pe, me, ge, ve = {
            opera: !1,
            webkit: i,
            ie: a,
            gecko: c,
            mac: u,
            iOS: d,
            android: f,
            contentEditable: !d || h || 534 <= parseInt(Z.match(/AppleWebKit\/(\d*)/)[1], 10),
            transparentSrc: "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
            caretAfter: 8 !== a,
            range: window.getSelection && "Range" in window,
            documentMode: a && !l ? document.documentMode || 7 : 10,
            fileApi: h,
            ceFalse: !1 === a || 8 < a,
            cacheSuffix: null,
            container: null,
            overrideViewPort: null,
            experimentalShadowDom: !1,
            canHaveCSP: !1 === a || 11 < a,
            desktop: !p && !m,
            windowsPhone: g
        },
        ye = window.Promise ? window.Promise : function() {
            function n(e, t) {
                return function() {
                    e.apply(t, arguments)
                }
            }
            var e = Array.isArray || function(e) {
                    return "[object Array]" === Object.prototype.toString.call(e)
                },
                i = function(e) {
                    if ("object" != typeof this) throw new TypeError("Promises must be constructed via new");
                    if ("function" != typeof e) throw new TypeError("not a function");
                    this._state = null, this._value = null, this._deferreds = [], c(e, n(r, this), n(o, this))
                },
                t = i.immediateFn || "function" == typeof setImmediate && setImmediate || function(e) {
                    setTimeout(e, 1)
                };

            function a(n) {
                var r = this;
                null !== this._state ? t(function() {
                    var e = r._state ? n.onFulfilled : n.onRejected;
                    if (null !== e) {
                        var t;
                        try {
                            t = e(r._value)
                        } catch (e) {
                            return void n.reject(e)
                        }
                        n.resolve(t)
                    } else(r._state ? n.resolve : n.reject)(r._value)
                }) : this._deferreds.push(n)
            }

            function r(e) {
                try {
                    if (e === this) throw new TypeError("A promise cannot be resolved with itself.");
                    if (e && ("object" == typeof e || "function" == typeof e)) {
                        var t = e.then;
                        if ("function" == typeof t) return void c(n(t, e), n(r, this), n(o, this))
                    }
                    this._state = !0, this._value = e, s.call(this)
                } catch (e) {
                    o.call(this, e)
                }
            }

            function o(e) {
                this._state = !1, this._value = e, s.call(this)
            }

            function s() {
                for (var e = 0, t = this._deferreds.length; e < t; e++) a.call(this, this._deferreds[e]);
                this._deferreds = null
            }

            function l(e, t, n, r) {
                this.onFulfilled = "function" == typeof e ? e : null, this.onRejected = "function" == typeof t ? t : null, this.resolve = n, this.reject = r
            }

            function c(e, t, n) {
                var r = !1;
                try {
                    e(function(e) {
                        r || (r = !0, t(e))
                    }, function(e) {
                        r || (r = !0, n(e))
                    })
                } catch (e) {
                    if (r) return;
                    r = !0, n(e)
                }
            }
            return i.prototype.catch = function(e) {
                return this.then(null, e)
            }, i.prototype.then = function(n, r) {
                var o = this;
                return new i(function(e, t) {
                    a.call(o, new l(n, r, e, t))
                })
            }, i.all = function() {
                var s = Array.prototype.slice.call(1 === arguments.length && e(arguments[0]) ? arguments[0] : arguments);
                return new i(function(r, o) {
                    if (0 === s.length) return r([]);
                    var i = s.length;

                    function a(t, e) {
                        try {
                            if (e && ("object" == typeof e || "function" == typeof e)) {
                                var n = e.then;
                                if ("function" == typeof n) return void n.call(e, function(e) {
                                    a(t, e)
                                }, o)
                            }
                            s[t] = e, 0 == --i && r(s)
                        } catch (e) {
                            o(e)
                        }
                    }
                    for (var e = 0; e < s.length; e++) a(e, s[e])
                })
            }, i.resolve = function(t) {
                return t && "object" == typeof t && t.constructor === i ? t : new i(function(e) {
                    e(t)
                })
            }, i.reject = function(n) {
                return new i(function(e, t) {
                    t(n)
                })
            }, i.race = function(o) {
                return new i(function(e, t) {
                    for (var n = 0, r = o.length; n < r; n++) o[n].then(e, t)
                })
            }, i
        }(),
        be = function(e, t) {
            return "number" != typeof t && (t = 0), setTimeout(e, t)
        },
        we = function(e, t) {
            return "number" != typeof t && (t = 1), setInterval(e, t)
        },
        xe = function(t, n) {
            var r, e;
            return (e = function() {
                var e = arguments;
                clearTimeout(r), r = be(function() {
                    t.apply(this, e)
                }, n)
            }).stop = function() {
                clearTimeout(r)
            }, e
        },
        Ce = {
            requestAnimationFrame: function(e, t) {
                Q ? Q.then(e) : Q = new ye(function(e) {
                    t || (t = document.body),
                        function(e, t) {
                            var n, r = window.requestAnimationFrame,
                                o = ["ms", "moz", "webkit"];
                            for (n = 0; n < o.length && !r; n++) r = window[o[n] + "RequestAnimationFrame"];
                            r || (r = function(e) {
                                window.setTimeout(e, 0)
                            }), r(e, t)
                        }(e, t)
                }).then(e)
            },
            setTimeout: be,
            setInterval: we,
            setEditorTimeout: function(e, t, n) {
                return be(function() {
                    e.removed || t()
                }, n)
            },
            setEditorInterval: function(e, t, n) {
                var r;
                return r = we(function() {
                    e.removed ? clearInterval(r) : t()
                }, n)
            },
            debounce: xe,
            throttle: xe,
            clearInterval: function(e) {
                return clearInterval(e)
            },
            clearTimeout: function(e) {
                return clearTimeout(e)
            }
        },
        _e = /^(?:mouse|contextmenu)|click/,
        Se = {
            keyLocation: 1,
            layerX: 1,
            layerY: 1,
            returnValue: 1,
            webkitMovementX: 1,
            webkitMovementY: 1,
            keyIdentifier: 1
        },
        Ee = function() {
            return !1
        },
        ke = function() {
            return !0
        },
        Te = function(e, t, n, r) {
            e.addEventListener ? e.addEventListener(t, n, r || !1) : e.attachEvent && e.attachEvent("on" + t, n)
        },
        Ne = function(e, t, n, r) {
            e.removeEventListener ? e.removeEventListener(t, n, r || !1) : e.detachEvent && e.detachEvent("on" + t, n)
        },
        Ae = function(e, t) {
            var n, r, o, i, a, s = t || {};
            for (n in e) Se[n] || (s[n] = e[n]);
            if (s.target || (s.target = s.srcElement || document), ve.experimentalShadowDom && (s.target = (r = e, i = s.target, (o = r.path) && 0 < o.length && (i = o[0]), r.composedPath && (o = r.composedPath()) && 0 < o.length && (i = o[0]), i)), e && _e.test(e.type) && void 0 === e.pageX && void 0 !== e.clientX) {
                var l = s.target.ownerDocument || document,
                    c = l.documentElement,
                    u = l.body;
                s.pageX = e.clientX + (c && c.scrollLeft || u && u.scrollLeft || 0) - (c && c.clientLeft || u && u.clientLeft || 0), s.pageY = e.clientY + (c && c.scrollTop || u && u.scrollTop || 0) - (c && c.clientTop || u && u.clientTop || 0)
            }
            return s.preventDefault = function() {
                s.isDefaultPrevented = ke, e && (e.preventDefault ? e.preventDefault() : e.returnValue = !1)
            }, s.stopPropagation = function() {
                s.isPropagationStopped = ke, e && (e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0)
            }, !(s.stopImmediatePropagation = function() {
                s.isImmediatePropagationStopped = ke, s.stopPropagation()
            }) == ((a = s).isDefaultPrevented === ke || a.isDefaultPrevented === Ee) && (s.isDefaultPrevented = Ee, s.isPropagationStopped = Ee, s.isImmediatePropagationStopped = Ee), void 0 === s.metaKey && (s.metaKey = !1), s
        },
        Oe = function(e, t, n) {
            var r = e.document,
                o = {
                    type: "ready"
                };
            if (n.domLoaded) t(o);
            else {
                var i = function() {
                        return "complete" === r.readyState || "interactive" === r.readyState && r.body
                    },
                    a = function() {
                        n.domLoaded || (n.domLoaded = !0, t(o))
                    },
                    s = function() {
                        i() && (Ne(r, "readystatechange", s), a())
                    },
                    l = function() {
                        try {
                            r.documentElement.doScroll("left")
                        } catch (e) {
                            return void Ce.setTimeout(l)
                        }
                        a()
                    };
                !r.addEventListener || ve.ie && ve.ie < 11 ? (Te(r, "readystatechange", s), r.documentElement.doScroll && e.self === e.top && l()) : i() ? a() : Te(e, "DOMContentLoaded", a), Te(e, "load", a)
            }
        },
        Re = function() {
            var h, p, m, g, v, y = this,
                b = {};
            p = "mce-data-" + (+new Date).toString(32), g = "onmouseenter" in document.documentElement, m = "onfocusin" in document.documentElement, v = {
                mouseenter: "mouseover",
                mouseleave: "mouseout"
            }, h = 1, y.domLoaded = !1, y.events = b;
            var w = function(e, t) {
                var n, r, o, i, a = b[t];
                if (n = a && a[e.type])
                    for (r = 0, o = n.length; r < o; r++)
                        if ((i = n[r]) && !1 === i.func.call(i.scope, e) && e.preventDefault(), e.isImmediatePropagationStopped()) return
            };
            y.bind = function(e, t, n, r) {
                var o, i, a, s, l, c, u, d = window,
                    f = function(e) {
                        w(Ae(e || d.event), o)
                    };
                if (e && 3 !== e.nodeType && 8 !== e.nodeType) {
                    for (e[p] ? o = e[p] : (o = h++, e[p] = o, b[o] = {}), r = r || e, a = (t = t.split(" ")).length; a--;) c = f, l = u = !1, "DOMContentLoaded" === (s = t[a]) && (s = "ready"), y.domLoaded && "ready" === s && "complete" === e.readyState ? n.call(r, Ae({
                        type: s
                    })) : (g || (l = v[s]) && (c = function(e) {
                        var t, n;
                        if (t = e.currentTarget, (n = e.relatedTarget) && t.contains) n = t.contains(n);
                        else
                            for (; n && n !== t;) n = n.parentNode;
                        n || ((e = Ae(e || d.event)).type = "mouseout" === e.type ? "mouseleave" : "mouseenter", e.target = t, w(e, o))
                    }), m || "focusin" !== s && "focusout" !== s || (u = !0, l = "focusin" === s ? "focus" : "blur", c = function(e) {
                        (e = Ae(e || d.event)).type = "focus" === e.type ? "focusin" : "focusout", w(e, o)
                    }), (i = b[o][s]) ? "ready" === s && y.domLoaded ? n({
                        type: s
                    }) : i.push({
                        func: n,
                        scope: r
                    }) : (b[o][s] = i = [{
                        func: n,
                        scope: r
                    }], i.fakeName = l, i.capture = u, i.nativeHandler = c, "ready" === s ? Oe(e, c, y) : Te(e, l || s, c, u)));
                    return e = i = 0, n
                }
            }, y.unbind = function(t, e, n) {
                var r, o, i, a, s, l;
                if (!t || 3 === t.nodeType || 8 === t.nodeType) return y;
                if (r = t[p]) {
                    if (l = b[r], e) {
                        for (i = (e = e.split(" ")).length; i--;)
                            if (o = l[s = e[i]]) {
                                if (n)
                                    for (a = o.length; a--;)
                                        if (o[a].func === n) {
                                            var c = o.nativeHandler,
                                                u = o.fakeName,
                                                d = o.capture;
                                            (o = o.slice(0, a).concat(o.slice(a + 1))).nativeHandler = c, o.fakeName = u, o.capture = d, l[s] = o
                                        }
                                n && 0 !== o.length || (delete l[s], Ne(t, o.fakeName || s, o.nativeHandler, o.capture))
                            }
                    } else {
                        for (s in l) o = l[s], Ne(t, o.fakeName || s, o.nativeHandler, o.capture);
                        l = {}
                    }
                    for (s in l) return y;
                    delete b[r];
                    try {
                        delete t[p]
                    } catch (e) {
                        t[p] = null
                    }
                }
                return y
            }, y.fire = function(e, t, n) {
                var r;
                if (!e || 3 === e.nodeType || 8 === e.nodeType) return y;
                for ((n = Ae(null, n)).type = t, n.target = e;
                    (r = e[p]) && w(n, r), (e = e.parentNode || e.ownerDocument || e.defaultView || e.parentWindow) && !n.isPropagationStopped(););
                return y
            }, y.clean = function(e) {
                var t, n, r = y.unbind;
                if (!e || 3 === e.nodeType || 8 === e.nodeType) return y;
                if (e[p] && r(e), e.getElementsByTagName || (e = e.document), e && e.getElementsByTagName)
                    for (r(e), t = (n = e.getElementsByTagName("*")).length; t--;)(e = n[t])[p] && r(e);
                return y
            }, y.destroy = function() {
                b = {}
            }, y.cancel = function(e) {
                return e && (e.preventDefault(), e.stopImmediatePropagation()), !1
            }
        };
    Re.Event = new Re, Re.Event.bind(window, "ready", function() {});
    var Pe = "sizzle" + -new Date,
        Be = window.document,
        De = 0,
        Le = 0,
        ze = pt(),
        Ie = pt(),
        Me = pt(),
        $e = function(e, t) {
            return e === t && (ce = !0), 0
        },
        Fe = "undefined",
        je = {}.hasOwnProperty,
        He = [],
        qe = He.pop,
        Ue = He.push,
        Ve = He.push,
        We = He.slice,
        Ye = He.indexOf || function(e) {
            for (var t = 0, n = this.length; t < n; t++)
                if (this[t] === e) return t;
            return -1
        },
        Ke = "[\\x20\\t\\r\\n\\f]",
        Xe = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
        Ze = "\\[" + Ke + "*(" + Xe + ")(?:" + Ke + "*([*^$|!~]?=)" + Ke + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + Xe + "))|)" + Ke + "*\\]",
        Ge = ":(" + Xe + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + Ze + ")*)|.*)\\)|)",
        Qe = new RegExp("^" + Ke + "+|((?:^|[^\\\\])(?:\\\\.)*)" + Ke + "+$", "g"),
        Je = new RegExp("^" + Ke + "*," + Ke + "*"),
        et = new RegExp("^" + Ke + "*([>+~]|" + Ke + ")" + Ke + "*"),
        tt = new RegExp("=" + Ke + "*([^\\]'\"]*?)" + Ke + "*\\]", "g"),
        nt = new RegExp(Ge),
        rt = new RegExp("^" + Xe + "$"),
        ot = {
            ID: new RegExp("^#(" + Xe + ")"),
            CLASS: new RegExp("^\\.(" + Xe + ")"),
            TAG: new RegExp("^(" + Xe + "|[*])"),
            ATTR: new RegExp("^" + Ze),
            PSEUDO: new RegExp("^" + Ge),
            CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + Ke + "*(even|odd|(([+-]|)(\\d*)n|)" + Ke + "*(?:([+-]|)" + Ke + "*(\\d+)|))" + Ke + "*\\)|)", "i"),
            bool: new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$", "i"),
            needsContext: new RegExp("^" + Ke + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + Ke + "*((?:-\\d)?\\d*)" + Ke + "*\\)|)(?=[^-]|$)", "i")
        },
        it = /^(?:input|select|textarea|button)$/i,
        at = /^h\d$/i,
        st = /^[^{]+\{\s*\[native \w/,
        lt = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
        ct = /[+~]/,
        ut = /'|\\/g,
        dt = new RegExp("\\\\([\\da-f]{1,6}" + Ke + "?|(" + Ke + ")|.)", "ig"),
        ft = function(e, t, n) {
            var r = "0x" + t - 65536;
            return r != r || n ? t : r < 0 ? String.fromCharCode(r + 65536) : String.fromCharCode(r >> 10 | 55296, 1023 & r | 56320)
        };
    try {
        Ve.apply(He = We.call(Be.childNodes), Be.childNodes), He[Be.childNodes.length].nodeType
    } catch (e) {
        Ve = {
            apply: He.length ? function(e, t) {
                Ue.apply(e, We.call(t))
            } : function(e, t) {
                for (var n = e.length, r = 0; e[n++] = t[r++];);
                e.length = n - 1
            }
        }
    }
    var ht = function(e, t, n, r) {
        var o, i, a, s, l, c, u, d, f, h;
        if ((t ? t.ownerDocument || t : Be) !== de && ue(t), n = n || [], !e || "string" != typeof e) return n;
        if (1 !== (s = (t = t || de).nodeType) && 9 !== s) return [];
        if (he && !r) {
            if (o = lt.exec(e))
                if (a = o[1]) {
                    if (9 === s) {
                        if (!(i = t.getElementById(a)) || !i.parentNode) return n;
                        if (i.id === a) return n.push(i), n
                    } else if (t.ownerDocument && (i = t.ownerDocument.getElementById(a)) && ge(t, i) && i.id === a) return n.push(i), n
                } else {
                    if (o[2]) return Ve.apply(n, t.getElementsByTagName(e)), n;
                    if ((a = o[3]) && ee.getElementsByClassName) return Ve.apply(n, t.getElementsByClassName(a)), n
                }
            if (ee.qsa && (!pe || !pe.test(e))) {
                if (d = u = Pe, f = t, h = 9 === s && e, 1 === s && "object" !== t.nodeName.toLowerCase()) {
                    for (c = oe(e), (u = t.getAttribute("id")) ? d = u.replace(ut, "\\$&") : t.setAttribute("id", d), d = "[id='" + d + "'] ", l = c.length; l--;) c[l] = d + Ct(c[l]);
                    f = ct.test(e) && wt(t.parentNode) || t, h = c.join(",")
                }
                if (h) try {
                    return Ve.apply(n, f.querySelectorAll(h)), n
                } catch (e) {} finally {
                    u || t.removeAttribute("id")
                }
            }
        }
        return ae(e.replace(Qe, "$1"), t, n, r)
    };

    function pt() {
        var r = [];
        return function e(t, n) {
            return r.push(t + " ") > te.cacheLength && delete e[r.shift()], e[t + " "] = n
        }
    }

    function mt(e) {
        return e[Pe] = !0, e
    }

    function gt(e, t) {
        var n = t && e,
            r = n && 1 === e.nodeType && 1 === t.nodeType && (~t.sourceIndex || 1 << 31) - (~e.sourceIndex || 1 << 31);
        if (r) return r;
        if (n)
            for (; n = n.nextSibling;)
                if (n === t) return -1;
        return e ? 1 : -1
    }

    function vt(t) {
        return function(e) {
            return "input" === e.nodeName.toLowerCase() && e.type === t
        }
    }

    function yt(n) {
        return function(e) {
            var t = e.nodeName.toLowerCase();
            return ("input" === t || "button" === t) && e.type === n
        }
    }

    function bt(a) {
        return mt(function(i) {
            return i = +i, mt(function(e, t) {
                for (var n, r = a([], e.length, i), o = r.length; o--;) e[n = r[o]] && (e[n] = !(t[n] = e[n]))
            })
        })
    }

    function wt(e) {
        return e && typeof e.getElementsByTagName !== Fe && e
    }
    for (J in ee = ht.support = {}, re = ht.isXML = function(e) {
            var t = e && (e.ownerDocument || e).documentElement;
            return !!t && "HTML" !== t.nodeName
        }, ue = ht.setDocument = function(e) {
            var t, l = e ? e.ownerDocument || e : Be,
                n = l.defaultView;
            return l !== de && 9 === l.nodeType && l.documentElement ? (fe = (de = l).documentElement, he = !re(l), n && n !== function(e) {
                try {
                    return e.top
                } catch (e) {}
                return null
            }(n) && (n.addEventListener ? n.addEventListener("unload", function() {
                ue()
            }, !1) : n.attachEvent && n.attachEvent("onunload", function() {
                ue()
            })), ee.attributes = !0, ee.getElementsByTagName = !0, ee.getElementsByClassName = st.test(l.getElementsByClassName), ee.getById = !0, te.find.ID = function(e, t) {
                if (typeof t.getElementById !== Fe && he) {
                    var n = t.getElementById(e);
                    return n && n.parentNode ? [n] : []
                }
            }, te.filter.ID = function(e) {
                var t = e.replace(dt, ft);
                return function(e) {
                    return e.getAttribute("id") === t
                }
            }, te.find.TAG = ee.getElementsByTagName ? function(e, t) {
                if (typeof t.getElementsByTagName !== Fe) return t.getElementsByTagName(e)
            } : function(e, t) {
                var n, r = [],
                    o = 0,
                    i = t.getElementsByTagName(e);
                if ("*" !== e) return i;
                for (; n = i[o++];) 1 === n.nodeType && r.push(n);
                return r
            }, te.find.CLASS = ee.getElementsByClassName && function(e, t) {
                if (he) return t.getElementsByClassName(e)
            }, me = [], pe = [], ee.disconnectedMatch = !0, pe = pe.length && new RegExp(pe.join("|")), me = me.length && new RegExp(me.join("|")), t = st.test(fe.compareDocumentPosition), ge = t || st.test(fe.contains) ? function(e, t) {
                var n = 9 === e.nodeType ? e.documentElement : e,
                    r = t && t.parentNode;
                return e === r || !(!r || 1 !== r.nodeType || !(n.contains ? n.contains(r) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(r)))
            } : function(e, t) {
                if (t)
                    for (; t = t.parentNode;)
                        if (t === e) return !0;
                return !1
            }, $e = t ? function(e, t) {
                if (e === t) return ce = !0, 0;
                var n = !e.compareDocumentPosition - !t.compareDocumentPosition;
                return n || (1 & (n = (e.ownerDocument || e) === (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1) || !ee.sortDetached && t.compareDocumentPosition(e) === n ? e === l || e.ownerDocument === Be && ge(Be, e) ? -1 : t === l || t.ownerDocument === Be && ge(Be, t) ? 1 : le ? Ye.call(le, e) - Ye.call(le, t) : 0 : 4 & n ? -1 : 1)
            } : function(e, t) {
                if (e === t) return ce = !0, 0;
                var n, r = 0,
                    o = e.parentNode,
                    i = t.parentNode,
                    a = [e],
                    s = [t];
                if (!o || !i) return e === l ? -1 : t === l ? 1 : o ? -1 : i ? 1 : le ? Ye.call(le, e) - Ye.call(le, t) : 0;
                if (o === i) return gt(e, t);
                for (n = e; n = n.parentNode;) a.unshift(n);
                for (n = t; n = n.parentNode;) s.unshift(n);
                for (; a[r] === s[r];) r++;
                return r ? gt(a[r], s[r]) : a[r] === Be ? -1 : s[r] === Be ? 1 : 0
            }, l) : de
        }, ht.matches = function(e, t) {
            return ht(e, null, null, t)
        }, ht.matchesSelector = function(e, t) {
            if ((e.ownerDocument || e) !== de && ue(e), t = t.replace(tt, "='$1']"), ee.matchesSelector && he && (!me || !me.test(t)) && (!pe || !pe.test(t))) try {
                var n = (void 0).call(e, t);
                if (n || ee.disconnectedMatch || e.document && 11 !== e.document.nodeType) return n
            } catch (e) {}
            return 0 < ht(t, de, null, [e]).length
        }, ht.contains = function(e, t) {
            return (e.ownerDocument || e) !== de && ue(e), ge(e, t)
        }, ht.attr = function(e, t) {
            (e.ownerDocument || e) !== de && ue(e);
            var n = te.attrHandle[t.toLowerCase()],
                r = n && je.call(te.attrHandle, t.toLowerCase()) ? n(e, t, !he) : void 0;
            return void 0 !== r ? r : ee.attributes || !he ? e.getAttribute(t) : (r = e.getAttributeNode(t)) && r.specified ? r.value : null
        }, ht.error = function(e) {
            throw new Error("Syntax error, unrecognized expression: " + e)
        }, ht.uniqueSort = function(e) {
            var t, n = [],
                r = 0,
                o = 0;
            if (ce = !ee.detectDuplicates, le = !ee.sortStable && e.slice(0), e.sort($e), ce) {
                for (; t = e[o++];) t === e[o] && (r = n.push(o));
                for (; r--;) e.splice(n[r], 1)
            }
            return le = null, e
        }, ne = ht.getText = function(e) {
            var t, n = "",
                r = 0,
                o = e.nodeType;
            if (o) {
                if (1 === o || 9 === o || 11 === o) {
                    if ("string" == typeof e.textContent) return e.textContent;
                    for (e = e.firstChild; e; e = e.nextSibling) n += ne(e)
                } else if (3 === o || 4 === o) return e.nodeValue
            } else
                for (; t = e[r++];) n += ne(t);
            return n
        }, (te = ht.selectors = {
            cacheLength: 50,
            createPseudo: mt,
            match: ot,
            attrHandle: {},
            find: {},
            relative: {
                ">": {
                    dir: "parentNode",
                    first: !0
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: !0
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(e) {
                    return e[1] = e[1].replace(dt, ft), e[3] = (e[3] || e[4] || e[5] || "").replace(dt, ft), "~=" === e[2] && (e[3] = " " + e[3] + " "), e.slice(0, 4)
                },
                CHILD: function(e) {
                    return e[1] = e[1].toLowerCase(), "nth" === e[1].slice(0, 3) ? (e[3] || ht.error(e[0]), e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])), e[5] = +(e[7] + e[8] || "odd" === e[3])) : e[3] && ht.error(e[0]), e
                },
                PSEUDO: function(e) {
                    var t, n = !e[6] && e[2];
                    return ot.CHILD.test(e[0]) ? null : (e[3] ? e[2] = e[4] || e[5] || "" : n && nt.test(n) && (t = oe(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && (e[0] = e[0].slice(0, t), e[2] = n.slice(0, t)), e.slice(0, 3))
                }
            },
            filter: {
                TAG: function(e) {
                    var t = e.replace(dt, ft).toLowerCase();
                    return "*" === e ? function() {
                        return !0
                    } : function(e) {
                        return e.nodeName && e.nodeName.toLowerCase() === t
                    }
                },
                CLASS: function(e) {
                    var t = ze[e + " "];
                    return t || (t = new RegExp("(^|" + Ke + ")" + e + "(" + Ke + "|$)")) && ze(e, function(e) {
                        return t.test("string" == typeof e.className && e.className || typeof e.getAttribute !== Fe && e.getAttribute("class") || "")
                    })
                },
                ATTR: function(n, r, o) {
                    return function(e) {
                        var t = ht.attr(e, n);
                        return null == t ? "!=" === r : !r || (t += "", "=" === r ? t === o : "!=" === r ? t !== o : "^=" === r ? o && 0 === t.indexOf(o) : "*=" === r ? o && -1 < t.indexOf(o) : "$=" === r ? o && t.slice(-o.length) === o : "~=" === r ? -1 < (" " + t + " ").indexOf(o) : "|=" === r && (t === o || t.slice(0, o.length + 1) === o + "-"))
                    }
                },
                CHILD: function(h, e, t, p, m) {
                    var g = "nth" !== h.slice(0, 3),
                        v = "last" !== h.slice(-4),
                        y = "of-type" === e;
                    return 1 === p && 0 === m ? function(e) {
                        return !!e.parentNode
                    } : function(e, t, n) {
                        var r, o, i, a, s, l, c = g !== v ? "nextSibling" : "previousSibling",
                            u = e.parentNode,
                            d = y && e.nodeName.toLowerCase(),
                            f = !n && !y;
                        if (u) {
                            if (g) {
                                for (; c;) {
                                    for (i = e; i = i[c];)
                                        if (y ? i.nodeName.toLowerCase() === d : 1 === i.nodeType) return !1;
                                    l = c = "only" === h && !l && "nextSibling"
                                }
                                return !0
                            }
                            if (l = [v ? u.firstChild : u.lastChild], v && f) {
                                for (s = (r = (o = u[Pe] || (u[Pe] = {}))[h] || [])[0] === De && r[1], a = r[0] === De && r[2], i = s && u.childNodes[s]; i = ++s && i && i[c] || (a = s = 0) || l.pop();)
                                    if (1 === i.nodeType && ++a && i === e) {
                                        o[h] = [De, s, a];
                                        break
                                    }
                            } else if (f && (r = (e[Pe] || (e[Pe] = {}))[h]) && r[0] === De) a = r[1];
                            else
                                for (;
                                    (i = ++s && i && i[c] || (a = s = 0) || l.pop()) && ((y ? i.nodeName.toLowerCase() !== d : 1 !== i.nodeType) || !++a || (f && ((i[Pe] || (i[Pe] = {}))[h] = [De, a]), i !== e)););
                            return (a -= m) === p || a % p == 0 && 0 <= a / p
                        }
                    }
                },
                PSEUDO: function(e, i) {
                    var t, a = te.pseudos[e] || te.setFilters[e.toLowerCase()] || ht.error("unsupported pseudo: " + e);
                    return a[Pe] ? a(i) : 1 < a.length ? (t = [e, e, "", i], te.setFilters.hasOwnProperty(e.toLowerCase()) ? mt(function(e, t) {
                        for (var n, r = a(e, i), o = r.length; o--;) e[n = Ye.call(e, r[o])] = !(t[n] = r[o])
                    }) : function(e) {
                        return a(e, 0, t)
                    }) : a
                }
            },
            pseudos: {
                not: mt(function(e) {
                    var r = [],
                        o = [],
                        s = ie(e.replace(Qe, "$1"));
                    return s[Pe] ? mt(function(e, t, n, r) {
                        for (var o, i = s(e, null, r, []), a = e.length; a--;)(o = i[a]) && (e[a] = !(t[a] = o))
                    }) : function(e, t, n) {
                        return r[0] = e, s(r, null, n, o), !o.pop()
                    }
                }),
                has: mt(function(t) {
                    return function(e) {
                        return 0 < ht(t, e).length
                    }
                }),
                contains: mt(function(t) {
                    return t = t.replace(dt, ft),
                        function(e) {
                            return -1 < (e.textContent || e.innerText || ne(e)).indexOf(t)
                        }
                }),
                lang: mt(function(n) {
                    return rt.test(n || "") || ht.error("unsupported lang: " + n), n = n.replace(dt, ft).toLowerCase(),
                        function(e) {
                            var t;
                            do {
                                if (t = he ? e.lang : e.getAttribute("xml:lang") || e.getAttribute("lang")) return (t = t.toLowerCase()) === n || 0 === t.indexOf(n + "-")
                            } while ((e = e.parentNode) && 1 === e.nodeType);
                            return !1
                        }
                }),
                target: function(e) {
                    var t = window.location && window.location.hash;
                    return t && t.slice(1) === e.id
                },
                root: function(e) {
                    return e === fe
                },
                focus: function(e) {
                    return e === de.activeElement && (!de.hasFocus || de.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
                },
                enabled: function(e) {
                    return !1 === e.disabled
                },
                disabled: function(e) {
                    return !0 === e.disabled
                },
                checked: function(e) {
                    var t = e.nodeName.toLowerCase();
                    return "input" === t && !!e.checked || "option" === t && !!e.selected
                },
                selected: function(e) {
                    return e.parentNode && e.parentNode.selectedIndex, !0 === e.selected
                },
                empty: function(e) {
                    for (e = e.firstChild; e; e = e.nextSibling)
                        if (e.nodeType < 6) return !1;
                    return !0
                },
                parent: function(e) {
                    return !te.pseudos.empty(e)
                },
                header: function(e) {
                    return at.test(e.nodeName)
                },
                input: function(e) {
                    return it.test(e.nodeName)
                },
                button: function(e) {
                    var t = e.nodeName.toLowerCase();
                    return "input" === t && "button" === e.type || "button" === t
                },
                text: function(e) {
                    var t;
                    return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || "text" === t.toLowerCase())
                },
                first: bt(function() {
                    return [0]
                }),
                last: bt(function(e, t) {
                    return [t - 1]
                }),
                eq: bt(function(e, t, n) {
                    return [n < 0 ? n + t : n]
                }),
                even: bt(function(e, t) {
                    for (var n = 0; n < t; n += 2) e.push(n);
                    return e
                }),
                odd: bt(function(e, t) {
                    for (var n = 1; n < t; n += 2) e.push(n);
                    return e
                }),
                lt: bt(function(e, t, n) {
                    for (var r = n < 0 ? n + t : n; 0 <= --r;) e.push(r);
                    return e
                }),
                gt: bt(function(e, t, n) {
                    for (var r = n < 0 ? n + t : n; ++r < t;) e.push(r);
                    return e
                })
            }
        }).pseudos.nth = te.pseudos.eq, {
            radio: !0,
            checkbox: !0,
            file: !0,
            password: !0,
            image: !0
        }) te.pseudos[J] = vt(J);
    for (J in {
            submit: !0,
            reset: !0
        }) te.pseudos[J] = yt(J);

    function xt() {}

    function Ct(e) {
        for (var t = 0, n = e.length, r = ""; t < n; t++) r += e[t].value;
        return r
    }

    function _t(a, e, t) {
        var s = e.dir,
            l = t && "parentNode" === s,
            c = Le++;
        return e.first ? function(e, t, n) {
            for (; e = e[s];)
                if (1 === e.nodeType || l) return a(e, t, n)
        } : function(e, t, n) {
            var r, o, i = [De, c];
            if (n) {
                for (; e = e[s];)
                    if ((1 === e.nodeType || l) && a(e, t, n)) return !0
            } else
                for (; e = e[s];)
                    if (1 === e.nodeType || l) {
                        if ((r = (o = e[Pe] || (e[Pe] = {}))[s]) && r[0] === De && r[1] === c) return i[2] = r[2];
                        if ((o[s] = i)[2] = a(e, t, n)) return !0
                    }
        }
    }

    function St(o) {
        return 1 < o.length ? function(e, t, n) {
            for (var r = o.length; r--;)
                if (!o[r](e, t, n)) return !1;
            return !0
        } : o[0]
    }

    function Et(e, t, n, r, o) {
        for (var i, a = [], s = 0, l = e.length, c = null != t; s < l; s++)(i = e[s]) && (n && !n(i, r, o) || (a.push(i), c && t.push(s)));
        return a
    }

    function kt(h, p, m, g, v, e) {
        return g && !g[Pe] && (g = kt(g)), v && !v[Pe] && (v = kt(v, e)), mt(function(e, t, n, r) {
            var o, i, a, s = [],
                l = [],
                c = t.length,
                u = e || function(e, t, n) {
                    for (var r = 0, o = t.length; r < o; r++) ht(e, t[r], n);
                    return n
                }(p || "*", n.nodeType ? [n] : n, []),
                d = !h || !e && p ? u : Et(u, s, h, n, r),
                f = m ? v || (e ? h : c || g) ? [] : t : d;
            if (m && m(d, f, n, r), g)
                for (o = Et(f, l), g(o, [], n, r), i = o.length; i--;)(a = o[i]) && (f[l[i]] = !(d[l[i]] = a));
            if (e) {
                if (v || h) {
                    if (v) {
                        for (o = [], i = f.length; i--;)(a = f[i]) && o.push(d[i] = a);
                        v(null, f = [], o, r)
                    }
                    for (i = f.length; i--;)(a = f[i]) && -1 < (o = v ? Ye.call(e, a) : s[i]) && (e[o] = !(t[o] = a))
                }
            } else f = Et(f === t ? f.splice(c, f.length) : f), v ? v(null, t, f, r) : Ve.apply(t, f)
        })
    }

    function Tt(e) {
        for (var r, t, n, o = e.length, i = te.relative[e[0].type], a = i || te.relative[" "], s = i ? 1 : 0, l = _t(function(e) {
                return e === r
            }, a, !0), c = _t(function(e) {
                return -1 < Ye.call(r, e)
            }, a, !0), u = [function(e, t, n) {
                return !i && (n || t !== se) || ((r = t).nodeType ? l(e, t, n) : c(e, t, n))
            }]; s < o; s++)
            if (t = te.relative[e[s].type]) u = [_t(St(u), t)];
            else {
                if ((t = te.filter[e[s].type].apply(null, e[s].matches))[Pe]) {
                    for (n = ++s; n < o && !te.relative[e[n].type]; n++);
                    return kt(1 < s && St(u), 1 < s && Ct(e.slice(0, s - 1).concat({
                        value: " " === e[s - 2].type ? "*" : ""
                    })).replace(Qe, "$1"), t, s < n && Tt(e.slice(s, n)), n < o && Tt(e = e.slice(n)), n < o && Ct(e))
                }
                u.push(t)
            }
        return St(u)
    }
    xt.prototype = te.filters = te.pseudos, te.setFilters = new xt, oe = ht.tokenize = function(e, t) {
        var n, r, o, i, a, s, l, c = Ie[e + " "];
        if (c) return t ? 0 : c.slice(0);
        for (a = e, s = [], l = te.preFilter; a;) {
            for (i in n && !(r = Je.exec(a)) || (r && (a = a.slice(r[0].length) || a), s.push(o = [])), n = !1, (r = et.exec(a)) && (n = r.shift(), o.push({
                    value: n,
                    type: r[0].replace(Qe, " ")
                }), a = a.slice(n.length)), te.filter) !(r = ot[i].exec(a)) || l[i] && !(r = l[i](r)) || (n = r.shift(), o.push({
                value: n,
                type: i,
                matches: r
            }), a = a.slice(n.length));
            if (!n) break
        }
        return t ? a.length : a ? ht.error(e) : Ie(e, s).slice(0)
    }, ie = ht.compile = function(e, t) {
        var n, g, v, y, b, r, o = [],
            i = [],
            a = Me[e + " "];
        if (!a) {
            for (t || (t = oe(e)), n = t.length; n--;)(a = Tt(t[n]))[Pe] ? o.push(a) : i.push(a);
            (a = Me(e, (g = i, y = 0 < (v = o).length, b = 0 < g.length, r = function(e, t, n, r, o) {
                var i, a, s, l = 0,
                    c = "0",
                    u = e && [],
                    d = [],
                    f = se,
                    h = e || b && te.find.TAG("*", o),
                    p = De += null == f ? 1 : Math.random() || .1,
                    m = h.length;
                for (o && (se = t !== de && t); c !== m && null != (i = h[c]); c++) {
                    if (b && i) {
                        for (a = 0; s = g[a++];)
                            if (s(i, t, n)) {
                                r.push(i);
                                break
                            }
                        o && (De = p)
                    }
                    y && ((i = !s && i) && l--, e && u.push(i))
                }
                if (l += c, y && c !== l) {
                    for (a = 0; s = v[a++];) s(u, d, t, n);
                    if (e) {
                        if (0 < l)
                            for (; c--;) u[c] || d[c] || (d[c] = qe.call(r));
                        d = Et(d)
                    }
                    Ve.apply(r, d), o && !e && 0 < d.length && 1 < l + v.length && ht.uniqueSort(r)
                }
                return o && (De = p, se = f), u
            }, y ? mt(r) : r))).selector = e
        }
        return a
    }, ae = ht.select = function(e, t, n, r) {
        var o, i, a, s, l, c = "function" == typeof e && e,
            u = !r && oe(e = c.selector || e);
        if (n = n || [], 1 === u.length) {
            if (2 < (i = u[0] = u[0].slice(0)).length && "ID" === (a = i[0]).type && ee.getById && 9 === t.nodeType && he && te.relative[i[1].type]) {
                if (!(t = (te.find.ID(a.matches[0].replace(dt, ft), t) || [])[0])) return n;
                c && (t = t.parentNode), e = e.slice(i.shift().value.length)
            }
            for (o = ot.needsContext.test(e) ? 0 : i.length; o-- && (a = i[o], !te.relative[s = a.type]);)
                if ((l = te.find[s]) && (r = l(a.matches[0].replace(dt, ft), ct.test(i[0].type) && wt(t.parentNode) || t))) {
                    if (i.splice(o, 1), !(e = r.length && Ct(i))) return Ve.apply(n, r), n;
                    break
                }
        }
        return (c || ie(e, u))(r, t, !he, n, ct.test(e) && wt(t.parentNode) || t), n
    }, ee.sortStable = Pe.split("").sort($e).join("") === Pe, ee.detectDuplicates = !!ce, ue(), ee.sortDetached = !0;
    var Nt = Array.isArray,
        At = function(e, t, n) {
            var r, o;
            if (!e) return 0;
            if (n = n || e, void 0 !== e.length) {
                for (r = 0, o = e.length; r < o; r++)
                    if (!1 === t.call(n, e[r], r, e)) return 0
            } else
                for (r in e)
                    if (e.hasOwnProperty(r) && !1 === t.call(n, e[r], r, e)) return 0; return 1
        },
        Ot = function(e, t, n) {
            var r, o;
            for (r = 0, o = e.length; r < o; r++)
                if (t.call(n, e[r], r, e)) return r;
            return -1
        },
        Rt = {
            isArray: Nt,
            toArray: function(e) {
                var t, n, r = e;
                if (!Nt(e))
                    for (r = [], t = 0, n = e.length; t < n; t++) r[t] = e[t];
                return r
            },
            each: At,
            map: function(n, r) {
                var o = [];
                return At(n, function(e, t) {
                    o.push(r(e, t, n))
                }), o
            },
            filter: function(n, r) {
                var o = [];
                return At(n, function(e, t) {
                    r && !r(e, t, n) || o.push(e)
                }), o
            },
            indexOf: function(e, t) {
                var n, r;
                if (e)
                    for (n = 0, r = e.length; n < r; n++)
                        if (e[n] === t) return n;
                return -1
            },
            reduce: function(e, t, n, r) {
                var o = 0;
                for (arguments.length < 3 && (n = e[0]); o < e.length; o++) n = t.call(r, n, e[o], o);
                return n
            },
            findIndex: Ot,
            find: function(e, t, n) {
                var r = Ot(e, t, n);
                return -1 !== r ? e[r] : void 0
            },
            last: function(e) {
                return e[e.length - 1]
            }
        },
        Pt = /^\s*|\s*$/g,
        Bt = function(e) {
            return null == e ? "" : ("" + e).replace(Pt, "")
        },
        Dt = function(e, t) {
            return t ? !("array" !== t || !Rt.isArray(e)) || typeof e === t : void 0 !== e
        },
        Lt = function(e, n, r, o) {
            o = o || this, e && (r && (e = e[r]), Rt.each(e, function(e, t) {
                if (!1 === n.call(o, e, t, r)) return !1;
                Lt(e, n, r, o)
            }))
        },
        zt = {
            trim: Bt,
            isArray: Rt.isArray,
            is: Dt,
            toArray: Rt.toArray,
            makeMap: function(e, t, n) {
                var r;
                for (t = t || ",", "string" == typeof(e = e || []) && (e = e.split(t)), n = n || {}, r = e.length; r--;) n[e[r]] = {};
                return n
            },
            each: Rt.each,
            map: Rt.map,
            grep: Rt.filter,
            inArray: Rt.indexOf,
            hasOwn: function(e, t) {
                return Object.prototype.hasOwnProperty.call(e, t)
            },
            extend: function(e, t) {
                for (var n, r, o, i = [], a = 2; a < arguments.length; a++) i[a - 2] = arguments[a];
                var s, l = arguments;
                for (n = 1, r = l.length; n < r; n++)
                    for (o in t = l[n]) t.hasOwnProperty(o) && void 0 !== (s = t[o]) && (e[o] = s);
                return e
            },
            create: function(e, t, n) {
                var r, o, i, a, s, l = 0;
                if (e = /^((static) )?([\w.]+)(:([\w.]+))?/.exec(e), i = e[3].match(/(^|\.)(\w+)$/i)[2], !(o = this.createNS(e[3].replace(/\.\w+$/, ""), n))[i]) {
                    if ("static" === e[2]) return o[i] = t, void(this.onCreate && this.onCreate(e[2], e[3], o[i]));
                    t[i] || (t[i] = function() {}, l = 1), o[i] = t[i], this.extend(o[i].prototype, t), e[5] && (r = this.resolve(e[5]).prototype, a = e[5].match(/\.(\w+)$/i)[1], s = o[i], o[i] = l ? function() {
                        return r[a].apply(this, arguments)
                    } : function() {
                        return this.parent = r[a], s.apply(this, arguments)
                    }, o[i].prototype[i] = o[i], this.each(r, function(e, t) {
                        o[i].prototype[t] = r[t]
                    }), this.each(t, function(e, t) {
                        r[t] ? o[i].prototype[t] = function() {
                            return this.parent = r[t], e.apply(this, arguments)
                        } : t !== i && (o[i].prototype[t] = e)
                    })), this.each(t.static, function(e, t) {
                        o[i][t] = e
                    })
                }
            },
            walk: Lt,
            createNS: function(e, t) {
                var n, r;
                for (t = t || window, e = e.split("."), n = 0; n < e.length; n++) t[r = e[n]] || (t[r] = {}), t = t[r];
                return t
            },
            resolve: function(e, t) {
                var n, r;
                for (t = t || window, n = 0, r = (e = e.split(".")).length; n < r && (t = t[e[n]]); n++);
                return t
            },
            explode: function(e, t) {
                return !e || Dt(e, "array") ? e : Rt.map(e.split(t || ","), Bt)
            },
            _addCacheSuffix: function(e) {
                var t = ve.cacheSuffix;
                return t && (e += (-1 === e.indexOf("?") ? "?" : "&") + t), e
            }
        },
        It = document,
        Mt = Array.prototype.push,
        $t = Array.prototype.slice,
        Ft = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,
        jt = Re.Event,
        Ht = zt.makeMap("children,contents,next,prev"),
        qt = function(e) {
            return void 0 !== e
        },
        Ut = function(e) {
            return "string" == typeof e
        },
        Vt = function(e, t) {
            var n, r, o;
            for (o = (t = t || It).createElement("div"), n = t.createDocumentFragment(), o.innerHTML = e; r = o.firstChild;) n.appendChild(r);
            return n
        },
        Wt = function(e, t, n, r) {
            var o;
            if (Ut(t)) t = Vt(t, sn(e[0]));
            else if (t.length && !t.nodeType) {
                if (t = tn.makeArray(t), r)
                    for (o = t.length - 1; 0 <= o; o--) Wt(e, t[o], n, r);
                else
                    for (o = 0; o < t.length; o++) Wt(e, t[o], n, r);
                return e
            }
            if (t.nodeType)
                for (o = e.length; o--;) n.call(e[o], t);
            return e
        },
        Yt = function(e, t) {
            return e && t && -1 !== (" " + e.className + " ").indexOf(" " + t + " ")
        },
        Kt = function(e, t, n) {
            var r, o;
            return t = tn(t)[0], e.each(function() {
                n && r === this.parentNode || (r = this.parentNode, o = t.cloneNode(!1), this.parentNode.insertBefore(o, this)), o.appendChild(this)
            }), e
        },
        Xt = zt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom", " "),
        Zt = zt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected", " "),
        Gt = {
            for: "htmlFor",
            class: "className",
            readonly: "readOnly"
        },
        Qt = {
            float: "cssFloat"
        },
        Jt = {},
        en = {},
        tn = function(e, t) {
            return new tn.fn.init(e, t)
        },
        nn = /^\s*|\s*$/g,
        rn = function(e) {
            return null == e ? "" : ("" + e).replace(nn, "")
        },
        on = function(e, t) {
            var n, r, o, i;
            if (e)
                if (void 0 === (n = e.length)) {
                    for (r in e)
                        if (e.hasOwnProperty(r) && (i = e[r], !1 === t.call(i, r, i))) break
                } else
                    for (o = 0; o < n && (i = e[o], !1 !== t.call(i, o, i)); o++);
            return e
        },
        an = function(e, n) {
            var r = [];
            return on(e, function(e, t) {
                n(t, e) && r.push(t)
            }), r
        },
        sn = function(e) {
            return e ? 9 === e.nodeType ? e : e.ownerDocument : It
        };
    tn.fn = tn.prototype = {
        constructor: tn,
        selector: "",
        context: null,
        length: 0,
        init: function(e, t) {
            var n, r, o = this;
            if (!e) return o;
            if (e.nodeType) return o.context = o[0] = e, o.length = 1, o;
            if (t && t.nodeType) o.context = t;
            else {
                if (t) return tn(e).attr(t);
                o.context = t = document
            }
            if (Ut(e)) {
                if (!(n = "<" === (o.selector = e).charAt(0) && ">" === e.charAt(e.length - 1) && 3 <= e.length ? [null, e, null] : Ft.exec(e))) return tn(t).find(e);
                if (n[1])
                    for (r = Vt(e, sn(t)).firstChild; r;) Mt.call(o, r), r = r.nextSibling;
                else {
                    if (!(r = sn(t).getElementById(n[2]))) return o;
                    if (r.id !== n[2]) return o.find(e);
                    o.length = 1, o[0] = r
                }
            } else this.add(e, !1);
            return o
        },
        toArray: function() {
            return zt.toArray(this)
        },
        add: function(e, t) {
            var n, r;
            if (Ut(e)) return this.add(tn(e));
            if (!1 !== t)
                for (n = tn.unique(this.toArray().concat(tn.makeArray(e))), this.length = n.length, r = 0; r < n.length; r++) this[r] = n[r];
            else Mt.apply(this, tn.makeArray(e));
            return this
        },
        attr: function(t, n) {
            var e, r = this;
            if ("object" == typeof t) on(t, function(e, t) {
                r.attr(e, t)
            });
            else {
                if (!qt(n)) {
                    if (r[0] && 1 === r[0].nodeType) {
                        if ((e = Jt[t]) && e.get) return e.get(r[0], t);
                        if (Zt[t]) return r.prop(t) ? t : void 0;
                        null === (n = r[0].getAttribute(t, 2)) && (n = void 0)
                    }
                    return n
                }
                this.each(function() {
                    var e;
                    if (1 === this.nodeType) {
                        if ((e = Jt[t]) && e.set) return void e.set(this, n);
                        null === n ? this.removeAttribute(t, 2) : this.setAttribute(t, n, 2)
                    }
                })
            }
            return r
        },
        removeAttr: function(e) {
            return this.attr(e, null)
        },
        prop: function(e, t) {
            var n = this;
            if ("object" == typeof(e = Gt[e] || e)) on(e, function(e, t) {
                n.prop(e, t)
            });
            else {
                if (!qt(t)) return n[0] && n[0].nodeType && e in n[0] ? n[0][e] : t;
                this.each(function() {
                    1 === this.nodeType && (this[e] = t)
                })
            }
            return n
        },
        css: function(t, n) {
            var e, r, o = this,
                i = function(e) {
                    return e.replace(/-(\D)/g, function(e, t) {
                        return t.toUpperCase()
                    })
                },
                a = function(e) {
                    return e.replace(/[A-Z]/g, function(e) {
                        return "-" + e
                    })
                };
            if ("object" == typeof t) on(t, function(e, t) {
                o.css(e, t)
            });
            else if (qt(n)) t = i(t), "number" != typeof n || Xt[t] || (n = n.toString() + "px"), o.each(function() {
                var e = this.style;
                if ((r = en[t]) && r.set) r.set(this, n);
                else {
                    try {
                        this.style[Qt[t] || t] = n
                    } catch (e) {}
                    null !== n && "" !== n || (e.removeProperty ? e.removeProperty(a(t)) : e.removeAttribute(t))
                }
            });
            else {
                if (e = o[0], (r = en[t]) && r.get) return r.get(e);
                if (!e.ownerDocument.defaultView) return e.currentStyle ? e.currentStyle[i(t)] : "";
                try {
                    return e.ownerDocument.defaultView.getComputedStyle(e, null).getPropertyValue(a(t))
                } catch (e) {
                    return
                }
            }
            return o
        },
        remove: function() {
            for (var e, t = this.length; t--;) e = this[t], jt.clean(e), e.parentNode && e.parentNode.removeChild(e);
            return this
        },
        empty: function() {
            for (var e, t = this.length; t--;)
                for (e = this[t]; e.firstChild;) e.removeChild(e.firstChild);
            return this
        },
        html: function(t) {
            var n, r = this;
            if (qt(t)) {
                n = r.length;
                try {
                    for (; n--;) r[n].innerHTML = t
                } catch (e) {
                    tn(r[n]).empty().append(t)
                }
                return r
            }
            return r[0] ? r[0].innerHTML : ""
        },
        text: function(e) {
            var t;
            if (qt(e)) {
                for (t = this.length; t--;) "innerText" in this[t] ? this[t].innerText = e : this[0].textContent = e;
                return this
            }
            return this[0] ? this[0].innerText || this[0].textContent : ""
        },
        append: function() {
            return Wt(this, arguments, function(e) {
                (1 === this.nodeType || this.host && 1 === this.host.nodeType) && this.appendChild(e)
            })
        },
        prepend: function() {
            return Wt(this, arguments, function(e) {
                (1 === this.nodeType || this.host && 1 === this.host.nodeType) && this.insertBefore(e, this.firstChild)
            }, !0)
        },
        before: function() {
            return this[0] && this[0].parentNode ? Wt(this, arguments, function(e) {
                this.parentNode.insertBefore(e, this)
            }) : this
        },
        after: function() {
            return this[0] && this[0].parentNode ? Wt(this, arguments, function(e) {
                this.parentNode.insertBefore(e, this.nextSibling)
            }, !0) : this
        },
        appendTo: function(e) {
            return tn(e).append(this), this
        },
        prependTo: function(e) {
            return tn(e).prepend(this), this
        },
        replaceWith: function(e) {
            return this.before(e).remove()
        },
        wrap: function(e) {
            return Kt(this, e)
        },
        wrapAll: function(e) {
            return Kt(this, e, !0)
        },
        wrapInner: function(e) {
            return this.each(function() {
                tn(this).contents().wrapAll(e)
            }), this
        },
        unwrap: function() {
            return this.parent().each(function() {
                tn(this).replaceWith(this.childNodes)
            })
        },
        clone: function() {
            var e = [];
            return this.each(function() {
                e.push(this.cloneNode(!0))
            }), tn(e)
        },
        addClass: function(e) {
            return this.toggleClass(e, !0)
        },
        removeClass: function(e) {
            return this.toggleClass(e, !1)
        },
        toggleClass: function(o, i) {
            var e = this;
            return "string" != typeof o || (-1 !== o.indexOf(" ") ? on(o.split(" "), function() {
                e.toggleClass(this, i)
            }) : e.each(function(e, t) {
                var n, r;
                (r = Yt(t, o)) !== i && (n = t.className, r ? t.className = rn((" " + n + " ").replace(" " + o + " ", " ")) : t.className += n ? " " + o : o)
            })), e
        },
        hasClass: function(e) {
            return Yt(this[0], e)
        },
        each: function(e) {
            return on(this, e)
        },
        on: function(e, t) {
            return this.each(function() {
                jt.bind(this, e, t)
            })
        },
        off: function(e, t) {
            return this.each(function() {
                jt.unbind(this, e, t)
            })
        },
        trigger: function(e) {
            return this.each(function() {
                "object" == typeof e ? jt.fire(this, e.type, e) : jt.fire(this, e)
            })
        },
        show: function() {
            return this.css("display", "")
        },
        hide: function() {
            return this.css("display", "none")
        },
        slice: function() {
            return new tn($t.apply(this, arguments))
        },
        eq: function(e) {
            return -1 === e ? this.slice(e) : this.slice(e, +e + 1)
        },
        first: function() {
            return this.eq(0)
        },
        last: function() {
            return this.eq(-1)
        },
        find: function(e) {
            var t, n, r = [];
            for (t = 0, n = this.length; t < n; t++) tn.find(e, this[t], r);
            return tn(r)
        },
        filter: function(n) {
            return tn("function" == typeof n ? an(this.toArray(), function(e, t) {
                return n(t, e)
            }) : tn.filter(n, this.toArray()))
        },
        closest: function(n) {
            var r = [];
            return n instanceof tn && (n = n[0]), this.each(function(e, t) {
                for (; t;) {
                    if ("string" == typeof n && tn(t).is(n)) {
                        r.push(t);
                        break
                    }
                    if (t === n) {
                        r.push(t);
                        break
                    }
                    t = t.parentNode
                }
            }), tn(r)
        },
        offset: function(e) {
            var t, n, r, o, i = 0,
                a = 0;
            return e ? this.css(e) : ((t = this[0]) && (r = (n = t.ownerDocument).documentElement, t.getBoundingClientRect && (i = (o = t.getBoundingClientRect()).left + (r.scrollLeft || n.body.scrollLeft) - r.clientLeft, a = o.top + (r.scrollTop || n.body.scrollTop) - r.clientTop)), {
                left: i,
                top: a
            })
        },
        push: Mt,
        sort: [].sort,
        splice: [].splice
    }, zt.extend(tn, {
        extend: zt.extend,
        makeArray: function(e) {
            return (t = e) && t === t.window || e.nodeType ? [e] : zt.toArray(e);
            var t
        },
        inArray: function(e, t) {
            var n;
            if (t.indexOf) return t.indexOf(e);
            for (n = t.length; n--;)
                if (t[n] === e) return n;
            return -1
        },
        isArray: zt.isArray,
        each: on,
        trim: rn,
        grep: an,
        find: ht,
        expr: ht.selectors,
        unique: ht.uniqueSort,
        text: ht.getText,
        contains: ht.contains,
        filter: function(e, t, n) {
            var r = t.length;
            for (n && (e = ":not(" + e + ")"); r--;) 1 !== t[r].nodeType && t.splice(r, 1);
            return 1 === t.length ? tn.find.matchesSelector(t[0], e) ? [t[0]] : [] : tn.find.matches(e, t)
        }
    });
    var ln = function(e, t, n) {
            var r = [],
                o = e[t];
            for ("string" != typeof n && n instanceof tn && (n = n[0]); o && 9 !== o.nodeType;) {
                if (void 0 !== n) {
                    if (o === n) break;
                    if ("string" == typeof n && tn(o).is(n)) break
                }
                1 === o.nodeType && r.push(o), o = o[t]
            }
            return r
        },
        cn = function(e, t, n, r) {
            var o = [];
            for (r instanceof tn && (r = r[0]); e; e = e[t])
                if (!n || e.nodeType === n) {
                    if (void 0 !== r) {
                        if (e === r) break;
                        if ("string" == typeof r && tn(e).is(r)) break
                    }
                    o.push(e)
                }
            return o
        },
        un = function(e, t, n) {
            for (e = e[t]; e; e = e[t])
                if (e.nodeType === n) return e;
            return null
        };
    on({
        parent: function(e) {
            var t = e.parentNode;
            return t && 11 !== t.nodeType ? t : null
        },
        parents: function(e) {
            return ln(e, "parentNode")
        },
        next: function(e) {
            return un(e, "nextSibling", 1)
        },
        prev: function(e) {
            return un(e, "previousSibling", 1)
        },
        children: function(e) {
            return cn(e.firstChild, "nextSibling", 1)
        },
        contents: function(e) {
            return zt.toArray(("iframe" === e.nodeName ? e.contentDocument || e.contentWindow.document : e).childNodes)
        }
    }, function(e, r) {
        tn.fn[e] = function(t) {
            var n = [];
            return this.each(function() {
                var e = r.call(n, this, t, n);
                e && (tn.isArray(e) ? n.push.apply(n, e) : n.push(e))
            }), 1 < this.length && (Ht[e] || (n = tn.unique(n)), 0 === e.indexOf("parents") && (n = n.reverse())), n = tn(n), t ? n.filter(t) : n
        }
    }), on({
        parentsUntil: function(e, t) {
            return ln(e, "parentNode", t)
        },
        nextUntil: function(e, t) {
            return cn(e, "nextSibling", 1, t).slice(1)
        },
        prevUntil: function(e, t) {
            return cn(e, "previousSibling", 1, t).slice(1)
        }
    }, function(r, o) {
        tn.fn[r] = function(t, e) {
            var n = [];
            return this.each(function() {
                var e = o.call(n, this, t, n);
                e && (tn.isArray(e) ? n.push.apply(n, e) : n.push(e))
            }), 1 < this.length && (n = tn.unique(n), 0 !== r.indexOf("parents") && "prevUntil" !== r || (n = n.reverse())), n = tn(n), e ? n.filter(e) : n
        }
    }), tn.fn.is = function(e) {
        return !!e && 0 < this.filter(e).length
    }, tn.fn.init.prototype = tn.fn, tn.overrideDefaults = function(n) {
        var r, o = function(e, t) {
            return r = r || n(), 0 === arguments.length && (e = r.element), t || (t = r.context), new o.fn.init(e, t)
        };
        return tn.extend(o, this), o
    };
    var dn = function(n, r, e) {
        on(e, function(e, t) {
            n[e] = n[e] || {}, n[e][r] = t
        })
    };
    ve.ie && ve.ie < 8 && (dn(Jt, "get", {
        maxlength: function(e) {
            var t = e.maxLength;
            return 2147483647 === t ? void 0 : t
        },
        size: function(e) {
            var t = e.size;
            return 20 === t ? void 0 : t
        },
        class: function(e) {
            return e.className
        },
        style: function(e) {
            var t = e.style.cssText;
            return 0 === t.length ? void 0 : t
        }
    }), dn(Jt, "set", {
        class: function(e, t) {
            e.className = t
        },
        style: function(e, t) {
            e.style.cssText = t
        }
    })), ve.ie && ve.ie < 9 && (Qt.float = "styleFloat", dn(en, "set", {
        opacity: function(e, t) {
            var n = e.style;
            null === t || "" === t ? n.removeAttribute("filter") : (n.zoom = 1, n.filter = "alpha(opacity=" + 100 * t + ")")
        }
    })), tn.attrHooks = Jt, tn.cssHooks = en;
    var fn, hn = function(e) {
            var t, n = !1;
            return function() {
                return n || (n = !0, t = e.apply(null, arguments)), t
            }
        },
        pn = function() {
            return mn(0, 0)
        },
        mn = function(e, t) {
            return {
                major: e,
                minor: t
            }
        },
        gn = function(e, t) {
            var n = String(t).toLowerCase();
            return 0 === e.length ? pn() : function(e, t) {
                var n = function(e, t) {
                    for (var n = 0; n < e.length; n++) {
                        var r = e[n];
                        if (r.test(t)) return r
                    }
                }(e, t);
                if (!n) return {
                    major: 0,
                    minor: 0
                };
                var r = function(e) {
                    return Number(t.replace(n, "$" + e))
                };
                return mn(r(1), r(2))
            }(e, n)
        },
        vn = pn,
        yn = "Firefox",
        bn = function(e, t) {
            return function() {
                return t === e
            }
        },
        wn = function(e) {
            var t = e.current;
            return {
                current: t,
                version: e.version,
                isEdge: bn("Edge", t),
                isChrome: bn("Chrome", t),
                isIE: bn("IE", t),
                isOpera: bn("Opera", t),
                isFirefox: bn(yn, t),
                isSafari: bn("Safari", t)
            }
        },
        xn = function() {
            return wn({
                current: void 0,
                version: vn()
            })
        },
        Cn = wn,
        _n = (H.constant("Edge"), H.constant("Chrome"), H.constant("IE"), H.constant("Opera"), H.constant(yn), H.constant("Safari"), "Windows"),
        Sn = "Android",
        En = "Solaris",
        kn = "FreeBSD",
        Tn = function(e, t) {
            return function() {
                return t === e
            }
        },
        Nn = function(e) {
            var t = e.current;
            return {
                current: t,
                version: e.version,
                isWindows: Tn(_n, t),
                isiOS: Tn("iOS", t),
                isAndroid: Tn(Sn, t),
                isOSX: Tn("OSX", t),
                isLinux: Tn("Linux", t),
                isSolaris: Tn(En, t),
                isFreeBSD: Tn(kn, t)
            }
        },
        An = function() {
            return Nn({
                current: void 0,
                version: vn()
            })
        },
        On = Nn,
        Rn = (H.constant(_n), H.constant("iOS"), H.constant(Sn), H.constant("Linux"), H.constant("OSX"), H.constant(En), H.constant(kn), function(e, t) {
            var n = String(t).toLowerCase();
            return q.find(e, function(e) {
                return e.search(n)
            })
        }),
        Pn = function(e, t) {
            return -1 !== e.indexOf(t)
        },
        Bn = function(e) {
            return e.replace(/^\s+|\s+$/g, "")
        },
        Dn = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/,
        Ln = function(t) {
            return function(e) {
                return Pn(e, t)
            }
        },
        zn = [{
            name: "Edge",
            versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
            search: function(e) {
                return Pn(e, "edge/") && Pn(e, "chrome") && Pn(e, "safari") && Pn(e, "applewebkit")
            }
        }, {
            name: "Chrome",
            versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, Dn],
            search: function(e) {
                return Pn(e, "chrome") && !Pn(e, "chromeframe")
            }
        }, {
            name: "IE",
            versionRegexes: [/.*?msie\ ?([0-9]+)\.([0-9]+).*/, /.*?rv:([0-9]+)\.([0-9]+).*/],
            search: function(e) {
                return Pn(e, "msie") || Pn(e, "trident")
            }
        }, {
            name: "Opera",
            versionRegexes: [Dn, /.*?opera\/([0-9]+)\.([0-9]+).*/],
            search: Ln("opera")
        }, {
            name: "Firefox",
            versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
            search: Ln("firefox")
        }, {
            name: "Safari",
            versionRegexes: [Dn, /.*?cpu os ([0-9]+)_([0-9]+).*/],
            search: function(e) {
                return (Pn(e, "safari") || Pn(e, "mobile/")) && Pn(e, "applewebkit")
            }
        }],
        In = [{
            name: "Windows",
            search: Ln("win"),
            versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]
        }, {
            name: "iOS",
            search: function(e) {
                return Pn(e, "iphone") || Pn(e, "ipad")
            },
            versionRegexes: [/.*?version\/\ ?([0-9]+)\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/]
        }, {
            name: "Android",
            search: Ln("android"),
            versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/]
        }, {
            name: "OSX",
            search: Ln("os x"),
            versionRegexes: [/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]
        }, {
            name: "Linux",
            search: Ln("linux"),
            versionRegexes: []
        }, {
            name: "Solaris",
            search: Ln("sunos"),
            versionRegexes: []
        }, {
            name: "FreeBSD",
            search: Ln("freebsd"),
            versionRegexes: []
        }],
        Mn = {
            browsers: H.constant(zn),
            oses: H.constant(In)
        },
        $n = function(e) {
            var t, n, r, o, i, a, s, l, c, u, d, f, h, p, m, g = Mn.browsers(),
                v = Mn.oses(),
                y = (p = g, m = e, Rn(p, m).map(function(e) {
                    var t = gn(e.versionRegexes, m);
                    return {
                        current: e.name,
                        version: t
                    }
                })).fold(xn, Cn),
                b = (f = v, h = e, Rn(f, h).map(function(e) {
                    var t = gn(e.versionRegexes, h);
                    return {
                        current: e.name,
                        version: t
                    }
                })).fold(An, On);
            return {
                browser: y,
                os: b,
                deviceType: (n = y, r = e, o = (t = b).isiOS() && !0 === /ipad/i.test(r), i = t.isiOS() && !o, a = t.isAndroid() && 3 === t.version.major, s = t.isAndroid() && 4 === t.version.major, l = o || a || s && !0 === /mobile/i.test(r), c = t.isiOS() || t.isAndroid(), u = c && !l, d = n.isSafari() && t.isiOS() && !1 === /safari/i.test(r), {
                    isiPad: H.constant(o),
                    isiPhone: H.constant(i),
                    isTablet: H.constant(l),
                    isPhone: H.constant(u),
                    isTouch: H.constant(c),
                    isAndroid: t.isAndroid,
                    isiOS: t.isiOS,
                    isWebView: H.constant(d)
                })
            }
        },
        Fn = {
            detect: hn(function() {
                var e = navigator.userAgent;
                return $n(e)
            })
        },
        jn = function(e) {
            if (null == e) throw new Error("Node cannot be null or undefined");
            return {
                dom: H.constant(e)
            }
        },
        Hn = function(e, t) {
            var n = (t || document).createElement("div");
            if (n.innerHTML = e, !n.hasChildNodes() || 1 < n.childNodes.length) throw console.error("HTML does not have a single root node", e), "HTML must have a single root node";
            return jn(n.childNodes[0])
        },
        qn = function(e, t) {
            var n = (t || document).createElement(e);
            return jn(n)
        },
        Un = function(e, t) {
            var n = (t || document).createTextNode(e);
            return jn(n)
        },
        Vn = jn,
        Wn = function(e) {
            return e.dom().nodeName.toLowerCase()
        },
        Yn = function(e) {
            return e.dom().nodeType
        },
        Kn = function(t) {
            return function(e) {
                return Yn(e) === t
            }
        },
        Xn = Kn(1),
        Zn = Kn(3),
        Gn = Kn(9),
        Qn = {
            name: Wn,
            type: Yn,
            value: function(e) {
                return e.dom().nodeValue
            },
            isElement: Xn,
            isText: Zn,
            isDocument: Gn,
            isComment: function(e) {
                return 8 === Yn(e) || "#comment" === Wn(e)
            }
        },
        Jn = void 0 === (fn = Object.keys) ? function(e) {
            var t = [];
            for (var n in e) e.hasOwnProperty(n) && t.push(n);
            return t
        } : fn,
        er = function(e, t) {
            for (var n = Jn(e), r = 0, o = n.length; r < o; r++) {
                var i = n[r];
                t(e[i], i, e)
            }
        },
        tr = function(r, o) {
            var i = {};
            return er(r, function(e, t) {
                var n = o(e, t, r);
                i[n.k] = n.v
            }), i
        },
        nr = function(e, n) {
            var r = [];
            return er(e, function(e, t) {
                r.push(n(e, t))
            }), r
        },
        rr = function(e) {
            return nr(e, function(e) {
                return e
            })
        },
        or = {
            bifilter: function(e, n) {
                var r = {},
                    o = {};
                return er(e, function(e, t) {
                    (n(e, t) ? r : o)[t] = e
                }), {
                    t: r,
                    f: o
                }
            },
            each: er,
            map: function(e, r) {
                return tr(e, function(e, t, n) {
                    return {
                        k: t,
                        v: r(e, t, n)
                    }
                })
            },
            mapToArray: nr,
            tupleMap: tr,
            find: function(e, t) {
                for (var n = Jn(e), r = 0, o = n.length; r < o; r++) {
                    var i = n[r],
                        a = e[i];
                    if (t(a, i, e)) return M.some(a)
                }
                return M.none()
            },
            keys: Jn,
            values: rr,
            size: function(e) {
                return rr(e).length
            }
        },
        ir = function(e, t, n) {
            if (!(F.isString(n) || F.isBoolean(n) || F.isNumber(n))) throw console.error("Invalid call to Attr.set. Key ", t, ":: Value ", n, ":: Element ", e), new Error("Attribute value was not simple");
            e.setAttribute(t, n + "")
        },
        ar = function(e, t, n) {
            ir(e.dom(), t, n)
        },
        sr = function(e, t) {
            var n = e.dom().getAttribute(t);
            return null === n ? void 0 : n
        },
        lr = ar,
        cr = function(e, t) {
            var n = e.dom();
            or.each(t, function(e, t) {
                ir(n, t, e)
            })
        },
        ur = sr,
        dr = function(e, t) {
            e.dom().removeAttribute(t)
        },
        fr = hn(function() {
            return hr(Vn(document))
        }),
        hr = function(e) {
            var t = e.dom().body;
            if (null == t) throw "Body is not available yet";
            return Vn(t)
        },
        pr = {
            body: fr,
            getBody: hr,
            inBody: function(e) {
                var t = Qn.isText(e) ? e.dom().parentNode : e.dom();
                return null != t && t.ownerDocument.body.contains(t)
            }
        },
        mr = function(e) {
            return void 0 !== e.style
        },
        gr = function(e, t) {
            return mr(e) ? e.style.getPropertyValue(t) : ""
        },
        vr = function(e, t) {
            var n = e.dom();
            or.each(t, function(e, t) {
                ! function(e, t, n) {
                    if (!F.isString(n)) throw console.error("Invalid call to CSS.set. Property ", t, ":: Value ", n, ":: Element ", e), new Error("CSS value must be a string: " + n);
                    mr(e) && e.style.setProperty(t, n)
                }(n, t, e)
            })
        },
        yr = function(e, t) {
            var n = e.dom(),
                r = window.getComputedStyle(n).getPropertyValue(t),
                o = "" !== r || pr.inBody(e) ? r : gr(n, t);
            return null === o ? void 0 : o
        },
        br = function(e, t) {
            var n = e.dom(),
                r = gr(n, t);
            return M.from(r).filter(function(e) {
                return 0 < e.length
            })
        },
        wr = function() {
            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
            return function() {
                for (var n = [], e = 0; e < arguments.length; e++) n[e] = arguments[e];
                if (t.length !== n.length) throw new Error('Wrong number of arguments to struct. Expected "[' + t.length + ']", got ' + n.length + " arguments");
                var r = {};
                return q.each(t, function(e, t) {
                    r[e] = H.constant(n[t])
                }), r
            }
        },
        xr = function(e, t) {
            for (var n = [], r = function(e) {
                    return n.push(e), t(e)
                }, o = t(e);
                (o = o.bind(r)).isSome(););
            return n
        },
        Cr = function(e, t) {
            return n = e, r = t, o = V.getOrDie("Node").DOCUMENT_POSITION_CONTAINED_BY, 0 != (n.compareDocumentPosition(r) & o);
            var n, r, o
        },
        _r = function(e) {
            return 1 !== e.nodeType && 9 !== e.nodeType || 0 === e.childElementCount
        },
        Sr = {
            all: function(e, t) {
                var n = void 0 === t ? document : t.dom();
                return _r(n) ? [] : q.map(n.querySelectorAll(e), Vn)
            },
            is: function(e, t) {
                var n = e.dom();
                if (1 !== n.nodeType) return !1;
                if (void 0 !== n.matches) return n.matches(t);
                if (void 0 !== n.msMatchesSelector) return n.msMatchesSelector(t);
                if (void 0 !== n.webkitMatchesSelector) return n.webkitMatchesSelector(t);
                if (void 0 !== n.mozMatchesSelector) return n.mozMatchesSelector(t);
                throw new Error("Browser lacks native selectors")
            },
            one: function(e, t) {
                var n = void 0 === t ? document : t.dom();
                return _r(n) ? M.none() : M.from(n.querySelector(e)).map(Vn)
            }
        },
        Er = function(e, t) {
            return e.dom() === t.dom()
        },
        kr = Fn.detect().browser.isIE() ? function(e, t) {
            return Cr(e.dom(), t.dom())
        } : function(e, t) {
            var n = e.dom(),
                r = t.dom();
            return n !== r && n.contains(r)
        },
        Tr = {
            eq: Er,
            isEqualNode: function(e, t) {
                return e.dom().isEqualNode(t.dom())
            },
            member: function(e, t) {
                return q.exists(t, H.curry(Er, e))
            },
            contains: kr,
            is: Sr.is
        },
        Nr = function(e) {
            return Vn(e.dom().ownerDocument)
        },
        Ar = function(e) {
            var t = e.dom();
            return M.from(t.parentNode).map(Vn)
        },
        Or = function(e) {
            var t = e.dom();
            return M.from(t.previousSibling).map(Vn)
        },
        Rr = function(e) {
            var t = e.dom();
            return M.from(t.nextSibling).map(Vn)
        },
        Pr = function(e) {
            var t = e.dom();
            return q.map(t.childNodes, Vn)
        },
        Br = function(e, t) {
            var n = e.dom().childNodes;
            return M.from(n[t]).map(Vn)
        },
        Dr = (wr("element", "offset"), Nr),
        Lr = function(e) {
            var t = e.dom().ownerDocument.defaultView;
            return Vn(t)
        },
        zr = function(e) {
            var t = Nr(e);
            return Vn(t.dom().documentElement)
        },
        Ir = Ar,
        Mr = function(e, t) {
            for (var n = F.isFunction(t) ? t : H.constant(!1), r = e.dom(), o = []; null !== r.parentNode && void 0 !== r.parentNode;) {
                var i = r.parentNode,
                    a = Vn(i);
                if (o.push(a), !0 === n(a)) break;
                r = i
            }
            return o
        },
        $r = Or,
        Fr = Rr,
        jr = function(e) {
            return xr(e, Rr)
        },
        Hr = Pr,
        qr = Br,
        Ur = function(e) {
            return Br(e, 0)
        },
        Vr = function(e) {
            return Br(e, e.dom().childNodes.length - 1)
        },
        Wr = function(e) {
            return e.dom().childNodes.length
        },
        Yr = Fn.detect().browser,
        Kr = function(e) {
            return q.find(e, Qn.isElement)
        },
        Xr = {
            getPos: function(e, t, n) {
                var r, o, i, a = 0,
                    s = 0,
                    l = e.ownerDocument;
                if (n = n || e, t) {
                    if (n === e && t.getBoundingClientRect && "static" === yr(Vn(e), "position")) return {
                        x: a = (o = t.getBoundingClientRect()).left + (l.documentElement.scrollLeft || e.scrollLeft) - l.documentElement.clientLeft,
                        y: s = o.top + (l.documentElement.scrollTop || e.scrollTop) - l.documentElement.clientTop
                    };
                    for (r = t; r && r !== n && r.nodeType;) a += r.offsetLeft || 0, s += r.offsetTop || 0, r = r.offsetParent;
                    for (r = t.parentNode; r && r !== n && r.nodeType;) a -= r.scrollLeft || 0, s -= r.scrollTop || 0, r = r.parentNode;
                    s += (i = Vn(t), Yr.isFirefox() && "table" === Qn.name(i) ? Kr(Hr(i)).filter(function(e) {
                        return "caption" === Qn.name(e)
                    }).bind(function(o) {
                        return Kr(jr(o)).map(function(e) {
                            var t = e.dom().offsetTop,
                                n = o.dom().offsetTop,
                                r = o.dom().offsetHeight;
                            return t <= n ? -r : 0
                        })
                    }).getOr(0) : 0)
                }
                return {
                    x: a,
                    y: s
                }
            }
        },
        Zr = function(e) {
            var n = M.none(),
                r = [],
                o = function(e) {
                    t() ? i(e) : r.push(e)
                },
                t = function() {
                    return n.isSome()
                },
                i = function(t) {
                    n.each(function(e) {
                        setTimeout(function() {
                            t(e)
                        }, 0)
                    })
                };
            return e(function(e) {
                var t;
                n = M.some(e), t = r, q.each(t, i), r = []
            }), {
                get: o,
                map: function(n) {
                    return Zr(function(t) {
                        o(function(e) {
                            t(n(e))
                        })
                    })
                },
                isReady: t
            }
        },
        Gr = {
            nu: Zr,
            pure: function(t) {
                return Zr(function(e) {
                    e(t)
                })
            }
        },
        Qr = function(t) {
            var e = function(e) {
                var n;
                t((n = e, function() {
                    var e = Array.prototype.slice.call(arguments),
                        t = this;
                    setTimeout(function() {
                        n.apply(t, e)
                    }, 0)
                }))
            };
            return {
                map: function(r) {
                    return Qr(function(n) {
                        e(function(e) {
                            var t = r(e);
                            n(t)
                        })
                    })
                },
                bind: function(n) {
                    return Qr(function(t) {
                        e(function(e) {
                            n(e).get(t)
                        })
                    })
                },
                anonBind: function(n) {
                    return Qr(function(t) {
                        e(function(e) {
                            n.get(t)
                        })
                    })
                },
                toLazy: function() {
                    return Gr.nu(e)
                },
                get: e
            }
        },
        Jr = {
            nu: Qr,
            pure: function(t) {
                return Qr(function(e) {
                    e(t)
                })
            }
        },
        eo = function(e) {
            return a = e, (0, Jr.nu)(function(r) {
                var o = [],
                    i = 0;
                0 === a.length ? r([]) : q.each(a, function(e, t) {
                    var n;
                    e.get((n = t, function(e) {
                        o[n] = e, ++i >= a.length && r(o)
                    }))
                })
            });
            var a
        },
        to = {
            par: eo,
            mapM: function(e, t) {
                var n = q.map(e, t);
                return eo(n)
            },
            compose: function(t, n) {
                return function(e) {
                    return n(e).bind(t)
                }
            }
        },
        no = function(n) {
            return {
                is: function(e) {
                    return n === e
                },
                isValue: H.always,
                isError: H.never,
                getOr: H.constant(n),
                getOrThunk: H.constant(n),
                getOrDie: H.constant(n),
                or: function(e) {
                    return no(n)
                },
                orThunk: function(e) {
                    return no(n)
                },
                fold: function(e, t) {
                    return t(n)
                },
                map: function(e) {
                    return no(e(n))
                },
                each: function(e) {
                    e(n)
                },
                bind: function(e) {
                    return e(n)
                },
                exists: function(e) {
                    return e(n)
                },
                forall: function(e) {
                    return e(n)
                },
                toOption: function() {
                    return M.some(n)
                }
            }
        },
        ro = function(n) {
            return {
                is: H.never,
                isValue: H.never,
                isError: H.always,
                getOr: H.identity,
                getOrThunk: function(e) {
                    return e()
                },
                getOrDie: function() {
                    return H.die(String(n))()
                },
                or: function(e) {
                    return e
                },
                orThunk: function(e) {
                    return e()
                },
                fold: function(e, t) {
                    return e(n)
                },
                map: function(e) {
                    return ro(n)
                },
                each: H.noop,
                bind: function(e) {
                    return ro(n)
                },
                exists: H.never,
                forall: H.always,
                toOption: M.none
            }
        },
        oo = {
            value: no,
            error: ro
        };

    function io(e, s) {
        var t = e,
            n = function(e, t, n, r) {
                var o, i;
                if (e) {
                    if (!r && e[t]) return e[t];
                    if (e !== s) {
                        if (o = e[n]) return o;
                        for (i = e.parentNode; i && i !== s; i = i.parentNode)
                            if (o = i[n]) return o
                    }
                }
            };
        this.current = function() {
            return t
        }, this.next = function(e) {
            return t = n(t, "firstChild", "nextSibling", e)
        }, this.prev = function(e) {
            return t = n(t, "lastChild", "previousSibling", e)
        }, this.prev2 = function(e) {
            return t = function(e, t, n, r) {
                var o, i, a;
                if (e) {
                    if (o = e.previousSibling, s && o === s) return;
                    if (o) {
                        if (!r)
                            for (a = o[t]; a; a = a[t])
                                if (!a[t]) return a;
                        return o
                    }
                    if ((i = e.parentNode) && i !== s) return i
                }
            }(t, "lastChild", 0, e)
        }
    }
    var ao, so, lo, co = function(t) {
            var n;
            return function(e) {
                return (n = n || q.mapToObject(t, H.constant(!0))).hasOwnProperty(Qn.name(e))
            }
        },
        uo = co(["h1", "h2", "h3", "h4", "h5", "h6"]),
        fo = co(["article", "aside", "details", "div", "dt", "figcaption", "footer", "form", "fieldset", "header", "hgroup", "html", "main", "nav", "section", "summary", "body", "p", "dl", "multicol", "dd", "figure", "address", "center", "blockquote", "h1", "h2", "h3", "h4", "h5", "h6", "listing", "xmp", "pre", "plaintext", "menu", "dir", "ul", "ol", "li", "hr", "table", "tbody", "thead", "tfoot", "th", "tr", "td", "caption"]),
        ho = function(e) {
            return Qn.isElement(e) && !fo(e)
        },
        po = function(e) {
            return Qn.isElement(e) && "br" === Qn.name(e)
        },
        mo = co(["h1", "h2", "h3", "h4", "h5", "h6", "p", "div", "address", "pre", "form", "blockquote", "center", "dir", "fieldset", "header", "footer", "article", "section", "hgroup", "aside", "nav", "figure"]),
        go = co(["ul", "ol", "dl"]),
        vo = co(["li", "dd", "dt"]),
        yo = co(["area", "base", "basefont", "br", "col", "frame", "hr", "img", "input", "isindex", "link", "meta", "param", "embed", "source", "wbr", "track"]),
        bo = co(["thead", "tbody", "tfoot"]),
        wo = co(["td", "th"]),
        xo = co(["pre", "script", "textarea", "style"]),
        Co = function(t) {
            return function(e) {
                return !!e && e.nodeType === t
            }
        },
        _o = Co(1),
        So = function(e) {
            var r = e.toLowerCase().split(" ");
            return function(e) {
                var t, n;
                if (e && e.nodeType)
                    for (n = e.nodeName.toLowerCase(), t = 0; t < r.length; t++)
                        if (n === r[t]) return !0;
                return !1
            }
        },
        Eo = function(t) {
            return function(e) {
                if (_o(e)) {
                    if (e.contentEditable === t) return !0;
                    if (e.getAttribute("data-mce-contenteditable") === t) return !0
                }
                return !1
            }
        },
        ko = Co(3),
        To = Co(8),
        No = Co(9),
        Ao = So("br"),
        Oo = Eo("true"),
        Ro = Eo("false"),
        Po = {
            isText: ko,
            isElement: _o,
            isComment: To,
            isDocument: No,
            isBr: Ao,
            isContentEditableTrue: Oo,
            isContentEditableFalse: Ro,
            matchNodeNames: So,
            hasPropValue: function(t, n) {
                return function(e) {
                    return _o(e) && e[t] === n
                }
            },
            hasAttribute: function(t, e) {
                return function(e) {
                    return _o(e) && e.hasAttribute(t)
                }
            },
            hasAttributeValue: function(t, n) {
                return function(e) {
                    return _o(e) && e.getAttribute(t) === n
                }
            },
            matchStyleValues: function(r, e) {
                var o = e.toLowerCase().split(" ");
                return function(e) {
                    var t;
                    if (_o(e))
                        for (t = 0; t < o.length; t++) {
                            var n = e.ownerDocument.defaultView.getComputedStyle(e, null);
                            if ((n ? n.getPropertyValue(r) : null) === o[t]) return !0
                        }
                    return !1
                }
            },
            isBogus: function(e) {
                return _o(e) && e.hasAttribute("data-mce-bogus")
            },
            isBogusAll: function(e) {
                return _o(e) && "all" === e.getAttribute("data-mce-bogus")
            },
            isTable: function(e) {
                return _o(e) && "TABLE" === e.tagName
            }
        },
        Bo = function(e) {
            return e && "SPAN" === e.tagName && "bookmark" === e.getAttribute("data-mce-type")
        },
        Do = function(e, t) {
            var n, r = t.childNodes;
            if (!Po.isElement(t) || !Bo(t)) {
                for (n = r.length - 1; 0 <= n; n--) Do(e, r[n]);
                if (!1 === Po.isDocument(t)) {
                    if (Po.isText(t) && 0 < t.nodeValue.length) {
                        var o = zt.trim(t.nodeValue).length;
                        if (e.isBlock(t.parentNode) || 0 < o) return;
                        if (0 === o && (a = (i = t).previousSibling && "SPAN" === i.previousSibling.nodeName, s = i.nextSibling && "SPAN" === i.nextSibling.nodeName, a && s)) return
                    } else if (Po.isElement(t) && (1 === (r = t.childNodes).length && Bo(r[0]) && t.parentNode.insertBefore(r[0], t), r.length || yo(Vn(t)))) return;
                    e.remove(t)
                }
                var i, a, s;
                return t
            }
        },
        Lo = {
            trimNode: Do
        },
        zo = zt.makeMap,
        Io = /[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
        Mo = /[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
        $o = /[<>&\"\']/g,
        Fo = /&#([a-z0-9]+);?|&([a-z0-9]+);/gi,
        jo = {
            128: "€",
            130: "‚",
            131: "ƒ",
            132: "„",
            133: "…",
            134: "†",
            135: "‡",
            136: "ˆ",
            137: "‰",
            138: "Š",
            139: "‹",
            140: "Œ",
            142: "Ž",
            145: "‘",
            146: "’",
            147: "“",
            148: "”",
            149: "•",
            150: "–",
            151: "—",
            152: "˜",
            153: "™",
            154: "š",
            155: "›",
            156: "œ",
            158: "ž",
            159: "Ÿ"
        };
    so = {
        '"': "&quot;",
        "'": "&#39;",
        "<": "&lt;",
        ">": "&gt;",
        "&": "&amp;",
        "`": "&#96;"
    }, lo = {
        "&lt;": "<",
        "&gt;": ">",
        "&amp;": "&",
        "&quot;": '"',
        "&apos;": "'"
    };
    var Ho = function(e, t) {
        var n, r, o, i = {};
        if (e) {
            for (e = e.split(","), t = t || 10, n = 0; n < e.length; n += 2) r = String.fromCharCode(parseInt(e[n], t)), so[r] || (o = "&" + e[n + 1] + ";", i[r] = o, i[o] = r);
            return i
        }
    };
    ao = Ho("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro", 32);
    var qo = function(e, t) {
            return e.replace(t ? Io : Mo, function(e) {
                return so[e] || e
            })
        },
        Uo = function(e, t) {
            return e.replace(t ? Io : Mo, function(e) {
                return 1 < e.length ? "&#" + (1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320) + 65536) + ";" : so[e] || "&#" + e.charCodeAt(0) + ";"
            })
        },
        Vo = function(e, t, n) {
            return n = n || ao, e.replace(t ? Io : Mo, function(e) {
                return so[e] || n[e] || e
            })
        },
        Wo = {
            encodeRaw: qo,
            encodeAllRaw: function(e) {
                return ("" + e).replace($o, function(e) {
                    return so[e] || e
                })
            },
            encodeNumeric: Uo,
            encodeNamed: Vo,
            getEncodeFunc: function(e, t) {
                var n = Ho(t) || ao,
                    r = zo(e.replace(/\+/g, ","));
                return r.named && r.numeric ? function(e, t) {
                    return e.replace(t ? Io : Mo, function(e) {
                        return void 0 !== so[e] ? so[e] : void 0 !== n[e] ? n[e] : 1 < e.length ? "&#" + (1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320) + 65536) + ";" : "&#" + e.charCodeAt(0) + ";"
                    })
                } : r.named ? t ? function(e, t) {
                    return Vo(e, t, n)
                } : Vo : r.numeric ? Uo : qo
            },
            decode: function(e) {
                return e.replace(Fo, function(e, t) {
                    return t ? 65535 < (t = "x" === t.charAt(0).toLowerCase() ? parseInt(t.substr(1), 16) : parseInt(t, 10)) ? (t -= 65536, String.fromCharCode(55296 + (t >> 10), 56320 + (1023 & t))) : jo[t] || String.fromCharCode(t) : lo[e] || ao[e] || (n = e, (r = qn("div").dom()).innerHTML = n, r.textContent || r.innerText || n);
                    var n, r
                })
            }
        },
        Yo = {},
        Ko = {},
        Xo = zt.makeMap,
        Zo = zt.each,
        Go = zt.extend,
        Qo = zt.explode,
        Jo = zt.inArray,
        ei = function(e, t) {
            return (e = zt.trim(e)) ? e.split(t || " ") : []
        },
        ti = function(e) {
            var s, t, n, r, o, i, l = {},
                a = function(e, t, n) {
                    var r, o, i, a = function(e, t) {
                        var n, r, o = {};
                        for (n = 0, r = e.length; n < r; n++) o[e[n]] = t || {};
                        return o
                    };
                    for (t = t || "", "string" == typeof(n = n || []) && (n = ei(n)), r = (e = ei(e)).length; r--;) i = {
                        attributes: a(o = ei([s, t].join(" "))),
                        attributesOrder: o,
                        children: a(n, Ko)
                    }, l[e[r]] = i
                },
                c = function(e, t) {
                    var n, r, o, i;
                    for (n = (e = ei(e)).length, t = ei(t); n--;)
                        for (r = l[e[n]], o = 0, i = t.length; o < i; o++) r.attributes[t[o]] = {}, r.attributesOrder.push(t[o])
                };
            return Yo[e] ? Yo[e] : (s = "id accesskey class dir lang style tabindex title role", t = "address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul", n = "a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment", "html4" !== e && (s += " contenteditable contextmenu draggable dropzone hidden spellcheck translate", t += " article aside details dialog figure header footer hgroup section nav", n += " audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"), "html5-strict" !== e && (s += " xml:lang", n = [n, i = "acronym applet basefont big font strike tt"].join(" "), Zo(ei(i), function(e) {
                a(e, "", n)
            }), t = [t, o = "center dir isindex noframes"].join(" "), r = [t, n].join(" "), Zo(ei(o), function(e) {
                a(e, "", r)
            })), r = r || [t, n].join(" "), a("html", "manifest", "head body"), a("head", "", "base command link meta noscript script style title"), a("title hr noscript br"), a("base", "href target"), a("link", "href rel media hreflang type sizes hreflang"), a("meta", "name http-equiv content charset"), a("style", "media type scoped"), a("script", "src async defer type charset"), a("body", "onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload", r), a("address dt dd div caption", "", r), a("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn", "", n), a("blockquote", "cite", r), a("ol", "reversed start type", "li"), a("ul", "", "li"), a("li", "value", r), a("dl", "", "dt dd"), a("a", "href target rel media hreflang type", n), a("q", "cite", n), a("ins del", "cite datetime", r), a("img", "src sizes srcset alt usemap ismap width height"), a("iframe", "src name width height", r), a("embed", "src type width height"), a("object", "data type typemustmatch name usemap form width height", [r, "param"].join(" ")), a("param", "name value"), a("map", "name", [r, "area"].join(" ")), a("area", "alt coords shape href target rel media hreflang type"), a("table", "border", "caption colgroup thead tfoot tbody tr" + ("html4" === e ? " col" : "")), a("colgroup", "span", "col"), a("col", "span"), a("tbody thead tfoot", "", "tr"), a("tr", "", "td th"), a("td", "colspan rowspan headers", r), a("th", "colspan rowspan headers scope abbr", r), a("form", "accept-charset action autocomplete enctype method name novalidate target", r), a("fieldset", "disabled form name", [r, "legend"].join(" ")), a("label", "form for", n), a("input", "accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"), a("button", "disabled form formaction formenctype formmethod formnovalidate formtarget name type value", "html4" === e ? r : n), a("select", "disabled form multiple name required size", "option optgroup"), a("optgroup", "disabled label", "option"), a("option", "disabled label selected value"), a("textarea", "cols dirname disabled form maxlength name readonly required rows wrap"), a("menu", "type label", [r, "li"].join(" ")), a("noscript", "", r), "html4" !== e && (a("wbr"), a("ruby", "", [n, "rt rp"].join(" ")), a("figcaption", "", r), a("mark rt rp summary bdi", "", n), a("canvas", "width height", r), a("video", "src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered", [r, "track source"].join(" ")), a("audio", "src crossorigin preload autoplay mediagroup loop muted controls buffered volume", [r, "track source"].join(" ")), a("picture", "", "img source"), a("source", "src srcset type media sizes"), a("track", "kind src srclang label default"), a("datalist", "", [n, "option"].join(" ")), a("article section nav aside header footer", "", r), a("hgroup", "", "h1 h2 h3 h4 h5 h6"), a("figure", "", [r, "figcaption"].join(" ")), a("time", "datetime", n), a("dialog", "open", r), a("command", "type label icon disabled checked radiogroup command"), a("output", "for form name", n), a("progress", "value max", n), a("meter", "value min max low high optimum", n), a("details", "open", [r, "summary"].join(" ")), a("keygen", "autofocus challenge disabled form keytype name")), "html5-strict" !== e && (c("script", "language xml:space"), c("style", "xml:space"), c("object", "declare classid code codebase codetype archive standby align border hspace vspace"), c("embed", "align name hspace vspace"), c("param", "valuetype type"), c("a", "charset name rev shape coords"), c("br", "clear"), c("applet", "codebase archive code object alt name width height align hspace vspace"), c("img", "name longdesc align border hspace vspace"), c("iframe", "longdesc frameborder marginwidth marginheight scrolling align"), c("font basefont", "size color face"), c("input", "usemap align"), c("select", "onchange"), c("textarea"), c("h1 h2 h3 h4 h5 h6 div p legend caption", "align"), c("ul", "type compact"), c("li", "type"), c("ol dl menu dir", "compact"), c("pre", "width xml:space"), c("hr", "align noshade size width"), c("isindex", "prompt"), c("table", "summary width frame rules cellspacing cellpadding align bgcolor"), c("col", "width align char charoff valign"), c("colgroup", "width align char charoff valign"), c("thead", "align char charoff valign"), c("tr", "align char charoff valign bgcolor"), c("th", "axis align char charoff valign nowrap bgcolor width height"), c("form", "accept"), c("td", "abbr axis scope align char charoff valign nowrap bgcolor width height"), c("tfoot", "align char charoff valign"), c("tbody", "align char charoff valign"), c("area", "nohref"), c("body", "background bgcolor text link vlink alink")), "html4" !== e && (c("input button select textarea", "autofocus"), c("input textarea", "placeholder"), c("a", "download"), c("link script img", "crossorigin"), c("iframe", "sandbox seamless allowfullscreen")), Zo(ei("a form meter progress dfn"), function(e) {
                l[e] && delete l[e].children[e]
            }), delete l.caption.children.table, delete l.script, Yo[e] = l)
        },
        ni = function(e, n) {
            var r;
            return e && (r = {}, "string" == typeof e && (e = {
                "*": e
            }), Zo(e, function(e, t) {
                r[t] = r[t.toUpperCase()] = "map" === n ? Xo(e, /[, ]/) : Qo(e, /[, ]/)
            })), r
        };

    function ri(i) {
        var e, t, n, r, o, a, s, l, c, u, d, f, h, _ = {},
            p = {},
            S = [],
            m = {},
            g = {},
            v = function(e, t, n) {
                var r = i[e];
                return r ? r = Xo(r, /[, ]/, Xo(r.toUpperCase(), /[, ]/)) : (r = Yo[e]) || (r = Xo(t, " ", Xo(t.toUpperCase(), " ")), r = Go(r, n), Yo[e] = r), r
            };
        n = ti((i = i || {}).schema), !1 === i.verify_html && (i.valid_elements = "*[*]"), e = ni(i.valid_styles), t = ni(i.invalid_styles, "map"), l = ni(i.valid_classes, "map"), r = v("whitespace_elements", "pre script noscript style textarea video audio iframe object code"), o = v("self_closing_elements", "colgroup dd dt li option p td tfoot th thead tr"), a = v("short_ended_elements", "area base basefont br col frame hr img input isindex link meta param embed source wbr track"), s = v("boolean_attributes", "checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"), u = v("non_empty_elements", "td th iframe video audio object script pre code", a), d = v("move_caret_before_on_enter_elements", "table", u), f = v("text_block_elements", "h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"), c = v("block_elements", "hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary", f), h = v("text_inline_elements", "span strong b em i font strike u var cite dfn code mark q sup sub samp"), Zo((i.special || "script noscript noframes noembed title style textarea xmp").split(" "), function(e) {
            g[e] = new RegExp("</" + e + "[^>]*>", "gi")
        });
        var E = function(e) {
                return new RegExp("^" + e.replace(/([?+*])/g, ".$1") + "$")
            },
            y = function(e) {
                var t, n, r, o, i, a, s, l, c, u, d, f, h, p, m, g, v, y, b, w = /^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,
                    x = /^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,
                    C = /[*?+]/;
                if (e)
                    for (e = ei(e, ","), _["@"] && (g = _["@"].attributes, v = _["@"].attributesOrder), t = 0, n = e.length; t < n; t++)
                        if (i = w.exec(e[t])) {
                            if (p = i[1], c = i[2], m = i[3], l = i[5], a = {
                                    attributes: f = {},
                                    attributesOrder: h = []
                                }, "#" === p && (a.paddEmpty = !0), "-" === p && (a.removeEmpty = !0), "!" === i[4] && (a.removeEmptyAttrs = !0), g) {
                                for (y in g) f[y] = g[y];
                                h.push.apply(h, v)
                            }
                            if (l)
                                for (r = 0, o = (l = ei(l, "|")).length; r < o; r++)
                                    if (i = x.exec(l[r])) {
                                        if (s = {}, d = i[1], u = i[2].replace(/[\\:]:/g, ":"), p = i[3], b = i[4], "!" === d && (a.attributesRequired = a.attributesRequired || [], a.attributesRequired.push(u), s.required = !0), "-" === d) {
                                            delete f[u], h.splice(Jo(h, u), 1);
                                            continue
                                        }
                                        p && ("=" === p && (a.attributesDefault = a.attributesDefault || [], a.attributesDefault.push({
                                            name: u,
                                            value: b
                                        }), s.defaultValue = b), ":" === p && (a.attributesForced = a.attributesForced || [], a.attributesForced.push({
                                            name: u,
                                            value: b
                                        }), s.forcedValue = b), "<" === p && (s.validValues = Xo(b, "?"))), C.test(u) ? (a.attributePatterns = a.attributePatterns || [], s.pattern = E(u), a.attributePatterns.push(s)) : (f[u] || h.push(u), f[u] = s)
                                    }
                            g || "@" !== c || (g = f, v = h), m && (a.outputName = c, _[m] = a), C.test(c) ? (a.pattern = E(c), S.push(a)) : _[c] = a
                        }
            },
            b = function(e) {
                _ = {}, S = [], y(e), Zo(n, function(e, t) {
                    p[t] = e.children
                })
            },
            w = function(e) {
                var a = /^(~)?(.+)$/;
                e && (Yo.text_block_elements = Yo.block_elements = null, Zo(ei(e, ","), function(e) {
                    var t = a.exec(e),
                        n = "~" === t[1],
                        r = n ? "span" : "div",
                        o = t[2];
                    if (p[o] = p[r], m[o] = r, n || (c[o.toUpperCase()] = {}, c[o] = {}), !_[o]) {
                        var i = _[r];
                        delete(i = Go({}, i)).removeEmptyAttrs, delete i.removeEmpty, _[o] = i
                    }
                    Zo(p, function(e, t) {
                        e[r] && (p[t] = e = Go({}, p[t]), e[o] = e[r])
                    })
                }))
            },
            x = function(e) {
                var o = /^([+\-]?)(\w+)\[([^\]]+)\]$/;
                Yo[i.schema] = null, e && Zo(ei(e, ","), function(e) {
                    var t, n, r = o.exec(e);
                    r && (n = r[1], t = n ? p[r[2]] : p[r[2]] = {
                        "#comment": {}
                    }, t = p[r[2]], Zo(ei(r[3], "|"), function(e) {
                        "-" === n ? delete t[e] : t[e] = {}
                    }))
                })
            },
            C = function(e) {
                var t, n = _[e];
                if (n) return n;
                for (t = S.length; t--;)
                    if ((n = S[t]).pattern.test(e)) return n
            };
        return i.valid_elements ? b(i.valid_elements) : (Zo(n, function(e, t) {
            _[t] = {
                attributes: e.attributes,
                attributesOrder: e.attributesOrder
            }, p[t] = e.children
        }), "html5" !== i.schema && Zo(ei("strong/b em/i"), function(e) {
            e = ei(e, "/"), _[e[1]].outputName = e[0]
        }), Zo(ei("ol ul sub sup blockquote span font a table tbody tr strong em b i"), function(e) {
            _[e] && (_[e].removeEmpty = !0)
        }), Zo(ei("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"), function(e) {
            _[e].paddEmpty = !0
        }), Zo(ei("span"), function(e) {
            _[e].removeEmptyAttrs = !0
        })), w(i.custom_elements), x(i.valid_children), y(i.extended_valid_elements), x("+ol[ul|ol],+ul[ul|ol]"), Zo({
            dd: "dl",
            dt: "dl",
            li: "ul ol",
            td: "tr",
            th: "tr",
            tr: "tbody thead tfoot",
            tbody: "table",
            thead: "table",
            tfoot: "table",
            legend: "fieldset",
            area: "map",
            param: "video audio object"
        }, function(e, t) {
            _[t] && (_[t].parentsRequired = ei(e))
        }), i.invalid_elements && Zo(Qo(i.invalid_elements), function(e) {
            _[e] && delete _[e]
        }), C("span") || y("span[!data-mce-type|*]"), {
            children: p,
            elements: _,
            getValidStyles: function() {
                return e
            },
            getValidClasses: function() {
                return l
            },
            getBlockElements: function() {
                return c
            },
            getInvalidStyles: function() {
                return t
            },
            getShortEndedElements: function() {
                return a
            },
            getTextBlockElements: function() {
                return f
            },
            getTextInlineElements: function() {
                return h
            },
            getBoolAttrs: function() {
                return s
            },
            getElementRule: C,
            getSelfClosingElements: function() {
                return o
            },
            getNonEmptyElements: function() {
                return u
            },
            getMoveCaretBeforeOnEnterElements: function() {
                return d
            },
            getWhiteSpaceElements: function() {
                return r
            },
            getSpecialElements: function() {
                return g
            },
            isValidChild: function(e, t) {
                var n = p[e.toLowerCase()];
                return !(!n || !n[t.toLowerCase()])
            },
            isValid: function(e, t) {
                var n, r, o = C(e);
                if (o) {
                    if (!t) return !0;
                    if (o.attributes[t]) return !0;
                    if (n = o.attributePatterns)
                        for (r = n.length; r--;)
                            if (n[r].pattern.test(e)) return !0
                }
                return !1
            },
            getCustomElements: function() {
                return m
            },
            addValidElements: y,
            setValidElements: b,
            addCustomElements: w,
            addValidChildren: x
        }
    }
    var oi = function(e, t, n, r) {
        var o = function(e) {
            return 1 < (e = parseInt(e, 10).toString(16)).length ? e : "0" + e
        };
        return "#" + o(t) + o(n) + o(r)
    };

    function ii(y, e) {
        var b, t, c, u, w = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,
            x = /(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,
            C = /\s*([^:]+):\s*([^;]+);?/g,
            _ = /\s+$/,
            S = {},
            E = "\ufeff";
        for (y = y || {}, e && (c = e.getValidStyles(), u = e.getInvalidStyles()), t = ("\\\" \\' \\; \\: ; : " + E).split(" "), b = 0; b < t.length; b++) S[t[b]] = E + b, S[E + b] = t[b];
        return {
            toHex: function(e) {
                return e.replace(w, oi)
            },
            parse: function(e) {
                var t, n, r, o, i, a, s, l = {},
                    c = y.url_converter,
                    u = y.url_converter_scope || this,
                    d = function(e, t, n) {
                        var r, o, i, a;
                        if ((r = l[e + "-top" + t]) && (o = l[e + "-right" + t]) && (i = l[e + "-bottom" + t]) && (a = l[e + "-left" + t])) {
                            var s = [r, o, i, a];
                            for (b = s.length - 1; b-- && s[b] === s[b + 1];); - 1 < b && n || (l[e + t] = -1 === b ? s[0] : s.join(" "), delete l[e + "-top" + t], delete l[e + "-right" + t], delete l[e + "-bottom" + t], delete l[e + "-left" + t])
                        }
                    },
                    f = function(e) {
                        var t, n = l[e];
                        if (n) {
                            for (t = (n = n.split(" ")).length; t--;)
                                if (n[t] !== n[0]) return !1;
                            return l[e] = n[0], !0
                        }
                    },
                    h = function(e) {
                        return o = !0, S[e]
                    },
                    p = function(e, t) {
                        return o && (e = e.replace(/\uFEFF[0-9]/g, function(e) {
                            return S[e]
                        })), t || (e = e.replace(/\\([\'\";:])/g, "$1")), e
                    },
                    m = function(e) {
                        return String.fromCharCode(parseInt(e.slice(1), 16))
                    },
                    g = function(e) {
                        return e.replace(/\\[0-9a-f]+/gi, m)
                    },
                    v = function(e, t, n, r, o, i) {
                        if (o = o || i) return "'" + (o = p(o)).replace(/\'/g, "\\'") + "'";
                        if (t = p(t || n || r), !y.allow_script_urls) {
                            var a = t.replace(/[\s\r\n]+/g, "");
                            if (/(java|vb)script:/i.test(a)) return "";
                            if (!y.allow_svg_data_urls && /^data:image\/svg/i.test(a)) return ""
                        }
                        return c && (t = c.call(u, t, "style")), "url('" + t.replace(/\'/g, "\\'") + "')"
                    };
                if (e) {
                    for (e = (e = e.replace(/[\u0000-\u001F]/g, "")).replace(/\\[\"\';:\uFEFF]/g, h).replace(/\"[^\"]+\"|\'[^\']+\'/g, function(e) {
                            return e.replace(/[;:]/g, h)
                        }); t = C.exec(e);)
                        if (C.lastIndex = t.index + t[0].length, n = t[1].replace(_, "").toLowerCase(), r = t[2].replace(_, ""), n && r) {
                            if (n = g(n), r = g(r), -1 !== n.indexOf(E) || -1 !== n.indexOf('"')) continue;
                            if (!y.allow_script_urls && ("behavior" === n || /expression\s*\(|\/\*|\*\//.test(r))) continue;
                            "font-weight" === n && "700" === r ? r = "bold" : "color" !== n && "background-color" !== n || (r = r.toLowerCase()), r = (r = r.replace(w, oi)).replace(x, v), l[n] = o ? p(r, !0) : r
                        }
                    d("border", "", !0), d("border", "-width"), d("border", "-color"), d("border", "-style"), d("padding", ""), d("margin", ""), "border", a = "border-style", s = "border-color", f(i = "border-width") && f(a) && f(s) && (l.border = l[i] + " " + l[a] + " " + l[s], delete l[i], delete l[a], delete l[s]), "medium none" === l.border && delete l.border, "none" === l["border-image"] && delete l["border-image"]
                }
                return l
            },
            serialize: function(i, e) {
                var t, n, r, o, a, s = "",
                    l = function(e) {
                        var t, n, r, o;
                        if (t = c[e])
                            for (n = 0, r = t.length; n < r; n++) e = t[n], (o = i[e]) && (s += (0 < s.length ? " " : "") + e + ": " + o + ";")
                    };
                if (e && c) l("*"), l(e);
                else
                    for (t in i) !(n = i[t]) || u && (r = t, o = e, a = void 0, (a = u["*"]) && a[r] || (a = u[o]) && a[r]) || (s += (0 < s.length ? " " : "") + t + ": " + n + ";");
                return s
            }
        }
    }
    var ai, si = zt.each,
        li = zt.grep,
        ci = ve.ie,
        ui = /^([a-z0-9],?)+$/i,
        di = /^[ \t\r\n]*$/,
        fi = function(n, r, o) {
            var e = {},
                i = r.keep_values,
                t = {
                    set: function(e, t, n) {
                        r.url_converter && (t = r.url_converter.call(r.url_converter_scope || o(), t, n, e[0])), e.attr("data-mce-" + n, t).attr(n, t)
                    },
                    get: function(e, t) {
                        return e.attr("data-mce-" + t) || e.attr(t)
                    }
                };
            return e = {
                style: {
                    set: function(e, t) {
                        null === t || "object" != typeof t ? (i && e.attr("data-mce-style", t), e.attr("style", t)) : e.css(t)
                    },
                    get: function(e) {
                        var t = e.attr("data-mce-style") || e.attr("style");
                        return n.serialize(n.parse(t), e[0].nodeName)
                    }
                }
            }, i && (e.href = e.src = t), e
        },
        hi = function(e, t) {
            var n = t.attr("style"),
                r = e.serialize(e.parse(n), t[0].nodeName);
            r || (r = null), t.attr("data-mce-style", r)
        },
        pi = function(e, t) {
            var n, r, o = 0;
            if (e)
                for (n = e.nodeType, e = e.previousSibling; e; e = e.previousSibling) r = e.nodeType, (!t || 3 !== r || r !== n && e.nodeValue.length) && (o++, n = r);
            return o
        };

    function mi(a, s) {
        var l, c = this;
        void 0 === s && (s = {});
        var r = {},
            i = window,
            o = {},
            t = 0,
            e = function(h, e) {
                var p, m = 0,
                    g = {};
                p = (e = e || {}).maxLoadTime || 5e3;
                var v = function(e) {
                        h.getElementsByTagName("head")[0].appendChild(e)
                    },
                    n = function(e, t, n) {
                        var o, r, i, a, s = function() {
                                for (var e = a.passed, t = e.length; t--;) e[t]();
                                a.status = 2, a.passed = [], a.failed = []
                            },
                            l = function() {
                                for (var e = a.failed, t = e.length; t--;) e[t]();
                                a.status = 3, a.passed = [], a.failed = []
                            },
                            c = function(e, t) {
                                e() || ((new Date).getTime() - i < p ? Ce.setTimeout(t) : l())
                            },
                            u = function() {
                                c(function() {
                                    for (var e, t, n = h.styleSheets, r = n.length; r--;)
                                        if ((t = (e = n[r]).ownerNode ? e.ownerNode : e.owningElement) && t.id === o.id) return s(), !0
                                }, u)
                            },
                            d = function() {
                                c(function() {
                                    try {
                                        var e = r.sheet.cssRules;
                                        return s(), !!e
                                    } catch (e) {}
                                }, d)
                            };
                        if (e = zt._addCacheSuffix(e), g[e] ? a = g[e] : (a = {
                                passed: [],
                                failed: []
                            }, g[e] = a), t && a.passed.push(t), n && a.failed.push(n), 1 !== a.status)
                            if (2 !== a.status)
                                if (3 !== a.status) {
                                    if (a.status = 1, (o = h.createElement("link")).rel = "stylesheet", o.type = "text/css", o.id = "u" + m++, o.async = !1, o.defer = !1, i = (new Date).getTime(), "onload" in o && !((f = navigator.userAgent.match(/WebKit\/(\d*)/)) && parseInt(f[1], 10) < 536)) o.onload = u, o.onerror = l;
                                    else {
                                        if (0 < navigator.userAgent.indexOf("Firefox")) return (r = h.createElement("style")).textContent = '@import "' + e + '"', d(), void v(r);
                                        u()
                                    }
                                    var f;
                                    v(o), o.href = e
                                } else l();
                        else s()
                    },
                    t = function(t) {
                        return Jr.nu(function(e) {
                            n(t, H.compose(e, H.constant(oo.value(t))), H.compose(e, H.constant(oo.error(t))))
                        })
                    },
                    o = function(e) {
                        return e.fold(H.identity, H.identity)
                    };
                return {
                    load: n,
                    loadAll: function(e, n, r) {
                        to.par(q.map(e, t)).get(function(e) {
                            var t = q.partition(e, function(e) {
                                return e.isValue()
                            });
                            0 < t.fail.length ? r(t.fail.map(o)) : n(t.pass.map(o))
                        })
                    }
                }
            }(a),
            u = [],
            d = s.schema ? s.schema : ri({}),
            f = ii({
                url_converter: s.url_converter,
                url_converter_scope: s.url_converter_scope
            }, s.schema),
            h = s.ownEvents ? new Re(s.proxy) : Re.Event,
            n = d.getBlockElements(),
            p = tn.overrideDefaults(function() {
                return {
                    context: a,
                    element: j.getRoot()
                }
            }),
            m = function(e) {
                if (e && a && "string" == typeof e) {
                    var t = a.getElementById(e);
                    return t && t.id !== e ? a.getElementsByName(e)[1] : t
                }
                return e
            },
            g = function(e) {
                return "string" == typeof e && (e = m(e)), p(e)
            },
            v = function(e, t, n) {
                var r, o, i = g(e);
                return i.length && (o = (r = l[t]) && r.get ? r.get(i, t) : i.attr(t)), void 0 === o && (o = n || ""), o
            },
            y = function(e) {
                var t = m(e);
                return t ? t.attributes : []
            },
            b = function(e, t, n) {
                var r, o;
                "" === n && (n = null);
                var i = g(e);
                r = i.attr(t), i.length && ((o = l[t]) && o.set ? o.set(i, n, t) : i.attr(t, n), r !== n && s.onSetAttrib && s.onSetAttrib({
                    attrElm: i,
                    attrName: t,
                    attrValue: n
                }))
            },
            w = function() {
                return s.root_element || a.body
            },
            x = function(e, t) {
                return Xr.getPos(a.body, m(e), t)
            },
            C = function(e, t, n) {
                var r = g(e);
                return n ? r.css(t) : ("float" === (t = t.replace(/-(\D)/g, function(e, t) {
                    return t.toUpperCase()
                })) && (t = ve.ie && ve.ie < 12 ? "styleFloat" : "cssFloat"), r[0] && r[0].style ? r[0].style[t] : void 0)
            },
            _ = function(e) {
                var t, n;
                return e = m(e), t = C(e, "width"), n = C(e, "height"), -1 === t.indexOf("px") && (t = 0), -1 === n.indexOf("px") && (n = 0), {
                    w: parseInt(t, 10) || e.offsetWidth || e.clientWidth,
                    h: parseInt(n, 10) || e.offsetHeight || e.clientHeight
                }
            },
            S = function(e, t) {
                var n;
                if (!e) return !1;
                if (!Array.isArray(e)) {
                    if ("*" === t) return 1 === e.nodeType;
                    if (ui.test(t)) {
                        var r = t.toLowerCase().split(/,/),
                            o = e.nodeName.toLowerCase();
                        for (n = r.length - 1; 0 <= n; n--)
                            if (r[n] === o) return !0;
                        return !1
                    }
                    if (e.nodeType && 1 !== e.nodeType) return !1
                }
                var i = Array.isArray(e) ? e : [e];
                return 0 < ht(t, i[0].ownerDocument || i[0], null, i).length
            },
            E = function(e, t, n, r) {
                var o, i = [],
                    a = m(e);
                for (r = void 0 === r, n = n || ("BODY" !== w().nodeName ? w().parentNode : null), zt.is(t, "string") && (t = "*" === (o = t) ? function(e) {
                        return 1 === e.nodeType
                    } : function(e) {
                        return S(e, o)
                    }); a && a !== n && a.nodeType && 9 !== a.nodeType;) {
                    if (!t || "function" == typeof t && t(a)) {
                        if (!r) return [a];
                        i.push(a)
                    }
                    a = a.parentNode
                }
                return r ? i : null
            },
            k = function(e, t, n) {
                var r = t;
                if (e)
                    for ("string" == typeof t && (r = function(e) {
                            return S(e, t)
                        }), e = e[n]; e; e = e[n])
                        if ("function" == typeof r && r(e)) return e;
                return null
            },
            T = function(e, n, r) {
                var o, t = "string" == typeof e ? m(e) : e;
                if (!t) return !1;
                if (zt.isArray(t) && (t.length || 0 === t.length)) return o = [], si(t, function(e, t) {
                    e && ("string" == typeof e && (e = m(e)), o.push(n.call(r, e, t)))
                }), o;
                var i = r || c;
                return n.call(i, t)
            },
            N = function(e, t) {
                g(e).each(function(e, n) {
                    si(t, function(e, t) {
                        b(n, t, e)
                    })
                })
            },
            A = function(e, n) {
                var t = g(e);
                ci ? t.each(function(e, t) {
                    if (!1 !== t.canHaveHTML) {
                        for (; t.firstChild;) t.removeChild(t.firstChild);
                        try {
                            t.innerHTML = "<br>" + n, t.removeChild(t.firstChild)
                        } catch (e) {
                            tn("<div></div>").html("<br>" + n).contents().slice(1).appendTo(t)
                        }
                        return n
                    }
                }) : t.html(n)
            },
            O = function(e, n, r, o, i) {
                return T(e, function(e) {
                    var t = "string" == typeof n ? a.createElement(n) : n;
                    return N(t, r), o && ("string" != typeof o && o.nodeType ? t.appendChild(o) : "string" == typeof o && A(t, o)), i ? t : e.appendChild(t)
                })
            },
            R = function(e, t, n) {
                return O(a.createElement(e), e, t, n, !0)
            },
            P = Wo.decode,
            B = Wo.encodeAllRaw,
            D = function(e, t) {
                var n = g(e);
                return t ? n.each(function() {
                    for (var e; e = this.firstChild;) 3 === e.nodeType && 0 === e.data.length ? this.removeChild(e) : this.parentNode.insertBefore(e, this)
                }).remove() : n.remove(), 1 < n.length ? n.toArray() : n[0]
            },
            L = function(e, t, n) {
                g(e).toggleClass(t, n).each(function() {
                    "" === this.className && tn(this).attr("class", null)
                })
            },
            z = function(t, e, n) {
                return T(e, function(e) {
                    return zt.is(e, "array") && (t = t.cloneNode(!0)), n && si(li(e.childNodes), function(e) {
                        t.appendChild(e)
                    }), e.parentNode.replaceChild(t, e)
                })
            },
            I = function() {
                return a.createRange()
            },
            M = function(e, t, n, r) {
                if (zt.isArray(e)) {
                    for (var o = e.length; o--;) e[o] = M(e[o], t, n, r);
                    return e
                }
                return !s.collect || e !== a && e !== i || u.push([e, t, n, r]), h.bind(e, t, n, r || j)
            },
            $ = function(e, t, n) {
                var r;
                if (zt.isArray(e)) {
                    for (r = e.length; r--;) e[r] = $(e[r], t, n);
                    return e
                }
                if (u && (e === a || e === i))
                    for (r = u.length; r--;) {
                        var o = u[r];
                        e !== o[0] || t && t !== o[1] || n && n !== o[2] || h.unbind(o[0], o[1], o[2])
                    }
                return h.unbind(e, t, n)
            },
            F = function(e) {
                if (e && Po.isElement(e)) {
                    var t = e.getAttribute("data-mce-contenteditable");
                    return t && "inherit" !== t ? t : "inherit" !== e.contentEditable ? e.contentEditable : null
                }
                return null
            },
            j = {
                doc: a,
                settings: s,
                win: i,
                files: o,
                stdMode: !0,
                boxModel: !0,
                styleSheetLoader: e,
                boundEvents: u,
                styles: f,
                schema: d,
                events: h,
                isBlock: function(e) {
                    if ("string" == typeof e) return !!n[e];
                    if (e) {
                        var t = e.nodeType;
                        if (t) return !(1 !== t || !n[e.nodeName])
                    }
                    return !1
                },
                $: p,
                $$: g,
                root: null,
                clone: function(t, e) {
                    if (!ci || 1 !== t.nodeType || e) return t.cloneNode(e);
                    if (e) return null;
                    var n = a.createElement(t.nodeName);
                    return si(y(t), function(e) {
                        b(n, e.nodeName, v(t, e.nodeName))
                    }), n
                },
                getRoot: w,
                getViewPort: function(e) {
                    var t = e || i,
                        n = t.document.documentElement;
                    return {
                        x: t.pageXOffset || n.scrollLeft,
                        y: t.pageYOffset || n.scrollTop,
                        w: t.innerWidth || n.clientWidth,
                        h: t.innerHeight || n.clientHeight
                    }
                },
                getRect: function(e) {
                    var t, n;
                    return e = m(e), t = x(e), n = _(e), {
                        x: t.x,
                        y: t.y,
                        w: n.w,
                        h: n.h
                    }
                },
                getSize: _,
                getParent: function(e, t, n) {
                    var r = E(e, t, n, !1);
                    return r && 0 < r.length ? r[0] : null
                },
                getParents: E,
                get: m,
                getNext: function(e, t) {
                    return k(e, t, "nextSibling")
                },
                getPrev: function(e, t) {
                    return k(e, t, "previousSibling")
                },
                select: function(e, t) {
                    return ht(e, m(t) || s.root_element || a, [])
                },
                is: S,
                add: O,
                create: R,
                createHTML: function(e, t, n) {
                    var r, o = "";
                    for (r in o += "<" + e, t) t.hasOwnProperty(r) && null !== t[r] && void 0 !== t[r] && (o += " " + r + '="' + B(t[r]) + '"');
                    return void 0 !== n ? o + ">" + n + "</" + e + ">" : o + " />"
                },
                createFragment: function(e) {
                    var t, n = a.createElement("div"),
                        r = a.createDocumentFragment();
                    for (e && (n.innerHTML = e); t = n.firstChild;) r.appendChild(t);
                    return r
                },
                remove: D,
                setStyle: function(e, t, n) {
                    var r = g(e).css(t, n);
                    s.update_styles && hi(f, r)
                },
                getStyle: C,
                setStyles: function(e, t) {
                    var n = g(e).css(t);
                    s.update_styles && hi(f, n)
                },
                removeAllAttribs: function(e) {
                    return T(e, function(e) {
                        var t, n = e.attributes;
                        for (t = n.length - 1; 0 <= t; t--) e.removeAttributeNode(n.item(t))
                    })
                },
                setAttrib: b,
                setAttribs: N,
                getAttrib: v,
                getPos: x,
                parseStyle: function(e) {
                    return f.parse(e)
                },
                serializeStyle: function(e, t) {
                    return f.serialize(e, t)
                },
                addStyle: function(e) {
                    var t, n;
                    if (j !== mi.DOM && a === document) {
                        if (r[e]) return;
                        r[e] = !0
                    }(n = a.getElementById("mceDefaultStyles")) || ((n = a.createElement("style")).id = "mceDefaultStyles", n.type = "text/css", (t = a.getElementsByTagName("head")[0]).firstChild ? t.insertBefore(n, t.firstChild) : t.appendChild(n)), n.styleSheet ? n.styleSheet.cssText += e : n.appendChild(a.createTextNode(e))
                },
                loadCSS: function(e) {
                    var n;
                    j === mi.DOM || a !== document ? (e || (e = ""), n = a.getElementsByTagName("head")[0], si(e.split(","), function(e) {
                        var t;
                        e = zt._addCacheSuffix(e), o[e] || (o[e] = !0, t = R("link", {
                            rel: "stylesheet",
                            href: e
                        }), n.appendChild(t))
                    })) : mi.DOM.loadCSS(e)
                },
                addClass: function(e, t) {
                    g(e).addClass(t)
                },
                removeClass: function(e, t) {
                    L(e, t, !1)
                },
                hasClass: function(e, t) {
                    return g(e).hasClass(t)
                },
                toggleClass: L,
                show: function(e) {
                    g(e).show()
                },
                hide: function(e) {
                    g(e).hide()
                },
                isHidden: function(e) {
                    return "none" === g(e).css("display")
                },
                uniqueId: function(e) {
                    return (e || "mce_") + t++
                },
                setHTML: A,
                getOuterHTML: function(e) {
                    var t = "string" == typeof e ? m(e) : e;
                    return Po.isElement(t) ? t.outerHTML : tn("<div></div>").append(tn(t).clone()).html()
                },
                setOuterHTML: function(e, t) {
                    g(e).each(function() {
                        try {
                            if ("outerHTML" in this) return void(this.outerHTML = t)
                        } catch (e) {}
                        D(tn(this).html(t), !0)
                    })
                },
                decode: P,
                encode: B,
                insertAfter: function(e, t) {
                    var r = m(t);
                    return T(e, function(e) {
                        var t, n;
                        return t = r.parentNode, (n = r.nextSibling) ? t.insertBefore(e, n) : t.appendChild(e), e
                    })
                },
                replace: z,
                rename: function(t, e) {
                    var n;
                    return t.nodeName !== e.toUpperCase() && (n = R(e), si(y(t), function(e) {
                        b(n, e.nodeName, v(t, e.nodeName))
                    }), z(n, t, !0)), n || t
                },
                findCommonAncestor: function(e, t) {
                    for (var n, r = e; r;) {
                        for (n = t; n && r !== n;) n = n.parentNode;
                        if (r === n) break;
                        r = r.parentNode
                    }
                    return !r && e.ownerDocument ? e.ownerDocument.documentElement : r
                },
                toHex: function(e) {
                    return f.toHex(zt.trim(e))
                },
                run: T,
                getAttribs: y,
                isEmpty: function(e, t) {
                    var n, r, o, i, a, s, l = 0;
                    if (e = e.firstChild) {
                        a = new io(e, e.parentNode), t = t || (d ? d.getNonEmptyElements() : null), i = d ? d.getWhiteSpaceElements() : {};
                        do {
                            if (o = e.nodeType, Po.isElement(e)) {
                                var c = e.getAttribute("data-mce-bogus");
                                if (c) {
                                    e = a.next("all" === c);
                                    continue
                                }
                                if (s = e.nodeName.toLowerCase(), t && t[s]) {
                                    if ("br" !== s) return !1;
                                    l++, e = a.next();
                                    continue
                                }
                                for (n = (r = y(e)).length; n--;)
                                    if ("name" === (s = r[n].nodeName) || "data-mce-bookmark" === s) return !1
                            }
                            if (8 === o) return !1;
                            if (3 === o && !di.test(e.nodeValue)) return !1;
                            if (3 === o && e.parentNode && i[e.parentNode.nodeName] && di.test(e.nodeValue)) return !1;
                            e = a.next()
                        } while (e)
                    }
                    return l <= 1
                },
                createRng: I,
                nodeIndex: pi,
                split: function(e, t, n) {
                    var r, o, i, a = I();
                    if (e && t) return a.setStart(e.parentNode, pi(e)), a.setEnd(t.parentNode, pi(t)), r = a.extractContents(), (a = I()).setStart(t.parentNode, pi(t) + 1), a.setEnd(e.parentNode, pi(e) + 1), o = a.extractContents(), (i = e.parentNode).insertBefore(Lo.trimNode(j, r), e), n ? i.insertBefore(n, e) : i.insertBefore(t, e), i.insertBefore(Lo.trimNode(j, o), e), D(e), n || t
                },
                bind: M,
                unbind: $,
                fire: function(e, t, n) {
                    return h.fire(e, t, n)
                },
                getContentEditable: F,
                getContentEditableParent: function(e) {
                    for (var t = w(), n = null; e && e !== t && null === (n = F(e)); e = e.parentNode);
                    return n
                },
                destroy: function() {
                    if (u)
                        for (var e = u.length; e--;) {
                            var t = u[e];
                            h.unbind(t[0], t[1], t[2])
                        }
                    ht.setDocument && ht.setDocument()
                },
                isChildOf: function(e, t) {
                    for (; e;) {
                        if (t === e) return !0;
                        e = e.parentNode
                    }
                    return !1
                },
                dumpRng: function(e) {
                    return "startContainer: " + e.startContainer.nodeName + ", startOffset: " + e.startOffset + ", endContainer: " + e.endContainer.nodeName + ", endOffset: " + e.endOffset
                }
            };
        return l = fi(f, s, function() {
            return j
        }), j
    }(ai = mi || (mi = {})).DOM = ai(document), ai.nodeIndex = pi;
    var gi = mi,
        vi = gi.DOM,
        yi = zt.each,
        bi = zt.grep,
        wi = function(e) {
            return "function" == typeof e
        },
        xi = function() {
            var d = {},
                o = [],
                i = {},
                a = [],
                f = 0;
            this.isDone = function(e) {
                return 2 === d[e]
            }, this.markDone = function(e) {
                d[e] = 2
            }, this.add = this.load = function(e, t, n, r) {
                void 0 === d[e] && (o.push(e), d[e] = 0), t && (i[e] || (i[e] = []), i[e].push({
                    success: t,
                    failure: r,
                    scope: n || this
                }))
            }, this.remove = function(e) {
                delete d[e], delete i[e]
            }, this.loadQueue = function(e, t, n) {
                this.loadScripts(o, e, t, n)
            }, this.loadScripts = function(n, e, t, r) {
                var l, c = [],
                    u = function(t, e) {
                        yi(i[e], function(e) {
                            wi(e[t]) && e[t].call(e.scope)
                        }), i[e] = void 0
                    };
                a.push({
                    success: e,
                    failure: r,
                    scope: t || this
                }), (l = function() {
                    var e = bi(n);
                    if (n.length = 0, yi(e, function(e) {
                            var t, n, r, o, i, a, s;
                            2 !== d[e] ? 3 !== d[e] ? 1 !== d[e] && (d[e] = 1, f++, t = e, n = function() {
                                d[e] = 2, f--, u("success", e), l()
                            }, r = function() {
                                d[e] = 3, f--, c.push(e), u("failure", e), l()
                            }, s = function() {
                                a.remove(i), o && (o.onreadystatechange = o.onload = o = null), n()
                            }, i = (a = vi).uniqueId(), (o = document.createElement("script")).id = i, o.type = "text/javascript", o.src = zt._addCacheSuffix(t), "onreadystatechange" in o ? o.onreadystatechange = function() {
                                /loaded|complete/.test(o.readyState) && s()
                            } : o.onload = s, o.onerror = function() {
                                wi(r) ? r() : "undefined" != typeof console && console.log && console.log("Failed to load script: " + t)
                            }, (document.getElementsByTagName("head")[0] || document.body).appendChild(o)) : u("failure", e) : u("success", e)
                        }), !f) {
                        var t = a.slice(0);
                        a.length = 0, yi(t, function(e) {
                            0 === c.length ? wi(e.success) && e.success.call(e.scope) : wi(e.failure) && e.failure.call(e.scope, c)
                        })
                    }
                })()
            }
        };
    xi.ScriptLoader = new xi;
    var Ci, _i = zt.each;

    function Si() {
        var r = this,
            o = [],
            a = {},
            s = {},
            i = [],
            l = function(e) {
                var t;
                return s[e] && (t = s[e].dependencies), t || []
            },
            c = function(e, t) {
                return "object" == typeof t ? t : "string" == typeof e ? {
                    prefix: "",
                    resource: t,
                    suffix: ""
                } : {
                    prefix: e.prefix,
                    resource: t,
                    suffix: e.suffix
                }
            },
            u = function(n, e, t) {
                var r = l(name);
                _i(r, function(e) {
                    var t = c(n, e);
                    d(t.resource, t, void 0, void 0)
                }), e && (t ? e.call(t) : e.call(xi))
            },
            d = function(e, t, n, r, o) {
                if (!a[e]) {
                    var i = "string" == typeof t ? t : t.prefix + t.resource + t.suffix;
                    0 !== i.indexOf("/") && -1 === i.indexOf("://") && (i = Si.baseURL + "/" + i), a[e] = i.substring(0, i.lastIndexOf("/")), s[e] ? u(t, n, r) : xi.ScriptLoader.add(i, function() {
                        return u(t, n, r)
                    }, r, o)
                }
            };
        return {
            items: o,
            urls: a,
            lookup: s,
            _listeners: i,
            get: function(e) {
                return s[e] ? s[e].instance : void 0
            },
            dependencies: l,
            requireLangPack: function(e, t) {
                var n = Si.language;
                if (n && !1 !== Si.languageLoad) {
                    if (t)
                        if (-1 !== (t = "," + t + ",").indexOf("," + n.substr(0, 2) + ",")) n = n.substr(0, 2);
                        else if (-1 === t.indexOf("," + n + ",")) return;
                    xi.ScriptLoader.add(a[e] + "/langs/" + n + ".js")
                }
            },
            add: function(t, e, n) {
                o.push(e), s[t] = {
                    instance: e,
                    dependencies: n
                };
                var r = q.partition(i, function(e) {
                    return e.name === t
                });
                return i = r.fail, _i(r.pass, function(e) {
                    e.callback()
                }), e
            },
            remove: function(e) {
                delete a[e], delete s[e]
            },
            createUrl: c,
            addComponents: function(e, t) {
                var n = r.urls[e];
                _i(t, function(e) {
                    xi.ScriptLoader.add(n + "/" + e)
                })
            },
            load: d,
            waitFor: function(e, t) {
                s.hasOwnProperty(e) ? t() : i.push({
                    name: e,
                    callback: t
                })
            }
        }
    }(Ci = Si || (Si = {})).PluginManager = Ci(), Ci.ThemeManager = Ci();
    var Ei, ki = "\ufeff",
        Ti = ki,
        Ni = function(e) {
            return e.replace(new RegExp(ki, "g"), "")
        },
        Ai = Po.isElement,
        Oi = Po.isText,
        Ri = function(e) {
            return Oi(e) && (e = e.parentNode), Ai(e) && e.hasAttribute("data-mce-caret")
        },
        Pi = function(e) {
            return Oi(e) && e.data === ki
        },
        Bi = function(e) {
            return Ri(e) || Pi(e)
        },
        Di = function(e) {
            return e.firstChild !== e.lastChild || !Po.isBr(e.firstChild)
        },
        Li = function(e) {
            var t = e.container();
            return e && Po.isText(t) && t.data.charAt(e.offset()) === Ti
        },
        zi = function(e) {
            var t = e.container();
            return e && Po.isText(t) && t.data.charAt(e.offset() - 1) === Ti
        },
        Ii = function(e) {
            return Oi(e) && e.data[0] === Ti
        },
        Mi = function(e) {
            return Oi(e) && e.data[e.data.length - 1] === Ti
        },
        $i = function(e) {
            return e && e.hasAttribute("data-mce-caret") ? (n = (t = e.getElementsByTagName("br"))[t.length - 1], Po.isBogus(n) && n.parentNode.removeChild(n), e.removeAttribute("data-mce-caret"), e.removeAttribute("data-mce-bogus"), e.removeAttribute("style"), e.removeAttribute("_moz_abspos"), e) : null;
            var t, n
        },
        Fi = Po.isContentEditableTrue,
        ji = Po.isContentEditableFalse,
        Hi = Po.isBr,
        qi = Po.isText,
        Ui = Po.matchNodeNames("script style textarea"),
        Vi = Po.matchNodeNames("img input textarea hr iframe video audio object"),
        Wi = Po.matchNodeNames("table"),
        Yi = Bi,
        Ki = function(e) {
            return !Yi(e) && (qi(e) ? !Ui(e.parentNode) : Vi(e) || Hi(e) || Wi(e) || Xi(e))
        },
        Xi = function(e) {
            return !1 === (t = e, Po.isElement(t) && "true" === t.getAttribute("unselectable")) && ji(e);
            var t
        },
        Zi = function(e, t) {
            return Ki(e) && function(e, t) {
                for (e = e.parentNode; e && e !== t; e = e.parentNode) {
                    if (Xi(e)) return !1;
                    if (Fi(e)) return !0
                }
                return !0
            }(e, t)
        },
        Gi = Math.round,
        Qi = function(e) {
            return e ? {
                left: Gi(e.left),
                top: Gi(e.top),
                bottom: Gi(e.bottom),
                right: Gi(e.right),
                width: Gi(e.width),
                height: Gi(e.height)
            } : {
                left: 0,
                top: 0,
                bottom: 0,
                right: 0,
                width: 0,
                height: 0
            }
        },
        Ji = function(e, t) {
            return e = Qi(e), t || (e.left = e.left + e.width), e.right = e.left, e.width = 0, e
        },
        ea = function(e, t, n) {
            return 0 <= e && e <= Math.min(t.height, n.height) / 2
        },
        ta = function(e, t) {
            return e.bottom - e.height / 2 < t.top || !(e.top > t.bottom) && ea(t.top - e.bottom, e, t)
        },
        na = function(e, t) {
            return e.top > t.bottom || !(e.bottom < t.top) && ea(t.bottom - e.top, e, t)
        },
        ra = function(e) {
            var t = e.startContainer,
                n = e.startOffset;
            return t.hasChildNodes() && e.endOffset === n + 1 ? t.childNodes[n] : null
        },
        oa = function(e, t) {
            return 1 === e.nodeType && e.hasChildNodes() && (t >= e.childNodes.length && (t = e.childNodes.length - 1), e = e.childNodes[t]), e
        },
        ia = new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),
        aa = function(e) {
            return "string" == typeof e && 768 <= e.charCodeAt(0) && ia.test(e)
        },
        sa = [].slice,
        la = function(e) {
            for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
            var r = sa.call(arguments);
            return r.length - 1 >= e.length ? e.apply(this, r.slice(1)) : function() {
                var e = r.concat([].slice.call(arguments));
                return la.apply(this, e)
            }
        },
        ca = {
            constant: function(e) {
                return function() {
                    return e
                }
            },
            negate: function(t) {
                return function(e) {
                    return !t(e)
                }
            },
            and: function() {
                for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                var n = sa.call(arguments);
                return function(e) {
                    for (var t = 0; t < n.length; t++)
                        if (!n[t](e)) return !1;
                    return !0
                }
            },
            or: function() {
                for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                var n = sa.call(arguments);
                return function(e) {
                    for (var t = 0; t < n.length; t++)
                        if (n[t](e)) return !0;
                    return !1
                }
            },
            curry: la,
            compose: function(t, n) {
                return function(e) {
                    return t(n(e))
                }
            },
            noop: function() {}
        },
        ua = function(e, t) {
            for (var n = [], r = 0; r < e.length; r++) {
                var o = e[r];
                if (!o.isSome()) return M.none();
                n.push(o.getOrDie())
            }
            return M.some(t.apply(null, n))
        },
        da = Po.isElement,
        fa = Ki,
        ha = Po.matchStyleValues("display", "block table"),
        pa = Po.matchStyleValues("float", "left right"),
        ma = ca.and(da, fa, ca.negate(pa)),
        ga = ca.negate(Po.matchStyleValues("white-space", "pre pre-line pre-wrap")),
        va = Po.isText,
        ya = Po.isBr,
        ba = gi.nodeIndex,
        wa = oa,
        xa = function(e) {
            return "createRange" in e ? e.createRange() : gi.DOM.createRng()
        },
        Ca = function(e) {
            return e && /[\r\n\t ]/.test(e)
        },
        _a = function(e) {
            return !!e.setStart && !!e.setEnd
        },
        Sa = function(e) {
            var t, n = e.startContainer,
                r = e.startOffset;
            return !!(Ca(e.toString()) && ga(n.parentNode) && Po.isText(n) && (t = n.data, Ca(t[r - 1]) || Ca(t[r + 1])))
        },
        Ea = function(e) {
            return 0 === e.left && 0 === e.right && 0 === e.top && 0 === e.bottom
        },
        ka = function(e) {
            var t, n, r, o, i, a, s, l;
            return t = 0 < (n = e.getClientRects()).length ? Qi(n[0]) : Qi(e.getBoundingClientRect()), !_a(e) && ya(e) && Ea(t) ? (i = (r = e).ownerDocument, a = xa(i), s = i.createTextNode(" "), (l = r.parentNode).insertBefore(s, r), a.setStart(s, 0), a.setEnd(s, 1), o = Qi(a.getBoundingClientRect()), l.removeChild(s), o) : Ea(t) && _a(e) ? function(e) {
                var t = e.startContainer,
                    n = e.endContainer,
                    r = e.startOffset,
                    o = e.endOffset;
                if (t === n && Po.isText(n) && 0 === r && 1 === o) {
                    var i = e.cloneRange();
                    return i.setEndAfter(n), ka(i)
                }
                return null
            }(e) : t
        },
        Ta = function(e, t) {
            var n = Ji(e, t);
            return n.width = 1, n.right = n.left + 1, n
        },
        Na = function(e) {
            var t, n, r = [],
                o = function(e) {
                    var t, n;
                    0 !== e.height && (0 < r.length && (t = e, n = r[r.length - 1], t.left === n.left && t.top === n.top && t.bottom === n.bottom && t.right === n.right) || r.push(e))
                },
                i = function(e, t) {
                    var n = xa(e.ownerDocument);
                    if (t < e.data.length) {
                        if (aa(e.data[t])) return r;
                        if (aa(e.data[t - 1]) && (n.setStart(e, t), n.setEnd(e, t + 1), !Sa(n))) return o(Ta(ka(n), !1)), r
                    }
                    0 < t && (n.setStart(e, t - 1), n.setEnd(e, t), Sa(n) || o(Ta(ka(n), !1))), t < e.data.length && (n.setStart(e, t), n.setEnd(e, t + 1), Sa(n) || o(Ta(ka(n), !0)))
                };
            if (va(e.container())) return i(e.container(), e.offset()), r;
            if (da(e.container()))
                if (e.isAtEnd()) n = wa(e.container(), e.offset()), va(n) && i(n, n.data.length), ma(n) && !ya(n) && o(Ta(ka(n), !1));
                else {
                    if (n = wa(e.container(), e.offset()), va(n) && i(n, 0), ma(n) && e.isAtEnd()) return o(Ta(ka(n), !1)), r;
                    t = wa(e.container(), e.offset() - 1), ma(t) && !ya(t) && (ha(t) || ha(n) || !ma(n)) && o(Ta(ka(t), !1)), ma(n) && o(Ta(ka(n), !0))
                }
            return r
        };

    function Aa(t, n, e) {
        var r = function() {
            return e || (e = Na(Aa(t, n))), e
        };
        return {
            container: ca.constant(t),
            offset: ca.constant(n),
            toRange: function() {
                var e;
                return (e = xa(t.ownerDocument)).setStart(t, n), e.setEnd(t, n), e
            },
            getClientRects: r,
            isVisible: function() {
                return 0 < r().length
            },
            isAtStart: function() {
                return va(t), 0 === n
            },
            isAtEnd: function() {
                return va(t) ? n >= t.data.length : n >= t.childNodes.length
            },
            isEqual: function(e) {
                return e && t === e.container() && n === e.offset()
            },
            getNode: function(e) {
                return wa(t, e ? n - 1 : n)
            }
        }
    }(Ei = Aa || (Aa = {})).fromRangeStart = function(e) {
        return Ei(e.startContainer, e.startOffset)
    }, Ei.fromRangeEnd = function(e) {
        return Ei(e.endContainer, e.endOffset)
    }, Ei.after = function(e) {
        return Ei(e.parentNode, ba(e) + 1)
    }, Ei.before = function(e) {
        return Ei(e.parentNode, ba(e))
    }, Ei.isAbove = function(e, t) {
        return ua([q.head(t.getClientRects()), q.last(e.getClientRects())], ta).getOr(!1)
    }, Ei.isBelow = function(e, t) {
        return ua([q.last(t.getClientRects()), q.head(e.getClientRects())], na).getOr(!1)
    }, Ei.isAtStart = function(e) {
        return !!e && e.isAtStart()
    }, Ei.isAtEnd = function(e) {
        return !!e && e.isAtEnd()
    }, Ei.isTextPosition = function(e) {
        return !!e && Po.isText(e.container())
    }, Ei.isElementPosition = function(e) {
        return !1 === Ei.isTextPosition(e)
    };
    var Oa, Ra, Pa = Aa,
        Ba = Po.isElement,
        Da = Po.isText,
        La = function(e) {
            var t = e.parentNode;
            t && t.removeChild(e)
        },
        za = function(e, t) {
            0 === t.length ? La(e) : e.nodeValue = t
        },
        Ia = function(e) {
            var t = Ni(e);
            return {
                count: e.length - t.length,
                text: t
            }
        },
        Ma = function(e, t) {
            return $a(e), t
        },
        $a = function(e) {
            if (Ba(e) && Bi(e) && (Di(e) ? e.removeAttribute("data-mce-caret") : La(e)), Da(e)) {
                var t = Ni(function(e) {
                    try {
                        return e.nodeValue
                    } catch (e) {
                        return ""
                    }
                }(e));
                za(e, t)
            }
        },
        Fa = {
            removeAndReposition: function(e, t) {
                return Pa.isTextPosition(t) ? (c = t, Da(l = e) && c.container() === l ? (d = c, f = Ia((u = l).data.substr(0, d.offset())), h = Ia(u.data.substr(d.offset())), 0 < (p = f.text + h.text).length ? (za(u, p), Pa(u, d.offset() - f.count)) : d) : Ma(l, c)) : (n = e, (r = t).container() === n.parentNode ? (o = n, a = (i = r).container(), s = q.indexOf(q.from(a.childNodes), o).map(function(e) {
                    return e < i.offset() ? Pa(a, i.offset() - 1) : i
                }).getOr(i), $a(o), s) : Ma(n, r));
                var n, r, o, i, a, s, l, c, u, d, f, h, p
            },
            remove: $a
        },
        ja = function(e) {
            return Pa.isTextPosition(e) ? 0 === e.offset() : Ki(e.getNode())
        },
        Ha = function(e) {
            if (Pa.isTextPosition(e)) {
                var t = e.container();
                return e.offset() === t.data.length
            }
            return Ki(e.getNode(!0))
        },
        qa = function(e, t) {
            return !Pa.isTextPosition(e) && !Pa.isTextPosition(t) && e.getNode() === t.getNode(!0)
        },
        Ua = function(e, t, n) {
            var r = kl(t);
            return M.from(e ? r.next(n) : r.prev(n))
        },
        Va = function(e, t) {
            var n, r, o, i, a, s = e ? t.firstChild : t.lastChild;
            return Po.isText(s) ? M.some(Pa(s, e ? 0 : s.data.length)) : s ? Ki(s) ? M.some(e ? Pa.before(s) : (a = s, Po.isBr(a) ? Pa.before(a) : Pa.after(a))) : (r = t, o = s, i = (n = e) ? Pa.before(o) : Pa.after(o), Ua(n, r, i)) : M.none()
        },
        Wa = {
            fromPosition: Ua,
            nextPosition: H.curry(Ua, !0),
            prevPosition: H.curry(Ua, !1),
            navigate: function(o, i, a) {
                return Ua(o, i, a).bind(function(e) {
                    return Gs(a, e, i) && (t = a, n = e, o ? !qa(t, n) && (r = t, Pa.isTextPosition(r) || !Po.isBr(r.getNode())) && Ha(t) && ja(n) : !qa(n, t) && ja(t) && Ha(n)) ? Ua(o, i, e) : M.some(e);
                    var t, n, r
                })
            },
            positionIn: Va,
            firstPositionIn: H.curry(Va, !0),
            lastPositionIn: H.curry(Va, !1)
        },
        Ya = Po.isContentEditableTrue,
        Ka = Po.isContentEditableFalse,
        Xa = function(e, t, n, r, o) {
            return t._selectionOverrides.showCaret(e, n, r, o)
        },
        Za = function(e, t) {
            var n, r;
            return e.fire("BeforeObjectSelected", {
                target: t
            }).isDefaultPrevented() ? null : ((r = (n = t).ownerDocument.createRange()).selectNode(n), r)
        },
        Ga = function(e, t, n) {
            var r = rl(1, e.getBody(), t),
                o = Pa.fromRangeStart(r),
                i = o.getNode();
            if (Ka(i)) return Xa(1, e, i, !o.isAtEnd(), !1);
            var a = o.getNode(!0);
            if (Ka(a)) return Xa(1, e, a, !1, !1);
            var s = e.dom.getParent(o.getNode(), function(e) {
                return Ka(e) || Ya(e)
            });
            return Ka(s) ? Xa(1, e, s, !1, n) : null
        },
        Qa = function(e, t, n) {
            return t && t.collapsed && Ga(e, t, n) || t
        };
    (Ra = Oa || (Oa = {}))[Ra.Br = 0] = "Br", Ra[Ra.Block = 1] = "Block", Ra[Ra.Wrap = 2] = "Wrap", Ra[Ra.Eol = 3] = "Eol";
    var Ja, es, ts = function(e, t) {
            return e === Ja.Backwards ? t.reverse() : t
        },
        ns = function(e, t, n, r) {
            for (var o, i, a, s, l, c, u = kl(n), d = r, f = []; d && (l = u, c = d, o = t === Ja.Forwards ? l.next(c) : l.prev(c));) {
                if (Po.isBr(o.getNode(!1))) return t === Ja.Forwards ? {
                    positions: ts(t, f).concat([o]),
                    breakType: Oa.Br,
                    breakAt: M.some(o)
                } : {
                    positions: ts(t, f),
                    breakType: Oa.Br,
                    breakAt: M.some(o)
                };
                if (o.isVisible()) {
                    if (e(d, o)) {
                        var h = (i = t, a = d, s = o, Po.isBr(s.getNode(i === Ja.Forwards)) ? Oa.Br : !1 === Gs(a, s) ? Oa.Block : Oa.Wrap);
                        return {
                            positions: ts(t, f),
                            breakType: h,
                            breakAt: M.some(o)
                        }
                    }
                    f.push(o), d = o
                } else d = o
            }
            return {
                positions: ts(t, f),
                breakType: Oa.Eol,
                breakAt: M.none()
            }
        },
        rs = function(n, r, o, e) {
            return r(o, e).breakAt.map(function(e) {
                var t = r(o, e).positions;
                return n === Ja.Backwards ? t.concat(e) : [e].concat(t)
            }).getOr([])
        },
        os = function(e, i) {
            return q.foldl(e, function(e, o) {
                return e.fold(function() {
                    return M.some(o)
                }, function(r) {
                    return ua([q.head(r.getClientRects()), q.head(o.getClientRects())], function(e, t) {
                        var n = Math.abs(i - e.left);
                        return Math.abs(i - t.left) <= n ? o : r
                    }).or(e)
                })
            }, M.none())
        },
        is = function(t, e) {
            return q.head(e.getClientRects()).bind(function(e) {
                return os(t, e.left)
            })
        },
        as = H.curry(ns, Aa.isAbove, -1),
        ss = H.curry(ns, Aa.isBelow, 1),
        ls = H.curry(rs, -1, as),
        cs = H.curry(rs, 1, ss),
        us = function(e, t) {
            return Sr.all(t, e)
        },
        ds = function(e, t, n, r, o) {
            var i, a, s, l, c, u = us(Vn(n), "td,th").map(function(e) {
                return e.dom()
            });
            return (s = q.filter((i = e, a = u, q.bind(a, function(e) {
                var t, n = (-1, {
                    left: (t = e.getBoundingClientRect()).left - -1,
                    top: t.top - -1,
                    right: t.right + -2,
                    bottom: t.bottom + -2,
                    width: t.width + -1,
                    height: t.height + -1
                });
                return [{
                    x: n.left,
                    y: i(n),
                    cell: e
                }, {
                    x: n.right,
                    y: i(n),
                    cell: e
                }]
            })), function(e) {
                return t(e, o)
            }), l = r, c = o, q.foldl(s, function(e, r) {
                return e.fold(function() {
                    return M.some(r)
                }, function(e) {
                    var t = Math.sqrt(Math.abs(e.x - l) + Math.abs(e.y - c)),
                        n = Math.sqrt(Math.abs(r.x - l) + Math.abs(r.y - c));
                    return M.some(n < t ? r : e)
                })
            }, M.none())).map(function(e) {
                return e.cell
            })
        },
        fs = H.curry(ds, function(e) {
            return e.bottom
        }, function(e, t) {
            return e.y < t
        }),
        hs = H.curry(ds, function(e) {
            return e.top
        }, function(e, t) {
            return e.y > t
        }),
        ps = function(e) {
            for (var t = 0, n = 0, r = e; r && r.nodeType;) t += r.offsetLeft || 0, n += r.offsetTop || 0, r = r.offsetParent;
            return {
                x: t,
                y: n
            }
        },
        ms = function(e, t, n) {
            var r = e.getParam(t, n);
            if (-1 === r.indexOf("=")) return r;
            var o = e.getParam(t, "", "hash");
            return o.hasOwnProperty(e.id) ? o[e.id] : n
        },
        gs = function(e) {
            return e.getParam("content_security_policy", "")
        },
        vs = function(e) {
            if (e.getParam("force_p_newlines", !1)) return "p";
            var t = e.getParam("forced_root_block", "p");
            return !1 === t ? "" : t
        },
        ys = function(e) {
            return e.getParam("forced_root_block_attrs", {})
        },
        bs = function(t, n) {
            Ir(t).each(function(e) {
                e.dom().insertBefore(n.dom(), t.dom())
            })
        },
        ws = function(e, t) {
            e.dom().appendChild(t.dom())
        },
        xs = bs,
        Cs = function(e, t) {
            Fr(e).fold(function() {
                Ir(e).each(function(e) {
                    ws(e, t)
                })
            }, function(e) {
                bs(e, t)
            })
        },
        _s = ws,
        Ss = Fn.detect().browser,
        Es = function() {
            return Ss.isIE() || Ss.isEdge() || Ss.isFirefox()
        },
        ks = function(e, t) {
            var f, n;
            e.selection.setRng(t), f = e, n = t, q.head(Aa.fromRangeStart(n).getClientRects()).each(function(e) {
                var t, n, r, o, i, a, s, l, c, u = (i = t = function(e) {
                        if (e.inline) return e.getBody().getBoundingClientRect();
                        var t = e.getWin();
                        return {
                            left: 0,
                            right: t.innerWidth,
                            top: 0,
                            bottom: t.innerHeight,
                            width: t.innerWidth,
                            height: t.innerHeight
                        }
                    }(f), (a = n = e).left > i.left && a.right < i.right ? 0 : a.left < i.left ? a.left - i.left : a.right - i.right),
                    d = (r = t, (o = n).top > r.top && o.bottom < r.bottom ? 0 : o.top < r.top ? o.top - r.top : o.bottom - r.bottom);
                l = 0 !== u ? 0 < u ? u + 4 : u - 4 : 0, c = 0 !== d ? 0 < d ? d + 4 : d - 4 : 0, (s = f).inline ? (s.getBody().scrollLeft += l, s.getBody().scrollTop += c) : s.getWin().scrollBy(l, c)
            })
        },
        Ts = function(t, n, e) {
            var r = t(n, e);
            return r.breakType === Oa.Wrap && 0 === r.positions.length ? r.breakAt.map(function(e) {
                return t(n, e).breakAt.isNone()
            }).getOr(!0) : r.breakAt.isNone()
        },
        Ns = ca.curry(Ts, as),
        As = ca.curry(Ts, ss),
        Os = function(s, l, c) {
            var e, t, n = (e = !!l, t = c.getNode(e), Po.isElement(t) && "TABLE" === t.nodeName ? M.some(t) : M.none()),
                r = !1 === l;
            n.fold(function() {
                return ks(s, c.toRange())
            }, function(a) {
                return Wa.positionIn(r, s.getBody()).filter(function(e) {
                    return e.isEqual(c)
                }).fold(function() {
                    return ks(s, c.toRange())
                }, function(e) {
                    return n = l, o = a, t = c, void((i = vs(r = s)) ? r.undoManager.transact(function() {
                        var e = qn(i);
                        cr(e, ys(r)), _s(e, qn("br")), n ? Cs(Vn(o), e) : xs(Vn(o), e);
                        var t = r.dom.createRng();
                        t.setStart(e.dom(), 0), t.setEnd(e.dom(), 0), ks(r, t)
                    }) : ks(r, t.toRange()));
                    var n, r, o, t, i
                })
            })
        },
        Rs = function(e, t, n, r) {
            var o, i, a, s, l, c, u, d, f, h, p = e.selection.getRng(),
                m = Pa.fromRangeStart(p),
                g = e.getBody();
            if (t || !Ns(r, m)) return !(!t || !As(r, m) || (o = g, v = (f = i = n, h = a = m, q.last(h.getClientRects()).bind(function(e) {
                return hs(f, e.left, e.top)
            }).bind(function(e) {
                return is((t = e, Wa.firstPositionIn(t).map(function(e) {
                    return [e].concat(ss(t, e).positions)
                }).getOr([])), h);
                var t
            })).orThunk(function() {
                return q.head(a.getClientRects()).bind(function(e) {
                    return os(cs(o, Pa.after(i)), e.left)
                })
            }).getOr(Pa.after(i)), Os(e, t, v), 0));
            var v = (s = g, (u = l = n, d = c = m, q.head(d.getClientRects()).bind(function(e) {
                return fs(u, e.left, e.top)
            }).bind(function(e) {
                return is((t = e, Wa.lastPositionIn(t).map(function(e) {
                    return as(t, e).positions.concat(e)
                }).getOr([])), d);
                var t
            })).orThunk(function() {
                return q.head(c.getClientRects()).bind(function(e) {
                    return os(ls(s, Pa.before(l)), e.left)
                })
            }).getOr(Pa.before(l)));
            return Os(e, t, v), !0
        },
        Ps = function(t, n) {
            return function() {
                return M.from(t.dom.getParent(t.selection.getNode(), "td,th")).bind(function(e) {
                    return M.from(t.dom.getParent(e, "table")).map(function(e) {
                        return function(e, t, n, r) {
                            var o, i, a, s, l = e.selection.getRng(),
                                c = t ? 1 : -1;
                            if (Es() && (o = t, i = l, a = n, s = Pa.fromRangeStart(i), Wa.positionIn(!o, a).map(function(e) {
                                    return e.isEqual(s)
                                }).getOr(!1))) {
                                var u = Xa(c, e, n, !t, !0);
                                return ks(e, u), !0
                            }
                            return !1
                        }(t, n, e)
                    })
                }).getOr(!1)
            }
        },
        Bs = function(n, r) {
            return function() {
                return M.from(n.dom.getParent(n.selection.getNode(), "td,th")).bind(function(t) {
                    return M.from(n.dom.getParent(t, "table")).map(function(e) {
                        return Rs(n, r, e, t)
                    })
                }).getOr(!1)
            }
        },
        Ds = function(e) {
            var t = e,
                n = function() {
                    return t
                };
            return {
                get: n,
                set: function(e) {
                    t = e
                },
                clone: function() {
                    return Ds(n())
                }
            }
        },
        Ls = Po.isContentEditableFalse,
        zs = function(e, t, n) {
            var r, o, i, a, s, l = Ji(t.getBoundingClientRect(), n);
            return i = "BODY" === e.tagName ? (r = e.ownerDocument.documentElement, o = e.scrollLeft || r.scrollLeft, e.scrollTop || r.scrollTop) : (s = e.getBoundingClientRect(), o = e.scrollLeft - s.left, e.scrollTop - s.top), l.left += o, l.right += o, l.top += i, l.bottom += i, l.width = 1, 0 < (a = t.offsetWidth - t.clientWidth) && (n && (a *= -1), l.left += a, l.right += a), l
        },
        Is = function(f, h, p) {
            var m, g, v = Ds(M.none()),
                y = function() {
                    ! function(e) {
                        var t, n, r, o, i;
                        for (t = tn("*[contentEditable=false]", f), o = 0; o < t.length; o++) r = (n = t[o]).previousSibling, Mi(r) && (1 === (i = r.data).length ? r.parentNode.removeChild(r) : r.deleteData(i.length - 1, 1)), r = n.nextSibling, Ii(r) && (1 === (i = r.data).length ? r.parentNode.removeChild(r) : r.deleteData(0, 1))
                    }(), g && (Fa.remove(g), g = null), v.get().each(function(e) {
                        tn(e.caret).remove(), v.set(M.none())
                    }), clearInterval(m)
                };
            return {
                show: function(t, e) {
                    var n, r, o, i, a, s, l, c, u;
                    if (y(), o = e, Po.isElement(o) && /^(TD|TH)$/i.test(o.tagName)) return null;
                    if (!h(e)) return g = function(e, t) {
                        var n, r, o;
                        if (r = e.ownerDocument.createTextNode(Ti), o = e.parentNode, t) {
                            if (n = e.previousSibling, Oi(n)) {
                                if (Bi(n)) return n;
                                if (Mi(n)) return n.splitText(n.data.length - 1)
                            }
                            o.insertBefore(r, e)
                        } else {
                            if (n = e.nextSibling, Oi(n)) {
                                if (Bi(n)) return n;
                                if (Ii(n)) return n.splitText(1), n
                            }
                            e.nextSibling ? o.insertBefore(r, e.nextSibling) : o.appendChild(r)
                        }
                        return r
                    }(e, t), r = e.ownerDocument.createRange(), Ls(g.nextSibling) ? (r.setStart(g, 0), r.setEnd(g, 0)) : (r.setStart(g, 1), r.setEnd(g, 1)), r;
                    i = "p", s = t, (l = (a = e).ownerDocument.createElement(i)).setAttribute("data-mce-caret", s ? "before" : "after"), l.setAttribute("data-mce-bogus", "all"), l.appendChild(((u = document.createElement("br")).setAttribute("data-mce-bogus", "1"), u)), c = a.parentNode, s ? c.insertBefore(l, a) : a.nextSibling ? c.insertBefore(l, a.nextSibling) : c.appendChild(l), g = l, n = zs(f, e, t), tn(g).css("top", n.top);
                    var d = tn('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(n).appendTo(f)[0];
                    return v.set(M.some({
                        caret: d,
                        element: e,
                        before: t
                    })), v.get().each(function(e) {
                        t && tn(e.caret).addClass("mce-visual-caret-before")
                    }), m = Ce.setInterval(function() {
                        p() ? tn("div.mce-visual-caret", f).toggleClass("mce-visual-caret-hidden") : tn("div.mce-visual-caret", f).addClass("mce-visual-caret-hidden")
                    }, 500), (r = e.ownerDocument.createRange()).setStart(g, 0), r.setEnd(g, 0), r
                },
                hide: y,
                getCss: function() {
                    return ".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"
                },
                reposition: function() {
                    v.get().each(function(e) {
                        var t = zs(f, e.element, e.before);
                        tn(e.caret).css(t)
                    })
                },
                destroy: function() {
                    return Ce.clearInterval(m)
                }
            }
        },
        Ms = function(e) {
            return Ls(e) || Po.isTable(e) && Es()
        },
        $s = Po.isContentEditableFalse,
        Fs = Po.matchStyleValues("display", "block table table-cell table-caption list-item"),
        js = Bi,
        Hs = Ri,
        qs = ca.curry,
        Us = Po.isElement,
        Vs = Ki,
        Ws = function(e) {
            return 0 < e
        },
        Ys = function(e) {
            return e < 0
        },
        Ks = function(e, t) {
            for (var n; n = e(t);)
                if (!Hs(n)) return n;
            return null
        },
        Xs = function(e, t, n, r, o) {
            var i = new io(e, r);
            if (Ys(t)) {
                if (($s(e) || Hs(e)) && n(e = Ks(i.prev, !0))) return e;
                for (; e = Ks(i.prev, o);)
                    if (n(e)) return e
            }
            if (Ws(t)) {
                if (($s(e) || Hs(e)) && n(e = Ks(i.next, !0))) return e;
                for (; e = Ks(i.next, o);)
                    if (n(e)) return e
            }
            return null
        },
        Zs = function(e, t) {
            for (; e && e !== t;) {
                if (Fs(e)) return e;
                e = e.parentNode
            }
            return null
        },
        Gs = function(e, t, n) {
            return Zs(e.container(), n) === Zs(t.container(), n)
        },
        Qs = function(e, t) {
            var n, r;
            return t ? (n = t.container(), r = t.offset(), Us(n) ? n.childNodes[r + e] : null) : null
        },
        Js = function(e, t) {
            var n = t.ownerDocument.createRange();
            return e ? (n.setStartBefore(t), n.setEndBefore(t)) : (n.setStartAfter(t), n.setEndAfter(t)), n
        },
        el = function(e, t, n) {
            var r, o, i, a;
            for (o = e ? "previousSibling" : "nextSibling"; n && n !== t;) {
                if (r = n[o], js(r) && (r = r[o]), $s(r)) {
                    if (a = n, Zs(r, i = t) === Zs(a, i)) return r;
                    break
                }
                if (Vs(r)) break;
                n = n.parentNode
            }
            return null
        },
        tl = qs(Js, !0),
        nl = qs(Js, !1),
        rl = function(e, t, n) {
            var r, o, i, a, s = qs(el, !0, t),
                l = qs(el, !1, t);
            if (o = n.startContainer, i = n.startOffset, Ri(o)) {
                if (Us(o) || (o = o.parentNode), "before" === (a = o.getAttribute("data-mce-caret")) && (r = o.nextSibling, Ms(r))) return tl(r);
                if ("after" === a && (r = o.previousSibling, Ms(r))) return nl(r)
            }
            if (!n.collapsed) return n;
            if (Po.isText(o)) {
                if (js(o)) {
                    if (1 === e) {
                        if (r = l(o)) return tl(r);
                        if (r = s(o)) return nl(r)
                    }
                    if (-1 === e) {
                        if (r = s(o)) return nl(r);
                        if (r = l(o)) return tl(r)
                    }
                    return n
                }
                if (Mi(o) && i >= o.data.length - 1) return 1 === e && (r = l(o)) ? tl(r) : n;
                if (Ii(o) && i <= 1) return -1 === e && (r = s(o)) ? nl(r) : n;
                if (i === o.data.length) return (r = l(o)) ? tl(r) : n;
                if (0 === i) return (r = s(o)) ? nl(r) : n
            }
            return n
        },
        ol = function(e, t) {
            var n = Qs(e, t);
            return $s(n) && !Po.isBogusAll(n)
        },
        il = function(e, t) {
            return Po.isTable(Qs(e, t))
        },
        al = function(e, t) {
            return M.from(Qs(e ? 0 : -1, t)).filter($s)
        },
        sl = function(e, t, n) {
            var r = rl(e, t, n);
            return -1 === e ? Aa.fromRangeStart(r) : Aa.fromRangeEnd(r)
        },
        ll = qs(ol, 0),
        cl = qs(ol, -1),
        ul = qs(il, 0),
        dl = qs(il, -1);
    (es = Ja || (Ja = {}))[es.Backwards = -1] = "Backwards", es[es.Forwards = 1] = "Forwards";
    var fl, hl, pl, ml, gl = Po.isContentEditableFalse,
        vl = Po.isText,
        yl = Po.isElement,
        bl = Po.isBr,
        wl = Ki,
        xl = function(e) {
            return Vi(e) || !!Xi(t = e) && !0 !== Rt.reduce(t.getElementsByTagName("*"), function(e, t) {
                return e || Fi(t)
            }, !1);
            var t
        },
        Cl = Zi,
        _l = function(e, t) {
            return e.hasChildNodes() && t < e.childNodes.length ? e.childNodes[t] : null
        },
        Sl = function(e, t) {
            if (Ws(e)) {
                if (wl(t.previousSibling) && !vl(t.previousSibling)) return Pa.before(t);
                if (vl(t)) return Pa(t, 0)
            }
            if (Ys(e)) {
                if (wl(t.nextSibling) && !vl(t.nextSibling)) return Pa.after(t);
                if (vl(t)) return Pa(t, t.data.length)
            }
            return Ys(e) ? bl(t) ? Pa.before(t) : Pa.after(t) : Pa.before(t)
        },
        El = function(e, t, n) {
            var r, o, i, a, s;
            if (!yl(n) || !t) return null;
            if (t.isEqual(Pa.after(n)) && n.lastChild) {
                if (s = Pa.after(n.lastChild), Ys(e) && wl(n.lastChild) && yl(n.lastChild)) return bl(n.lastChild) ? Pa.before(n.lastChild) : s
            } else s = t;
            var l, c, u, d = s.container(),
                f = s.offset();
            if (vl(d)) {
                if (Ys(e) && 0 < f) return Pa(d, --f);
                if (Ws(e) && f < d.length) return Pa(d, ++f);
                r = d
            } else {
                if (Ys(e) && 0 < f && (o = _l(d, f - 1), wl(o))) return !xl(o) && (i = Xs(o, e, Cl, o)) ? vl(i) ? Pa(i, i.data.length) : Pa.after(i) : vl(o) ? Pa(o, o.data.length) : Pa.before(o);
                if (Ws(e) && f < d.childNodes.length && (o = _l(d, f), wl(o))) return bl(o) && n.lastChild === o ? null : (l = o, c = n, Po.isBr(l) && (u = El(1, Pa.after(l), c)) && !Gs(Pa.before(l), Pa.before(u), c) ? El(e, Pa.after(o), n) : !xl(o) && (i = Xs(o, e, Cl, o)) ? vl(i) ? Pa(i, 0) : Pa.before(i) : vl(o) ? Pa(o, 0) : Pa.after(o));
                r = o || s.getNode()
            }
            return (Ws(e) && s.isAtEnd() || Ys(e) && s.isAtStart()) && (r = Xs(r, e, ca.constant(!0), n, !0), Cl(r, n)) ? Sl(e, r) : (o = Xs(r, e, Cl, n), !(a = Rt.last(Rt.filter(function(e, t) {
                for (var n = []; e && e !== t;) n.push(e), e = e.parentNode;
                return n
            }(d, n), gl))) || o && a.contains(o) ? o ? Sl(e, o) : null : s = Ws(e) ? Pa.after(a) : Pa.before(a))
        },
        kl = function(t) {
            return {
                next: function(e) {
                    return El(Ja.Forwards, e, t)
                },
                prev: function(e) {
                    return El(Ja.Backwards, e, t)
                }
            }
        },
        Tl = function(e) {
            return 0 < e.length && (!(r = e[e.length - 1]).firstChild || (t = r) && t.firstChild && t.firstChild === t.lastChild && (" " === (n = t.firstChild).data || Po.isBr(n))) ? e.slice(0, -1) : e;
            var t, n, r
        },
        Nl = function(e, t) {
            var n = e.getParent(t, e.isBlock);
            return n && "LI" === n.nodeName ? n : null
        },
        Al = function(e, t) {
            var n = Pa.after(e),
                r = kl(t).prev(n);
            return r ? r.toRange() : null
        },
        Ol = function(e, o, i, t) {
            var n, r, a, s, l, c, u, d, f, h, p, m, g, v, y, b, w, x, C, _, S, E, k, T, N, A, O, R = (n = o, r = t, c = e.serialize(r), s = (a = n.createFragment(c)).firstChild, l = a.lastChild, s && "META" === s.nodeName && s.parentNode.removeChild(s), l && "mce_marker" === l.id && l.parentNode.removeChild(l), a),
                P = Nl(o, i.startContainer),
                B = Tl((C = R.firstChild, zt.grep(C.childNodes, function(e) {
                    return "LI" === e.nodeName
                }))),
                D = o.getRoot(),
                L = function(e) {
                    var t = Pa.fromRangeStart(i),
                        n = kl(o.getRoot()),
                        r = 1 === e ? n.prev(t) : n.next(t);
                    return !r || Nl(o, r.getNode()) !== P
                };
            return L(1) ? (S = B, E = D, O = (_ = P).parentNode, zt.each(S, function(e) {
                O.insertBefore(e, _)
            }), k = _, T = E, N = Pa.before(k), (A = kl(T).next(N)) ? A.toRange() : null) : L(2) ? (u = P, d = B, f = D, o.insertAfter(d.reverse(), u), Al(d[0], f)) : (p = B, m = D, g = h = P, y = (v = i).cloneRange(), b = v.cloneRange(), y.setStartBefore(g), b.setEndAfter(g), w = [y.cloneContents(), b.cloneContents()], (x = h.parentNode).insertBefore(w[0], h), zt.each(p, function(e) {
                x.insertBefore(e, h)
            }), x.insertBefore(w[1], h), x.removeChild(h), Al(p[p.length - 1], m))
        },
        Rl = Po.isText,
        Pl = Po.isBogus,
        Bl = gi.nodeIndex,
        Dl = function(e) {
            var t = e.parentNode;
            return Pl(t) ? Dl(t) : t
        },
        Ll = function(e) {
            return e ? Rt.reduce(e.childNodes, function(e, t) {
                return Pl(t) && "BR" !== t.nodeName ? e = e.concat(Ll(t)) : e.push(t), e
            }, []) : []
        },
        zl = function(t) {
            return function(e) {
                return t === e
            }
        },
        Il = function(e) {
            var t, r, n, o;
            return (Rl(e) ? "text()" : e.nodeName.toLowerCase()) + "[" + (r = Ll(Dl(t = e)), n = Rt.findIndex(r, zl(t), t), r = r.slice(0, n + 1), o = Rt.reduce(r, function(e, t, n) {
                return Rl(t) && Rl(r[n - 1]) && e++, e
            }, 0), r = Rt.filter(r, Po.matchNodeNames(t.nodeName)), (n = Rt.findIndex(r, zl(t), t)) - o) + "]"
        },
        Ml = function(e, t) {
            var n, r, o, i, a, s = [];
            return n = t.container(), r = t.offset(), Rl(n) ? o = function(e, t) {
                for (;
                    (e = e.previousSibling) && Rl(e);) t += e.data.length;
                return t
            }(n, r) : (r >= (i = n.childNodes).length ? (o = "after", r = i.length - 1) : o = "before", n = i[r]), s.push(Il(n)), a = function(e, t, n) {
                var r = [];
                for (t = t.parentNode; t !== e; t = t.parentNode) r.push(t);
                return r
            }(e, n), a = Rt.filter(a, ca.negate(Po.isBogus)), (s = s.concat(Rt.map(a, function(e) {
                return Il(e)
            }))).reverse().join("/") + "," + o
        },
        $l = function(e, t) {
            var n, r, o;
            return t ? (t = (n = t.split(","))[0].split("/"), o = 1 < n.length ? n[1] : "before", (r = Rt.reduce(t, function(e, t) {
                return (t = /([\w\-\(\)]+)\[([0-9]+)\]/.exec(t)) ? ("text()" === t[1] && (t[1] = "#text"), n = e, r = t[1], o = parseInt(t[2], 10), i = Ll(n), i = Rt.filter(i, function(e, t) {
                    return !Rl(e) || !Rl(i[t - 1])
                }), (i = Rt.filter(i, Po.matchNodeNames(r)))[o]) : null;
                var n, r, o, i
            }, e)) ? Rl(r) ? function(e, t) {
                for (var n, r = e, o = 0; Rl(r);) {
                    if (n = r.data.length, o <= t && t <= o + n) {
                        e = r, t -= o;
                        break
                    }
                    if (!Rl(r.nextSibling)) {
                        e = r, t = n;
                        break
                    }
                    o += n, r = r.nextSibling
                }
                return Rl(e) && t > e.data.length && (t = e.data.length), Pa(e, t)
            }(r, parseInt(o, 10)) : (o = "after" === o ? Bl(r) + 1 : Bl(r), Pa(r.parentNode, o)) : null) : null
        },
        Fl = Po.isContentEditableFalse,
        jl = function(e, t, n, r, o) {
            var i, a = r[o ? "startContainer" : "endContainer"],
                s = r[o ? "startOffset" : "endOffset"],
                l = [],
                c = 0,
                u = e.getRoot();
            for (Po.isText(a) ? l.push(n ? function(e, t, n) {
                    var r, o;
                    for (o = e(t.data.slice(0, n)).length, r = t.previousSibling; r && Po.isText(r); r = r.previousSibling) o += e(r.data).length;
                    return o
                }(t, a, s) : s) : (s >= (i = a.childNodes).length && i.length && (c = 1, s = Math.max(0, i.length - 1)), l.push(e.nodeIndex(i[s], n) + c)); a && a !== u; a = a.parentNode) l.push(e.nodeIndex(a, n));
            return l
        },
        Hl = function(e) {
            Po.isText(e) && 0 === e.data.length && e.parentNode.removeChild(e)
        },
        ql = function(e, t, n) {
            var r = 0;
            return zt.each(e.select(t), function(e) {
                if ("all" !== e.getAttribute("data-mce-bogus")) return e !== n && void r++
            }), r
        },
        Ul = function(e, t) {
            var n, r, o, i = t ? "start" : "end";
            n = e[i + "Container"], r = e[i + "Offset"], Po.isElement(n) && "TR" === n.nodeName && (n = (o = n.childNodes)[Math.min(t ? r : r - 1, o.length - 1)]) && (r = t ? 0 : n.childNodes.length, e["set" + (t ? "Start" : "End")](n, r))
        },
        Vl = function(e) {
            return Ul(e, !0), Ul(e, !1), e
        },
        Wl = function(e, t) {
            var n;
            if (Po.isElement(e) && (e = oa(e, t), Fl(e))) return e;
            if (Bi(e)) {
                if (Po.isText(e) && Ri(e) && (e = e.parentNode), n = e.previousSibling, Fl(n)) return n;
                if (n = e.nextSibling, Fl(n)) return n
            }
        },
        Yl = function(e, t, n) {
            var r = n.getNode(),
                o = r ? r.nodeName : null,
                i = n.getRng();
            if (Fl(r) || "IMG" === o) return {
                name: o,
                index: ql(n.dom, o, r)
            };
            var a, s, l, c, u, d, f, h = Wl((a = i).startContainer, a.startOffset) || Wl(a.endContainer, a.endOffset);
            return h ? {
                name: o = h.tagName,
                index: ql(n.dom, o, h)
            } : (s = e, c = t, u = i, d = (l = n).dom, (f = {}).start = jl(d, s, c, u, !0), l.isCollapsed() || (f.end = jl(d, s, c, u, !1)), f)
        },
        Kl = function(e, t, n) {
            var r = {
                "data-mce-type": "bookmark",
                id: t,
                style: "overflow:hidden;line-height:0px"
            };
            return n ? e.create("span", r, "&#xFEFF;") : e.create("span", r)
        },
        Xl = function(e, t) {
            var n = e.dom,
                r = e.getRng(),
                o = n.uniqueId(),
                i = e.isCollapsed(),
                a = e.getNode(),
                s = a.nodeName;
            if ("IMG" === s) return {
                name: s,
                index: ql(n, s, a)
            };
            var l = Vl(r.cloneRange());
            if (!i) {
                l.collapse(!1);
                var c = Kl(n, o + "_end", t);
                l.insertNode(c), Hl(c.nextSibling)
            }(r = Vl(r)).collapse(!0);
            var u = Kl(n, o + "_start", t);
            return r.insertNode(u), Hl(u.previousSibling), e.moveToBookmark({
                id: o,
                keep: 1
            }), {
                id: o
            }
        },
        Zl = {
            getBookmark: function(e, t, n) {
                return 2 === t ? Yl(Ni, n, e) : 3 === t ? (o = (r = e).getRng(), {
                    start: Ml(r.dom.getRoot(), Pa.fromRangeStart(o)),
                    end: Ml(r.dom.getRoot(), Pa.fromRangeEnd(o))
                }) : t ? {
                    rng: e.getRng()
                } : Xl(e, !1);
                var r, o
            },
            getUndoBookmark: H.curry(Yl, H.identity, !0),
            getPersistentBookmark: Xl
        },
        Gl = "_mce_caret",
        Ql = function(e) {
            return Po.isElement(e) && e.id === Gl
        },
        Jl = function(e, t) {
            for (; t && t !== e;) {
                if (t.id === Gl) return t;
                t = t.parentNode
            }
            return null
        },
        ec = function(e, t) {
            return !e.isBlock(t) || t.innerHTML || ve.ie || (t.innerHTML = '<br data-mce-bogus="1" />'), t
        },
        tc = function(e, t) {
            return Wa.lastPositionIn(e).fold(function() {
                return !1
            }, function(e) {
                return t.setStart(e.container(), e.offset()), t.setEnd(e.container(), e.offset()), !0
            })
        },
        nc = function(e, t, n) {
            return !(!1 !== t.hasChildNodes() || !Jl(e, t) || (o = n, i = (r = t).ownerDocument.createTextNode(Ti), r.appendChild(i), o.setStart(i, 0), o.setEnd(i, 0), 0));
            var r, o, i
        },
        rc = function(e, t, n, r) {
            var o, i, a, s, l = n[t ? "start" : "end"],
                c = e.getRoot();
            if (l) {
                for (a = l[0], i = c, o = l.length - 1; 1 <= o; o--) {
                    if (s = i.childNodes, nc(c, i, r)) return !0;
                    if (l[o] > s.length - 1) return !!nc(c, i, r) || tc(i, r);
                    i = s[l[o]]
                }
                3 === i.nodeType && (a = Math.min(l[0], i.nodeValue.length)), 1 === i.nodeType && (a = Math.min(l[0], i.childNodes.length)), t ? r.setStart(i, a) : r.setEnd(i, a)
            }
            return !0
        },
        oc = function(e) {
            return Po.isText(e) && 0 < e.data.length
        },
        ic = function(e, t, n) {
            var r, o, i, a, s, l, c = e.get(n.id + "_" + t),
                u = n.keep;
            if (c) {
                if (r = c.parentNode, o = "start" === t ? u ? c.hasChildNodes() ? (r = c.firstChild, 1) : oc(c.nextSibling) ? (r = c.nextSibling, 0) : oc(c.previousSibling) ? (r = c.previousSibling, c.previousSibling.data.length) : (r = c.parentNode, e.nodeIndex(c) + 1) : e.nodeIndex(c) : u ? c.hasChildNodes() ? (r = c.firstChild, 1) : oc(c.previousSibling) ? (r = c.previousSibling, c.previousSibling.data.length) : (r = c.parentNode, e.nodeIndex(c)) : e.nodeIndex(c), s = r, l = o, !u) {
                    for (a = c.previousSibling, i = c.nextSibling, zt.each(zt.grep(c.childNodes), function(e) {
                            Po.isText(e) && (e.nodeValue = e.nodeValue.replace(/\uFEFF/g, ""))
                        }); c = e.get(n.id + "_" + t);) e.remove(c, !0);
                    a && i && a.nodeType === i.nodeType && Po.isText(a) && !ve.opera && (o = a.nodeValue.length, a.appendData(i.nodeValue), e.remove(i), s = a, l = o)
                }
                return M.some(Pa(s, l))
            }
            return M.none()
        },
        ac = function(e, t, n) {
            return Zl.getBookmark(e, t, n)
        },
        sc = function(t, e) {
            (function(e, t) {
                var n, r, o, i, a, s, l, c, u, d, f, h, p, m, g, v, y = e.dom;
                if (t) {
                    if (v = t, zt.isArray(v.start)) return m = t, g = (p = y).createRng(), rc(p, !0, m, g) && rc(p, !1, m, g) ? M.some(g) : M.none();
                    if ("string" == typeof t.start) return M.some((d = t, f = (u = y).createRng(), h = $l(u.getRoot(), d.start), f.setStart(h.container(), h.offset()), h = $l(u.getRoot(), d.end), f.setEnd(h.container(), h.offset()), f));
                    if (t.hasOwnProperty("id")) return l = ic(o = y, "start", i = t), c = ic(o, "end", i), ua([l, (a = c, s = l, a.isSome() ? a : s)], function(e, t) {
                        var n = o.createRng();
                        return n.setStart(ec(o, e.container()), e.offset()), n.setEnd(ec(o, t.container()), t.offset()), n
                    });
                    if (t.hasOwnProperty("name")) return n = y, r = t, M.from(n.select(r.name)[r.index]).map(function(e) {
                        var t = n.createRng();
                        return t.selectNode(e), t
                    });
                    if (t.hasOwnProperty("rng")) return M.some(t.rng)
                }
                return M.none()
            })(t, e).each(function(e) {
                t.setRng(e)
            })
        },
        lc = function(e) {
            return Po.isElement(e) && "SPAN" === e.tagName && "bookmark" === e.getAttribute("data-mce-type")
        },
        cc = zt.each,
        uc = function(o) {
            this.compare = function(e, t) {
                if (e.nodeName !== t.nodeName) return !1;
                var n = function(n) {
                        var r = {};
                        return cc(o.getAttribs(n), function(e) {
                            var t = e.nodeName.toLowerCase();
                            0 !== t.indexOf("_") && "style" !== t && 0 !== t.indexOf("data-") && (r[t] = o.getAttrib(n, t))
                        }), r
                    },
                    r = function(e, t) {
                        var n, r;
                        for (r in e)
                            if (e.hasOwnProperty(r)) {
                                if (void 0 === (n = t[r])) return !1;
                                if (e[r] !== n) return !1;
                                delete t[r]
                            }
                        for (r in t)
                            if (t.hasOwnProperty(r)) return !1;
                        return !0
                    };
                return !(!r(n(e), n(t)) || !r(o.parseStyle(o.getAttrib(e, "style")), o.parseStyle(o.getAttrib(t, "style"))) || lc(e) || lc(t))
            }
        },
        dc = function(t, e) {
            q.each(e, function(e) {
                _s(t, e)
            })
        },
        fc = function(e) {
            var t = e.dom();
            null !== t.parentNode && t.parentNode.removeChild(t)
        },
        hc = function(e) {
            e.dom().textContent = "", q.each(Hr(e), function(e) {
                fc(e)
            })
        },
        pc = fc,
        mc = function(e) {
            var t, n, r = Hr(e);
            0 < r.length && (t = e, n = r, q.each(n, function(e) {
                xs(t, e)
            })), fc(e)
        },
        gc = (fl = Qn.isText, "text", hl = function(e) {
            return fl(e) ? M.from(e.dom().nodeValue) : M.none()
        }, pl = Fn.detect().browser, {
            get: function(e) {
                if (!fl(e)) throw new Error("Can only get text value of a text node");
                return ml(e).getOr("")
            },
            getOption: ml = pl.isIE() && 10 === pl.version.major ? function(e) {
                try {
                    return hl(e)
                } catch (e) {
                    return M.none()
                }
            } : hl,
            set: function(e, t) {
                if (!fl(e)) throw new Error("Can only set raw text value of a text node");
                e.dom().nodeValue = t
            }
        }),
        vc = function(e) {
            hc(e), _s(e, Hn('<br data-mce-bogus="1">'))
        },
        yc = function(n) {
            Vr(n).each(function(t) {
                $r(t).each(function(e) {
                    fo(n) && po(t) && fo(e) && pc(t)
                })
            })
        },
        bc = zt.makeMap;

    function wc(e) {
        var s, l, c, u, d, f = [];
        return s = (e = e || {}).indent, l = bc(e.indent_before || ""), c = bc(e.indent_after || ""), u = Wo.getEncodeFunc(e.entity_encoding || "raw", e.entities), d = "html" === e.element_format, {
            start: function(e, t, n) {
                var r, o, i, a;
                if (s && l[e] && 0 < f.length && 0 < (a = f[f.length - 1]).length && "\n" !== a && f.push("\n"), f.push("<", e), t)
                    for (r = 0, o = t.length; r < o; r++) i = t[r], f.push(" ", i.name, '="', u(i.value, !0), '"');
                f[f.length] = !n || d ? ">" : " />", n && s && c[e] && 0 < f.length && 0 < (a = f[f.length - 1]).length && "\n" !== a && f.push("\n")
            },
            end: function(e) {
                var t;
                f.push("</", e, ">"), s && c[e] && 0 < f.length && 0 < (t = f[f.length - 1]).length && "\n" !== t && f.push("\n")
            },
            text: function(e, t) {
                0 < e.length && (f[f.length] = t ? e : u(e))
            },
            cdata: function(e) {
                f.push("<![CDATA[", e, "]]>")
            },
            comment: function(e) {
                f.push("\x3c!--", e, "--\x3e")
            },
            pi: function(e, t) {
                t ? f.push("<?", e, " ", u(t), "?>") : f.push("<?", e, "?>"), s && f.push("\n")
            },
            doctype: function(e) {
                f.push("<!DOCTYPE", e, ">", s ? "\n" : "")
            },
            reset: function() {
                f.length = 0
            },
            getContent: function() {
                return f.join("").replace(/\n$/, "")
            }
        }
    }

    function xc(t, p) {
        void 0 === p && (p = ri());
        var m = wc(t);
        return (t = t || {}).validate = !("validate" in t) || t.validate, {
            serialize: function(e) {
                var d, f;
                f = t.validate, d = {
                    3: function(e) {
                        m.text(e.value, e.raw)
                    },
                    8: function(e) {
                        m.comment(e.value)
                    },
                    7: function(e) {
                        m.pi(e.name, e.value)
                    },
                    10: function(e) {
                        m.doctype(e.value)
                    },
                    4: function(e) {
                        m.cdata(e.value)
                    },
                    11: function(e) {
                        if (e = e.firstChild)
                            for (; h(e), e = e.next;);
                    }
                }, m.reset();
                var h = function(e) {
                    var t, n, r, o, i, a, s, l, c, u = d[e.type];
                    if (u) u(e);
                    else {
                        if (t = e.name, n = e.shortEnded, r = e.attributes, f && r && 1 < r.length && ((a = []).map = {}, c = p.getElementRule(e.name))) {
                            for (s = 0, l = c.attributesOrder.length; s < l; s++)(o = c.attributesOrder[s]) in r.map && (i = r.map[o], a.map[o] = i, a.push({
                                name: o,
                                value: i
                            }));
                            for (s = 0, l = r.length; s < l; s++)(o = r[s].name) in a.map || (i = r.map[o], a.map[o] = i, a.push({
                                name: o,
                                value: i
                            }));
                            r = a
                        }
                        if (m.start(e.name, r, n), !n) {
                            if (e = e.firstChild)
                                for (; h(e), e = e.next;);
                            m.end(t)
                        }
                    }
                };
                return 1 !== e.type || t.inner ? d[11](e) : h(e), m.getContent()
            }
        }
    }
    var Cc = function(e) {
            return e.collapsed ? e : (a = e, s = Pa.fromRangeStart(a), l = Pa.fromRangeEnd(a), c = a.commonAncestorContainer, Wa.fromPosition(!1, c, l).map(function(e) {
                return !Gs(s, l, c) && Gs(s, e, c) ? (t = s.container(), n = s.offset(), r = e.container(), o = e.offset(), (i = document.createRange()).setStart(t, n), i.setEnd(r, o), i) : a;
                var t, n, r, o, i
            }).getOr(a));
            var a, s, l, c
        },
        _c = Po.matchNodeNames("td th"),
        Sc = function(o, e, t) {
            var n, r, i, a, s, l, c, u, d, f, h, p, m, g, v, y, b, w, x, C, _, S, E = o.schema.getTextInlineElements(),
                k = o.selection,
                T = o.dom;
            if (/^ | $/.test(e) && (e = function(e) {
                    var t, n, r;
                    t = k.getRng(), n = t.startContainer, r = t.startOffset;
                    var o = function(e) {
                        return n[e] && 3 === n[e].nodeType
                    };
                    return 3 === n.nodeType && (0 < r ? e = e.replace(/^&nbsp;/, " ") : o("previousSibling") || (e = e.replace(/^ /, "&nbsp;")), r < n.length ? e = e.replace(/&nbsp;(<br>|)$/, " ") : o("nextSibling") || (e = e.replace(/(&nbsp;| )(<br>|)$/, "&nbsp;"))), e
                }(e)), n = o.parser, p = t.merge, r = xc({
                    validate: o.settings.validate
                }, o.schema), h = '<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>', l = {
                    content: e,
                    format: "html",
                    selection: !0,
                    paste: t.paste
                }, (l = o.fire("BeforeSetContent", l)).isDefaultPrevented()) o.fire("SetContent", {
                content: l.content,
                format: "html",
                selection: !0,
                paste: t.paste
            });
            else {
                -1 === (e = l.content).indexOf("{$caret}") && (e += "{$caret}"), e = e.replace(/\{\$caret\}/, h);
                var N, A, O, R, P = (u = k.getRng()).startContainer || (u.parentElement ? u.parentElement() : null),
                    B = o.getBody();
                P === B && k.isCollapsed() && T.isBlock(B.firstChild) && (N = B.firstChild) && !o.schema.getShortEndedElements()[N.nodeName] && T.isEmpty(B.firstChild) && ((u = T.createRng()).setStart(B.firstChild, 0), u.setEnd(B.firstChild, 0), k.setRng(u)), k.isCollapsed() || (o.selection.setRng(Cc(o.selection.getRng())), o.getDoc().execCommand("Delete", !1, null), O = (A = k.getRng()).startContainer, R = A.startOffset, 3 === O.nodeType && A.collapsed && (" " === O.data[R] ? (O.deleteData(R, 1), /[\u00a0| ]$/.test(e) || (e += " ")) : " " === O.data[R - 1] && (O.deleteData(R - 1, 1), /[\u00a0| ]$/.test(e) || (e = " " + e))));
                var D, L, z, I = {
                    context: (i = k.getNode()).nodeName.toLowerCase(),
                    data: t.data,
                    insert: !0
                };
                if (s = n.parse(e, I), !0 === t.paste && (m = o.schema, _ = (g = s).firstChild, S = g.lastChild, _ && "meta" === _.name && (_ = _.next), S && "mce_marker" === S.attr("id") && (S = S.prev), y = S, C = (v = m).getNonEmptyElements(), y && (y.isEmpty(C) || (b = y, v.getBlockElements()[b.name] && (x = b).firstChild && x.firstChild === x.lastChild && ("br" === (w = b.firstChild).name || " " === w.value))) && (S = S.prev), _ && _ === S && ("ul" === _.name || "ol" === _.name)) && Nl(T, i)) return u = Ol(r, T, o.selection.getRng(), s), o.selection.setRng(u), void o.fire("SetContent", l);
                if (function(e) {
                        for (var t = s; t = t.walk();) 1 === t.type && t.attr("data-mce-fragment", "1")
                    }(), "mce_marker" === (d = s.lastChild).attr("id"))
                    for (d = (c = d).prev; d; d = d.walk(!0))
                        if (3 === d.type || !T.isBlock(d.name)) {
                            o.schema.isValidChild(d.parent.name, "span") && d.parent.insert(c, d, "br" === d.name);
                            break
                        }
                if (o._selectionOverrides.showBlockCaretContainer(i), I.invalid) {
                    for (k.setContent(h), i = k.getNode(), a = o.getBody(), 9 === i.nodeType ? i = d = a : d = i; d !== a;) d = (i = d).parentNode;
                    e = i === a ? a.innerHTML : T.getOuterHTML(i), e = r.serialize(n.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i, function() {
                        return r.serialize(s)
                    }))), i === a ? T.setHTML(a, e) : T.setOuterHTML(i, e)
                } else e = r.serialize(s),
                    function(e, t, n) {
                        if ("all" === n.getAttribute("data-mce-bogus")) n.parentNode.insertBefore(e.dom.createFragment(t), n);
                        else {
                            var r = n.firstChild,
                                o = n.lastChild;
                            !r || r === o && "BR" === r.nodeName ? e.dom.setHTML(n, t) : e.selection.setContent(t)
                        }
                    }(o, e, i);
                ! function() {
                    if (p) {
                        var n = o.getBody(),
                            r = new uc(T);
                        zt.each(T.select("*[data-mce-fragment]"), function(e) {
                            for (var t = e.parentNode; t && t !== n; t = t.parentNode) E[e.nodeName.toLowerCase()] && r.compare(t, e) && T.remove(e, !0)
                        })
                    }
                }(),
                function(e) {
                    var t, n, r;
                    if (e) {
                        if (k.scrollIntoView(e), t = function(e) {
                                for (var t = o.getBody(); e && e !== t; e = e.parentNode)
                                    if ("false" === o.dom.getContentEditable(e)) return e;
                                return null
                            }(e)) return T.remove(e), k.select(t);
                        u = T.createRng(), (d = e.previousSibling) && 3 === d.nodeType ? (u.setStart(d, d.nodeValue.length), ve.ie || (f = e.nextSibling) && 3 === f.nodeType && (d.appendData(f.data), f.parentNode.removeChild(f))) : (u.setStartBefore(e), u.setEndBefore(e)), n = T.getParent(e, T.isBlock), T.remove(e), n && T.isEmpty(n) && (o.$(n).empty(), u.setStart(n, 0), u.setEnd(n, 0), _c(n) || n.getAttribute("data-mce-fragment") || !(r = function(e) {
                            var t = Pa.fromRangeStart(e);
                            if (t = kl(o.getBody()).next(t)) return t.toRange()
                        }(u)) ? T.add(n, T.create("br", {
                            "data-mce-bogus": "1"
                        })) : (u = r, T.remove(n))), k.setRng(u)
                    }
                }(T.get("mce_marker")), D = o.getBody(), zt.each(D.getElementsByTagName("*"), function(e) {
                    e.removeAttribute("data-mce-fragment")
                }), L = o.dom, z = o.selection.getStart(), M.from(L.getParent(z, "td,th")).map(Vn).each(yc), o.fire("SetContent", l), o.addVisual()
            }
        };

    function Ec(e, t, n, r, o) {
        return e(n, r) ? M.some(n) : F.isFunction(o) && o(n) ? M.none() : t(n, r, o)
    }
    var kc = function(e, t, n) {
            for (var r = e.dom(), o = F.isFunction(n) ? n : H.constant(!1); r.parentNode;) {
                r = r.parentNode;
                var i = Vn(r);
                if (t(i)) return M.some(i);
                if (o(i)) break
            }
            return M.none()
        },
        Tc = kc,
        Nc = function(e, t, n) {
            return Ec(function(e) {
                return t(e)
            }, kc, e, t, n)
        },
        Ac = wr("sections", "settings"),
        Oc = Fn.detect().deviceType.isTouch(),
        Rc = ["lists", "autolink", "autosave"],
        Pc = {
            theme: "mobile"
        },
        Bc = function(e) {
            var t = F.isArray(e) ? e.join(" ") : e,
                n = q.map(F.isString(t) ? t.split(" ") : [], Bn);
            return q.filter(n, function(e) {
                return 0 < e.length
            })
        },
        Dc = function(e, t) {
            return e.sections().hasOwnProperty(t)
        },
        Lc = function(e, t, n, r) {
            var o, i, a, s, l, c, u, d, f, h, p, m, g, v, y, b, w, x, C, _, S = (o = ["mobile"], i = r, a = or.bifilter(i, function(e, t) {
                    return q.contains(o, t)
                }), Ac(a.t, a.f)),
                E = zt.extend(t, n, S.settings(), (h = e, m = (p = S).settings().inline, h && Dc(p, "mobile") && !m ? ("mobile", u = Pc, f = (d = S.sections()).hasOwnProperty("mobile") ? d.mobile : {}, zt.extend({}, u, f)) : {}), {
                    validate: !0,
                    content_editable: S.settings().inline,
                    external_plugins: (s = n, l = S.settings(), c = l.external_plugins ? l.external_plugins : {}, s && s.external_plugins ? zt.extend({}, s.external_plugins, c) : c)
                });
            return g = e, v = S, y = E, x = Bc(n.forced_plugins), C = Bc(y.plugins), w = g && Dc(v, "mobile") ? (b = C, q.filter(b, H.curry(q.contains, Rc))) : C, _ = [].concat(Bc(x)).concat(Bc(w)), zt.extend(y, {
                plugins: _.join(" ")
            })
        },
        zc = function(e, t, n) {
            return M.from(t.settings[n]).filter(e)
        },
        Ic = H.curry(zc, F.isString),
        Mc = /[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,
        $c = function(e, t) {
            var n = t.container(),
                r = t.offset();
            return e ? Pi(n) ? Po.isText(n.nextSibling) ? Pa(n.nextSibling, 0) : Pa.after(n) : Li(t) ? Pa(n, r + 1) : t : Pi(n) ? Po.isText(n.previousSibling) ? Pa(n.previousSibling, n.previousSibling.data.length) : Pa.before(n) : zi(t) ? Pa(n, r - 1) : t
        },
        Fc = {
            isInlineTarget: function(e, t) {
                var n = Ic(e, "inline_boundaries_selector").getOr("a[href],code");
                return Sr.is(Vn(t), n)
            },
            findRootInline: function(e, t, n) {
                var r, o, i, a = (r = e, o = t, i = n, q.filter(gi.DOM.getParents(i.container(), "*", o), r));
                return M.from(a[a.length - 1])
            },
            isRtl: function(e) {
                return "rtl" === gi.DOM.getStyle(e, "direction", !0) || (t = e.textContent, Mc.test(t));
                var t
            },
            isAtZwsp: function(e) {
                return Li(e) || zi(e)
            },
            normalizePosition: $c,
            normalizeForwards: H.curry($c, !0),
            normalizeBackwards: H.curry($c, !1),
            hasSameParentBlock: function(e, t, n) {
                var r = Zs(t, e),
                    o = Zs(n, e);
                return r && r === o
            }
        },
        jc = function(e, t) {
            return Tr.contains(e, t) ? Nc(t, function(e) {
                return mo(e) || vo(e)
            }, (n = e, function(e) {
                return Tr.eq(n, Vn(e.dom().parentNode))
            })) : M.none();
            var n
        },
        Hc = function(e) {
            var t, n, r;
            e.dom.isEmpty(e.getBody()) && (e.setContent(""), r = (n = (t = e).getBody()).firstChild && t.dom.isBlock(n.firstChild) ? n.firstChild : n, t.selection.setCursorLocation(r, 0))
        },
        qc = function(e, t, n) {
            return Tc(e, function(e) {
                return Sr.is(e, t)
            }, n)
        },
        Uc = qc,
        Vc = function(e, t) {
            return Sr.one(t, e)
        },
        Wc = function(e, t) {
            return Po.isText(t) && /^[ \t\r\n]*$/.test(t.data) && !1 === (i = t, a = Vn(e), s = Vn(i), n = s, r = "pre,code", o = H.curry(Tr.eq, a), Uc(n, r, o).isSome());
            var n, r, o, i, a, s
        },
        Yc = function(e, t) {
            return Ki(t) && !1 === Wc(e, t) || (n = t, Po.isElement(n) && "A" === n.nodeName && n.hasAttribute("name")) || Kc(t);
            var n
        },
        Kc = Po.hasAttribute("data-mce-bookmark"),
        Xc = Po.hasAttribute("data-mce-bogus"),
        Zc = Po.hasAttributeValue("data-mce-bogus", "all"),
        Gc = function(e) {
            return function(e) {
                var t, n, r = 0;
                if (Yc(e, e)) return !1;
                if (!(n = e.firstChild)) return !0;
                t = new io(n, e);
                do {
                    if (Zc(n)) n = t.next(!0);
                    else if (Xc(n)) n = t.next();
                    else if (Po.isBr(n)) r++, n = t.next();
                    else {
                        if (Yc(e, n)) return !1;
                        n = t.next()
                    }
                } while (n);
                return r <= 1
            }(e.dom())
        },
        Qc = wr("block", "position"),
        Jc = wr("from", "to"),
        eu = function(e, t) {
            var n = Vn(e),
                r = Vn(t.container());
            return jc(n, r).map(function(e) {
                return Qc(e, t)
            })
        },
        tu = function(e, t, n) {
            return n.collapsed ? (i = t, r = n, a = eu(o = e, Pa.fromRangeStart(r)), s = a.bind(function(e) {
                return Wa.fromPosition(i, o, e.position()).bind(function(e) {
                    return eu(o, e).map(function(e) {
                        return t = o, n = i, r = e, Po.isBr(r.position().getNode()) && !1 === Gc(r.block()) ? Wa.positionIn(!1, r.block().dom()).bind(function(e) {
                            return e.isEqual(r.position()) ? Wa.fromPosition(n, t, e).bind(function(e) {
                                return eu(t, e)
                            }) : M.some(r)
                        }).getOr(r) : r;
                        var t, n, r
                    })
                })
            }), ua([a, s], Jc).filter(function(e) {
                return r = e, !1 === Tr.eq(r.from().block(), r.to().block()) && Ir((n = e).from().block()).bind(function(t) {
                    return Ir(n.to().block()).filter(function(e) {
                        return Tr.eq(t, e)
                    })
                }).isSome() && (t = e, !1 === Po.isContentEditableFalse(t.from().block()) && !1 === Po.isContentEditableFalse(t.to().block()));
                var t, n, r
            })) : M.none();
            var o, i, r, a, s
        },
        nu = function(e, t) {
            return n = e, r = t, o = H.constant(!1), Tr.contains(r, n) ? Mr(n, function(e) {
                return o(e) || Tr.eq(e, r)
            }).slice(0, -1) : [];
            var n, r, o
        },
        ru = nu,
        ou = function(e, t) {
            return [e].concat(nu(e, t))
        },
        iu = function(e, t) {
            Wa.positionIn(e, t.dom()).each(function(e) {
                var t = e.getNode();
                Po.isBr(t) && pc(Vn(t))
            })
        },
        au = function(e, t) {
            var n = ou(t, e);
            return q.find(n.reverse(), Gc).each(pc)
        },
        su = function(n, r, o) {
            if (Gc(o)) return pc(o), Gc(r) && vc(r), Wa.firstPositionIn(r.dom());
            iu(!0, r), iu(!1, o);
            var t, e, i, a, s = (t = Hr(r), e = q.findIndex(t, fo).fold(function() {
                return t
            }, function(e) {
                return t.slice(0, e)
            }), q.each(e, function(e) {
                pc(e)
            }), e);
            return (i = r, a = o, Tr.contains(a, i) ? Ir(i).bind(function(e) {
                return Tr.eq(e, a) ? M.some(i) : (t = a, n = Mr(i, function(e) {
                    return Tr.eq(e, t)
                }), M.from(n[n.length - 2]));
                var t, n
            }) : M.none()).fold(function() {
                au(n, r);
                var e = Wa.lastPositionIn(o.dom());
                return q.each(s, function(e) {
                    _s(o, e)
                }), e
            }, function(t) {
                var e = Wa.prevPosition(o.dom(), Pa.before(t.dom()));
                return q.each(s, function(e) {
                    xs(t, e)
                }), au(n, r), e
            })
        },
        lu = function(e, t, n, r) {
            return t ? su(e, r, n) : su(e, n, r)
        },
        cu = function(t, n) {
            var e, r = Vn(t.getBody());
            return (e = tu(r.dom(), n, t.selection.getRng()).bind(function(e) {
                return lu(r, n, e.from().block(), e.to().block())
            })).each(function(e) {
                t.selection.setRng(e.toRange())
            }), e.isSome()
        },
        uu = function(e, t) {
            var n = Vn(t),
                r = H.curry(Tr.eq, e);
            return Tc(n, wo, r).isSome()
        },
        du = function(e) {
            var n, r, o, t, i, a, s, l, c, u, d = Vn(e.getBody()),
                f = e.selection.getRng();
            return i = d, a = f, c = Wa.prevPosition(i.dom(), Pa.fromRangeStart(a)).isNone(), u = Wa.nextPosition(i.dom(), Pa.fromRangeEnd(a)).isNone(), !uu(s = i, (l = a).startContainer) && !uu(s, l.endContainer) && c && u ? ((t = e).setContent(""), t.selection.setCursorLocation(), !0) : (n = d, r = e.selection, o = r.getRng(), ua([jc(n, Vn(o.startContainer)), jc(n, Vn(o.endContainer))], function(e, t) {
                return !1 === Tr.eq(e, t) && (o.deleteContents(), lu(n, !0, e, t).each(function(e) {
                    r.setRng(e.toRange())
                }), !0)
            }).getOr(!1))
        },
        fu = function(e, t) {
            return !e.selection.isCollapsed() && du(e)
        },
        hu = function(a) {
            if (!F.isArray(a)) throw new Error("cases must be an array");
            if (0 === a.length) throw new Error("there must be at least one case");
            var s = [],
                n = {};
            return q.each(a, function(e, r) {
                var t = or.keys(e);
                if (1 !== t.length) throw new Error("one and only one name per case");
                var o = t[0],
                    i = e[o];
                if (void 0 !== n[o]) throw new Error("duplicate key detected:" + o);
                if ("cata" === o) throw new Error("cannot have a case named cata (sorry)");
                if (!F.isArray(i)) throw new Error("case arguments must be an array");
                s.push(o), n[o] = function() {
                    var e = arguments.length;
                    if (e !== i.length) throw new Error("Wrong number of arguments to case " + o + ". Expected " + i.length + " (" + i + "), got " + e);
                    for (var n = new Array(e), t = 0; t < n.length; t++) n[t] = arguments[t];
                    return {
                        fold: function() {
                            if (arguments.length !== a.length) throw new Error("Wrong number of arguments to fold. Expected " + a.length + ", got " + arguments.length);
                            return arguments[r].apply(null, n)
                        },
                        match: function(e) {
                            var t = or.keys(e);
                            if (s.length !== t.length) throw new Error("Wrong number of arguments to match. Expected: " + s.join(",") + "\nActual: " + t.join(","));
                            if (!q.forall(s, function(e) {
                                    return q.contains(t, e)
                                })) throw new Error("Not all branches were specified when using match. Specified: " + t.join(", ") + "\nRequired: " + s.join(", "));
                            return e[o].apply(null, n)
                        },
                        log: function(e) {
                            console.log(e, {
                                constructors: s,
                                constructor: o,
                                params: n
                            })
                        }
                    }
                }
            }), n
        },
        pu = hu([{
            remove: ["element"]
        }, {
            moveToElement: ["element"]
        }, {
            moveToPosition: ["position"]
        }]),
        mu = function(e, t, n, r) {
            var o = r.getNode(!1 === t);
            return jc(Vn(e), Vn(n.getNode())).map(function(e) {
                return Gc(e) ? pu.remove(e.dom()) : pu.moveToElement(o)
            }).orThunk(function() {
                return M.some(pu.moveToElement(o))
            })
        },
        gu = function(s, l, c) {
            return Wa.fromPosition(l, s, c).bind(function(e) {
                return a = e.getNode(), wo(Vn(a)) || vo(Vn(a)) ? M.none() : (t = s, o = e, i = function(e) {
                    return ho(Vn(e)) && !Gs(r, o, t)
                }, al(!(n = l), r = c).fold(function() {
                    return al(n, o).fold(H.constant(!1), i)
                }, i) ? M.none() : l && Po.isContentEditableFalse(e.getNode()) ? mu(s, l, c, e) : !1 === l && Po.isContentEditableFalse(e.getNode(!0)) ? mu(s, l, c, e) : l && cl(c) ? M.some(pu.moveToPosition(e)) : !1 === l && ll(c) ? M.some(pu.moveToPosition(e)) : M.none());
                var t, n, r, o, i, a
            })
        },
        vu = function(e, t) {
            return r = e, o = (n = t).container(), i = n.offset(), !1 === Pa.isTextPosition(n) && o === r.parentNode && i > Pa.before(r).offset() ? Pa(t.container(), t.offset() - 1) : t;
            var n, r, o, i
        },
        yu = function(e) {
            return Ki(e.previousSibling) ? M.some((t = e.previousSibling, Po.isText(t) ? Pa(t, t.data.length) : Pa.after(t))) : e.previousSibling ? Wa.lastPositionIn(e.previousSibling) : M.none();
            var t
        },
        bu = function(e) {
            return Ki(e.nextSibling) ? M.some((t = e.nextSibling, Po.isText(t) ? Pa(t, 0) : Pa.before(t))) : e.nextSibling ? Wa.firstPositionIn(e.nextSibling) : M.none();
            var t
        },
        wu = function(e, t, n) {
            return (s = e, l = t, c = n, s ? (i = l, a = c, bu(a).orThunk(function() {
                return yu(a)
            }).orThunk(function() {
                return e = i, t = a, Wa.nextPosition(e, Pa.after(t)).fold(function() {
                    return Wa.prevPosition(e, Pa.before(t))
                }, M.some);
                var e, t
            })) : (r = l, o = c, yu(o).orThunk(function() {
                return bu(o)
            }).orThunk(function() {
                return e = r, t = o, n = Pa.before(t.previousSibling ? t.previousSibling : t.parentNode), Wa.prevPosition(e, n).fold(function() {
                    return Wa.nextPosition(e, Pa.after(t))
                }, M.some);
                var e, t, n
            }))).map(H.curry(vu, n));
            var r, o, i, a, s, l, c
        },
        xu = function(t, n, e) {
            e.fold(function() {
                t.focus()
            }, function(e) {
                t.selection.setRng(e.toRange(), n)
            })
        },
        Cu = function(e, t) {
            return t && e.schema.getBlockElements().hasOwnProperty(Qn.name(t))
        },
        _u = function(e) {
            if (Gc(e)) {
                var t = Hn('<br data-mce-bogus="1">');
                return hc(e), _s(e, t), M.some(Pa.before(t.dom()))
            }
            return M.none()
        },
        Su = function(t, n, e) {
            var r, a, o, i = wu(n, t.getBody(), e.dom()),
                s = Tc(e, H.curry(Cu, t), (r = t.getBody(), function(e) {
                    return e.dom() === r
                })),
                l = (o = i, ua([$r(a = e), Fr(a), o], function(e, t, n) {
                    var r, o = e.dom(),
                        i = t.dom();
                    return Po.isText(o) && Po.isText(i) ? (r = o.data.length, o.appendData(i.data), pc(t), pc(a), n.container() === i ? Pa(o, r) : n) : (pc(a), n)
                }).orThunk(function() {
                    return pc(a), o
                }));
            t.dom.isEmpty(t.getBody()) ? (t.setContent(""), t.selection.setCursorLocation()) : s.bind(_u).fold(function() {
                xu(t, n, l)
            }, function(e) {
                xu(t, n, M.some(e))
            })
        },
        Eu = function(a, s) {
            var e, t, n, r, o, i, l, c, u, d, f, h, p;
            return (e = a.getBody(), t = s, n = a.selection.getRng(), r = rl(t ? 1 : -1, e, n), o = Pa.fromRangeStart(r), !1 === t && cl(o) ? M.some(pu.remove(o.getNode(!0))) : t && ll(o) ? M.some(pu.remove(o.getNode())) : (i = e, l = t, c = o, f = l, h = c.getNode(!1 === f), p = f ? "after" : "before", Po.isElement(h) && h.getAttribute("data-mce-caret") === p ? (u = l, d = c.getNode(!1 === l), u && Po.isContentEditableFalse(d.nextSibling) ? M.some(pu.moveToElement(d.nextSibling)) : !1 === u && Po.isContentEditableFalse(d.previousSibling) ? M.some(pu.moveToElement(d.previousSibling)) : M.none()).fold(function() {
                return gu(i, l, c)
            }, M.some) : gu(i, l, c).bind(function(e) {
                return t = i, n = c, e.fold(function(e) {
                    return M.some(pu.remove(e))
                }, function(e) {
                    return M.some(pu.moveToElement(e))
                }, function(e) {
                    return Gs(n, e, t) ? M.none() : M.some(pu.moveToPosition(e))
                });
                var t, n
            }))).map(function(e) {
                return e.fold((o = a, i = s, function(e) {
                    return o._selectionOverrides.hideFakeCaret(), Su(o, i, Vn(e)), !0
                }), (n = a, r = s, function(e) {
                    var t = r ? Pa.before(e) : Pa.after(e);
                    return n.selection.setRng(t.toRange()), !0
                }), (t = a, function(e) {
                    return t.selection.setRng(e.toRange()), !0
                }));
                var t, n, r, o, i
            }).getOr(!1)
        },
        ku = function(e, t) {
            return e.selection.isCollapsed() ? Eu(e, t) : (r = t, i = (n = e).selection.getNode(), !!Po.isContentEditableFalse(i) && (o = Vn(n.getBody()), q.each(us(o, ".mce-offscreen-selection"), pc), Su(n, r, Vn(n.selection.getNode())), Hc(n), !0));
            var n, r, o, i
        },
        Tu = function(e) {
            var t, n = function(e, t) {
                for (; t && t !== e;) {
                    if (Po.isContentEditableTrue(t) || Po.isContentEditableFalse(t)) return t;
                    t = t.parentNode
                }
                return null
            }(e.getBody(), e.selection.getNode());
            return Po.isContentEditableTrue(n) && e.dom.isBlock(n) && e.dom.isEmpty(n) && (t = e.dom.create("br", {
                "data-mce-bogus": "1"
            }), e.dom.setHTML(n, ""), n.appendChild(t), e.selection.setRng(Pa.before(t).toRange())), !0
        },
        Nu = Po.isText,
        Au = function(e) {
            return Nu(e) && e.data[0] === Ti
        },
        Ou = function(e) {
            return Nu(e) && e.data[e.data.length - 1] === Ti
        },
        Ru = function(e) {
            return e.ownerDocument.createTextNode(Ti)
        },
        Pu = function(e, t) {
            return e ? function(e) {
                if (Nu(e.previousSibling)) return Ou(e.previousSibling) || e.previousSibling.appendData(Ti), e.previousSibling;
                if (Nu(e)) return Au(e) || e.insertData(0, Ti), e;
                var t = Ru(e);
                return e.parentNode.insertBefore(t, e), t
            }(t) : function(e) {
                if (Nu(e.nextSibling)) return Au(e.nextSibling) || e.nextSibling.insertData(0, Ti), e.nextSibling;
                if (Nu(e)) return Ou(e) || e.appendData(Ti), e;
                var t = Ru(e);
                return e.nextSibling ? e.parentNode.insertBefore(t, e.nextSibling) : e.parentNode.appendChild(t), t
            }(t)
        },
        Bu = H.curry(Pu, !0),
        Du = H.curry(Pu, !1),
        Lu = function(e, t) {
            return Po.isText(e.container()) ? Pu(t, e.container()) : Pu(t, e.getNode())
        },
        zu = function(e, t) {
            var n = t.get();
            return n && e.container() === n && Pi(n)
        },
        Iu = function(n, e) {
            return e.fold(function(e) {
                Fa.remove(n.get());
                var t = Bu(e);
                return n.set(t), M.some(Pa(t, t.length - 1))
            }, function(e) {
                return Wa.firstPositionIn(e).map(function(e) {
                    if (zu(e, n)) return Pa(n.get(), 1);
                    Fa.remove(n.get());
                    var t = Lu(e, !0);
                    return n.set(t), Pa(t, 1)
                })
            }, function(e) {
                return Wa.lastPositionIn(e).map(function(e) {
                    if (zu(e, n)) return Pa(n.get(), n.get().length - 1);
                    Fa.remove(n.get());
                    var t = Lu(e, !1);
                    return n.set(t), Pa(t, t.length - 1)
                })
            }, function(e) {
                Fa.remove(n.get());
                var t = Du(e);
                return n.set(t), M.some(Pa(t, 1))
            })
        },
        Mu = function(e, t) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n].apply(null, t);
                if (r.isSome()) return r
            }
            return M.none()
        },
        $u = hu([{
            before: ["element"]
        }, {
            start: ["element"]
        }, {
            end: ["element"]
        }, {
            after: ["element"]
        }]),
        Fu = function(e, t) {
            return Zs(t, e) || e
        },
        ju = function(e, t, n) {
            var r = Fc.normalizeForwards(n),
                o = Fu(t, r.container());
            return Fc.findRootInline(e, o, r).fold(function() {
                return Wa.nextPosition(o, r).bind(H.curry(Fc.findRootInline, e, o)).map(function(e) {
                    return $u.before(e)
                })
            }, M.none)
        },
        Hu = function(e, t) {
            return null === Jl(e, t)
        },
        qu = function(e, t, n) {
            return Fc.findRootInline(e, t, n).filter(H.curry(Hu, t))
        },
        Uu = function(e, t, n) {
            var r = Fc.normalizeBackwards(n);
            return qu(e, t, r).bind(function(e) {
                return Wa.prevPosition(e, r).isNone() ? M.some($u.start(e)) : M.none()
            })
        },
        Vu = function(e, t, n) {
            var r = Fc.normalizeForwards(n);
            return qu(e, t, r).bind(function(e) {
                return Wa.nextPosition(e, r).isNone() ? M.some($u.end(e)) : M.none()
            })
        },
        Wu = function(e, t, n) {
            var r = Fc.normalizeBackwards(n),
                o = Fu(t, r.container());
            return Fc.findRootInline(e, o, r).fold(function() {
                return Wa.prevPosition(o, r).bind(H.curry(Fc.findRootInline, e, o)).map(function(e) {
                    return $u.after(e)
                })
            }, M.none)
        },
        Yu = function(e) {
            return !1 === Fc.isRtl(Xu(e))
        },
        Ku = function(e, t, n) {
            return Mu([ju, Uu, Vu, Wu], [e, t, n]).filter(Yu)
        },
        Xu = function(e) {
            return e.fold(H.identity, H.identity, H.identity, H.identity)
        },
        Zu = function(e) {
            return e.fold(H.constant("before"), H.constant("start"), H.constant("end"), H.constant("after"))
        },
        Gu = function(e) {
            return e.fold($u.before, $u.before, $u.after, $u.after)
        },
        Qu = function(n, e, r, t, o, i) {
            return ua([Fc.findRootInline(e, r, t), Fc.findRootInline(e, r, o)], function(e, t) {
                return e !== t && Fc.hasSameParentBlock(r, e, t) ? $u.after(n ? e : t) : i
            }).getOr(i)
        },
        Ju = function(e, r) {
            return e.fold(H.constant(!0), function(e) {
                return n = r, !(Zu(t = e) === Zu(n) && Xu(t) === Xu(n));
                var t, n
            })
        },
        ed = function(e, t) {
            return e ? t.fold(H.compose(M.some, $u.start), M.none, H.compose(M.some, $u.after), M.none) : t.fold(M.none, H.compose(M.some, $u.before), M.none, H.compose(M.some, $u.end))
        },
        td = function(a, s, l, c) {
            var e = Fc.normalizePosition(a, c),
                u = Ku(s, l, e);
            return Ku(s, l, e).bind(H.curry(ed, a)).orThunk(function() {
                return t = a, n = s, r = l, o = u, e = c, i = Fc.normalizePosition(t, e), Wa.fromPosition(t, r, i).map(H.curry(Fc.normalizePosition, t)).fold(function() {
                    return o.map(Gu)
                }, function(e) {
                    return Ku(n, r, e).map(H.curry(Qu, t, n, r, i, e)).filter(H.curry(Ju, o))
                }).filter(Yu);
                var t, n, r, o, e, i
            })
        },
        nd = Ku,
        rd = td,
        od = (H.curry(td, !1), H.curry(td, !0), Gu),
        id = function(e) {
            return e.fold($u.start, $u.start, $u.end, $u.end)
        },
        ad = function(e, t, n) {
            var r = e ? 1 : -1;
            return t.setRng(Pa(n.container(), n.offset() + r).toRange()), t.getSel().modify("move", e ? "forward" : "backward", "word"), !0
        },
        sd = function(e, t) {
            var n, r = t.selection.getRng(),
                o = e ? Pa.fromRangeEnd(r) : Pa.fromRangeStart(r);
            return n = t, !!F.isFunction(n.selection.getSel().modify) && (e && Li(o) ? ad(!0, t.selection, o) : !(e || !zi(o)) && ad(!1, t.selection, o))
        },
        ld = function(e, t) {
            var n = e.dom.createRng();
            n.setStart(t.container(), t.offset()), n.setEnd(t.container(), t.offset()), e.selection.setRng(n)
        },
        cd = function(e) {
            return !1 !== e.settings.inline_boundaries
        },
        ud = function(e, t) {
            e ? t.setAttribute("data-mce-selected", "inline-boundary") : t.removeAttribute("data-mce-selected")
        },
        dd = function(t, e, n) {
            return Iu(e, n).map(function(e) {
                return ld(t, e), n
            })
        },
        fd = function(e, t, n) {
            return function() {
                return !!cd(t) && sd(e, t)
            }
        },
        hd = {
            move: function(a, s, l) {
                return function() {
                    return !!cd(a) && (t = a, n = s, e = l, r = t.getBody(), o = Pa.fromRangeStart(t.selection.getRng()), i = H.curry(Fc.isInlineTarget, t), rd(e, i, r, o).bind(function(e) {
                        return dd(t, n, e)
                    })).isSome();
                    var t, n, e, r, o, i
                }
            },
            moveNextWord: H.curry(fd, !0),
            movePrevWord: H.curry(fd, !1),
            setupSelectedState: function(a) {
                var s = Ds(null),
                    l = H.curry(Fc.isInlineTarget, a);
                return a.on("NodeChange", function(e) {
                    var t, n, r, o, i;
                    cd(a) && (t = l, n = a.dom, r = e.parents, o = q.filter(n.select('*[data-mce-selected="inline-boundary"]'), t), i = q.filter(r, t), q.each(q.difference(o, i), H.curry(ud, !1)), q.each(q.difference(i, o), H.curry(ud, !0)), function(e, t) {
                        if (e.selection.isCollapsed() && !0 !== e.composing && t.get()) {
                            var n = Pa.fromRangeStart(e.selection.getRng());
                            Pa.isTextPosition(n) && !1 === Fc.isAtZwsp(n) && (ld(e, Fa.removeAndReposition(t.get(), n)), t.set(null))
                        }
                    }(a, s), function(n, r, o, e) {
                        if (r.selection.isCollapsed()) {
                            var t = q.filter(e, n);
                            q.each(t, function(e) {
                                var t = Pa.fromRangeStart(r.selection.getRng());
                                nd(n, r.getBody(), t).bind(function(e) {
                                    return dd(r, o, e)
                                })
                            })
                        }
                    }(l, a, s, e.parents))
                }), s
            },
            setCaretPosition: ld
        },
        pd = function(t, n) {
            return function(e) {
                return Iu(n, e).map(function(e) {
                    return hd.setCaretPosition(t, e), !0
                }).getOr(!1)
            }
        },
        md = function(r, o, i, a) {
            var s = r.getBody(),
                l = H.curry(Fc.isInlineTarget, r);
            r.undoManager.ignore(function() {
                var e, t, n;
                r.selection.setRng((e = i, t = a, (n = document.createRange()).setStart(e.container(), e.offset()), n.setEnd(t.container(), t.offset()), n)), r.execCommand("Delete"), nd(l, s, Pa.fromRangeStart(r.selection.getRng())).map(id).map(pd(r, o))
            }), r.nodeChanged()
        },
        gd = function(e, t, n) {
            if (e.selection.isCollapsed() && !1 !== e.settings.inline_boundaries) {
                var r = Pa.fromRangeStart(e.selection.getRng());
                return o = t, a = n, s = r, l = (i = e).getBody(), c = s.container(), u = Zs(c, l) || l, d = H.curry(Fc.isInlineTarget, i), (f = nd(d, u, s)).bind(function(e) {
                    return a ? e.fold(H.constant(M.some(id(e))), M.none, H.constant(M.some(od(e))), M.none) : e.fold(M.none, H.constant(M.some(od(e))), M.none, H.constant(M.some(id(e))))
                }).map(pd(i, o)).getOrThunk(function() {
                    var t = Wa.navigate(a, u, s),
                        e = t.bind(function(e) {
                            return nd(d, u, e)
                        });
                    return f.isSome() && e.isSome() ? Fc.findRootInline(d, u, s).map(function(e) {
                        return o = e, !!ua([Wa.firstPositionIn(o), Wa.lastPositionIn(o)], function(e, t) {
                            var n = Fc.normalizePosition(!0, e),
                                r = Fc.normalizePosition(!1, t);
                            return Wa.nextPosition(o, n).map(function(e) {
                                return e.isEqual(r)
                            }).getOr(!0)
                        }).getOr(!0) && (Su(i, a, Vn(e)), !0);
                        var o
                    }).getOr(!1) : e.bind(function(e) {
                        return t.map(function(e) {
                            return a ? md(i, o, s, e) : md(i, o, e, s), !0
                        })
                    }).getOr(!1)
                })
            }
            var i, o, a, s, l, c, u, d, f;
            return !1
        },
        vd = wr("start", "end"),
        yd = wr("rng", "table", "cells"),
        bd = hu([{
            removeTable: ["element"]
        }, {
            emptyCells: ["cells"]
        }]),
        wd = function(e, t) {
            return n = Vn(e), Ec(Sr.is, qc, n, "td,th", t);
            var n
        },
        xd = function(e, t) {
            return Uc(e, "table", t)
        },
        Cd = function(e) {
            return !1 === Tr.eq(e.start(), e.end())
        },
        _d = function(e, n) {
            return xd(e.start(), n).bind(function(t) {
                return xd(e.end(), n).bind(function(e) {
                    return Tr.eq(t, e) ? M.some(t) : M.none()
                })
            })
        },
        Sd = function(e) {
            return us(e, "td,th")
        },
        Ed = function(e, t) {
            return _d(t, e).isSome()
        },
        kd = function(e, t) {
            var n, o, i, r, a, s = (n = e, H.curry(Tr.eq, n));
            return (o = t, i = s, r = wd(o.startContainer, i), a = wd(o.endContainer, i), ua([r, a], vd).filter(Cd).filter(function(e) {
                return Ed(i, e)
            }).orThunk(function() {
                return r = i, t = wd((e = o).startContainer, r), n = wd(e.endContainer, r), e.collapsed ? M.none() : ua([t, n], vd).fold(function() {
                    return t.fold(function() {
                        return n.bind(function(t) {
                            return xd(t, r).bind(function(e) {
                                return q.head(Sd(e)).map(function(e) {
                                    return vd(e, t)
                                })
                            })
                        })
                    }, function(t) {
                        return xd(t, r).bind(function(e) {
                            return q.last(Sd(e)).map(function(e) {
                                return vd(t, e)
                            })
                        })
                    })
                }, function(e) {
                    return Ed(r, e) ? M.none() : (n = r, xd((t = e).start(), n).bind(function(e) {
                        return q.last(Sd(e)).map(function(e) {
                            return vd(t.start(), e)
                        })
                    }));
                    var t, n
                });
                var r, e, t, n
            })).bind(function(e) {
                return _d(t = e, s).map(function(e) {
                    return yd(t, e, Sd(e))
                });
                var t
            })
        },
        Td = function(e, t) {
            return q.findIndex(e, function(e) {
                return Tr.eq(e, t)
            })
        },
        Nd = function(n) {
            return (r = n, ua([Td(r.cells(), r.rng().start()), Td(r.cells(), r.rng().end())], function(e, t) {
                return r.cells().slice(e, t + 1)
            })).map(function(e) {
                var t = n.cells();
                return e.length === t.length ? bd.removeTable(n.table()) : bd.emptyCells(e)
            });
            var r
        },
        Ad = function(e) {
            var t = [];
            if (e)
                for (var n = 0; n < e.rangeCount; n++) t.push(e.getRangeAt(n));
            return t
        },
        Od = Ad,
        Rd = function(e) {
            return q.filter((t = e, q.bind(t, function(e) {
                var t = ra(e);
                return t ? [Vn(t)] : []
            })), wo);
            var t
        },
        Pd = function(e, t) {
            var n = us(t, "td[data-mce-selected],th[data-mce-selected]"),
                r = Rd(e);
            return 0 < n.length ? n : r
        },
        Bd = Pd,
        Dd = function(e) {
            return Pd(Od(e.selection.getSel()), Vn(e.getBody()))
        },
        Ld = function(e, t) {
            return q.each(t, vc), e.selection.setCursorLocation(t[0].dom(), 0), !0
        },
        zd = function(e, t) {
            return Su(e, !1, t), !0
        },
        Id = function(r, o, i, e) {
            return $d(o, e).fold(function() {
                return n = r, (e = o, t = i, kd(e, t).bind(Nd)).map(function(e) {
                    return e.fold(H.curry(zd, n), H.curry(Ld, n))
                });
                var e, t, n
            }, function(e) {
                return Fd(r, e)
            }).getOr(!1)
        },
        Md = function(e, t) {
            return q.find(ou(t, e), wo)
        },
        $d = function(e, t) {
            return q.find(ou(t, e), function(e) {
                return "caption" === Qn.name(e)
            })
        },
        Fd = function(e, t) {
            return vc(t), e.selection.setCursorLocation(t.dom(), 0), M.some(!0)
        },
        jd = function(d, f, t) {
            var h = Vn(d.getBody());
            return $d(h, t).fold(function() {
                return a = d, s = f, l = h, e = t, c = Pa.fromRangeStart(a.selection.getRng()), Md(l, e).bind(function(e) {
                    return Gc(e) ? Fd(a, e) : (t = a, n = l, r = s, o = e, i = c, Wa.navigate(r, t.getBody(), i).bind(function(e) {
                        return Md(n, Vn(e.getNode())).map(function(e) {
                            return !1 === Tr.eq(e, o)
                        })
                    }));
                    var t, n, r, o, i
                });
                var a, s, l, e, c
            }, function(e) {
                return t = d, n = f, r = h, o = e, i = Pa.fromRangeStart(t.selection.getRng()), Gc(o) ? Fd(t, o) : (a = t, s = r, l = n, c = o, u = i, Wa.navigate(l, a.getBody(), u).bind(function(e) {
                    return n = c, r = l, o = u, i = e, Wa.firstPositionIn(n.dom()).bind(function(t) {
                        return Wa.lastPositionIn(n.dom()).map(function(e) {
                            return r ? o.isEqual(t) && i.isEqual(e) : o.isEqual(e) && i.isEqual(t)
                        })
                    }).getOr(!0) ? Fd(a, c) : (t = c, $d(s, Vn(e.getNode())).map(function(e) {
                        return !1 === Tr.eq(e, t)
                    }));
                    var t, n, r, o, i
                }).or(M.some(!0)));
                var a, s, l, c, u, t, n, r, o, i
            }).getOr(!1)
        },
        Hd = function(e, t) {
            var n, r, o, i, a, s = Vn(e.selection.getStart(!0)),
                l = Dd(e);
            return e.selection.isCollapsed() && 0 === l.length ? jd(e, t, s) : (r = s, o = Vn((n = e).getBody()), i = n.selection.getRng(), 0 !== (a = Dd(n)).length ? Ld(n, a) : Id(n, o, i, r))
        },
        qd = function(e, t) {
            e.getDoc().execCommand(t, !1, null)
        },
        Ud = function(l) {
            return function(s, e) {
                return M.from(e).map(Vn).filter(Qn.isElement).bind(function(e) {
                    return (r = l, o = s, i = e.dom(), a = function(e) {
                        return br(e, r)
                    }, Nc(Vn(i), function(e) {
                        return a(e).isSome()
                    }, function(e) {
                        return Tr.eq(Vn(o), e)
                    }).bind(a)).or((t = l, n = e.dom(), M.from(gi.DOM.getStyle(n, t, !0))));
                    var t, n, r, o, i, a
                }).getOr("")
            }
        },
        Vd = {
            getFontSize: Ud("font-size"),
            getFontFamily: H.compose(function(e) {
                return e.replace(/[\'\"\\]/g, "").replace(/,\s+/g, ",")
            }, Ud("font-family")),
            toPt: function(e, t) {
                return /[0-9.]+px$/.test(e) ? (n = 72 * parseInt(e, 10) / 96, r = t || 0, o = Math.pow(10, r), Math.round(n * o) / o + "pt") : e;
                var n, r, o
            }
        },
        Wd = function(e) {
            return Wa.firstPositionIn(e.getBody()).map(function(e) {
                var t = e.container();
                return Po.isText(t) ? t.parentNode : t
            })
        },
        Yd = function(r) {
            return M.from(r.selection.getRng()).bind(function(e) {
                var t, n;
                return n = r.getBody(), (t = e).startContainer === n && 0 === t.startOffset ? M.none() : M.from(r.selection.getStart(!0))
            })
        },
        Kd = function(e, t) {
            if (/^[0-9\.]+$/.test(t)) {
                var n = parseInt(t, 10);
                if (1 <= n && n <= 7) {
                    var r = (a = e, zt.explode(a.getParam("font_size_style_values", ""))),
                        o = (i = e, zt.explode(i.getParam("font_size_classes", "")));
                    return o ? o[n - 1] || t : r[n - 1] || t
                }
                return t
            }
            var i, a;
            return t
        },
        Xd = function(e, t) {
            return e && t && e.startContainer === t.startContainer && e.startOffset === t.startOffset && e.endContainer === t.endContainer && e.endOffset === t.endOffset
        },
        Zd = function(e, t, n) {
            return null !== function(e, t, n) {
                for (; e && e !== t;) {
                    if (n(e)) return e;
                    e = e.parentNode
                }
                return null
            }(e, t, n)
        },
        Gd = function(e, t, n) {
            return Zd(e, t, function(e) {
                return e.nodeName === n
            })
        },
        Qd = function(e) {
            return e && "TABLE" === e.nodeName
        },
        Jd = function(e, t, n) {
            for (var r = new io(t, e.getParent(t.parentNode, e.isBlock) || e.getRoot()); t = r[n ? "prev" : "next"]();)
                if (Po.isBr(t)) return !0
        },
        ef = function(e, t, n, r, o) {
            var i, a, s, l, c, u, d = e.getRoot(),
                f = e.schema.getNonEmptyElements();
            if (s = e.getParent(o.parentNode, e.isBlock) || d, r && Po.isBr(o) && t && e.isEmpty(s)) return M.some(Aa(o.parentNode, e.nodeIndex(o)));
            for (i = new io(o, s); l = i[r ? "prev" : "next"]();) {
                if ("false" === e.getContentEditableParent(l) || (u = d, Bi(c = l) && !1 === Zd(c, u, Ql))) return M.none();
                if (Po.isText(l) && 0 < l.nodeValue.length) return !1 === Gd(l, d, "A") ? M.some(Aa(l, r ? l.nodeValue.length : 0)) : M.none();
                if (e.isBlock(l) || f[l.nodeName.toLowerCase()]) return M.none();
                a = l
            }
            return n && a ? M.some(Aa(a, 0)) : M.none()
        },
        tf = function(e, t, n, r) {
            var o, i, a, s, l, c, u, d, f, h = e.getRoot(),
                p = !1;
            if (o = r[(n ? "start" : "end") + "Container"], i = r[(n ? "start" : "end") + "Offset"], u = Po.isElement(o) && i === o.childNodes.length, l = e.schema.getNonEmptyElements(), c = n, Bi(o)) return M.none();
            if (Po.isElement(o) && i > o.childNodes.length - 1 && (c = !1), Po.isDocument(o) && (o = h, i = 0), o === h) {
                if (c && (s = o.childNodes[0 < i ? i - 1 : 0])) {
                    if (Bi(s)) return M.none();
                    if (l[s.nodeName] || Qd(s)) return M.none()
                }
                if (o.hasChildNodes()) {
                    if (i = Math.min(!c && 0 < i ? i - 1 : i, o.childNodes.length - 1), o = o.childNodes[i], i = Po.isText(o) && u ? o.data.length : 0, !t && o === h.lastChild && Qd(o)) return M.none();
                    if (function(e, t) {
                            for (; t && t !== e;) {
                                if (Po.isContentEditableFalse(t)) return !0;
                                t = t.parentNode
                            }
                            return !1
                        }(h, o) || Bi(o)) return M.none();
                    if (o.hasChildNodes() && !1 === Qd(o)) {
                        a = new io(s = o, h);
                        do {
                            if (Po.isContentEditableFalse(s) || Bi(s)) {
                                p = !1;
                                break
                            }
                            if (Po.isText(s) && 0 < s.nodeValue.length) {
                                i = c ? 0 : s.nodeValue.length, o = s, p = !0;
                                break
                            }
                            if (l[s.nodeName.toLowerCase()] && (!(d = s) || !/^(TD|TH|CAPTION)$/.test(d.nodeName))) {
                                i = e.nodeIndex(s), o = s.parentNode, c || i++, p = !0;
                                break
                            }
                        } while (s = c ? a.next() : a.prev())
                    }
                }
            }
            return t && (Po.isText(o) && 0 === i && ef(e, u, t, !0, o).each(function(e) {
                o = e.container(), i = e.offset(), p = !0
            }), Po.isElement(o) && ((s = o.childNodes[i]) || (s = o.childNodes[i - 1]), !s || !Po.isBr(s) || ("A", (f = s).previousSibling && "A" === f.previousSibling.nodeName) || Jd(e, s, !1) || Jd(e, s, !0) || ef(e, u, t, !0, s).each(function(e) {
                o = e.container(), i = e.offset(), p = !0
            }))), c && !t && Po.isText(o) && i === o.nodeValue.length && ef(e, u, t, !1, o).each(function(e) {
                o = e.container(), i = e.offset(), p = !0
            }), p ? M.some(Aa(o, i)) : M.none()
        },
        nf = function(e, t) {
            var n = t.collapsed,
                r = t.cloneRange(),
                o = Aa.fromRangeStart(t);
            return tf(e, n, !0, r).each(function(e) {
                n && Aa.isAbove(o, e) || r.setStart(e.container(), e.offset())
            }), n || tf(e, n, !1, r).each(function(e) {
                r.setEnd(e.container(), e.offset())
            }), n && r.collapse(!0), Xd(t, r) ? M.none() : M.some(r)
        },
        rf = function(e, t, n) {
            var r = e.create("span", {}, "&nbsp;");
            n.parentNode.insertBefore(r, n), t.scrollIntoView(r), e.remove(r)
        },
        of = function(e, t, n, r) {
            var o = e.createRng();
            r ? (o.setStartBefore(n), o.setEndBefore(n)) : (o.setStartAfter(n), o.setEndAfter(n)), t.setRng(o)
        },
        af = function(e, t) {
            var n = qn("br");
            xs(Vn(t), n), e.undoManager.add()
        },
        sf = function(e, t) {
            lf(e.getBody(), t) || Cs(Vn(t), qn("br"));
            var n = qn("br");
            Cs(Vn(t), n), rf(e.dom, e.selection, n.dom()), of(e.dom, e.selection, n.dom(), !1), e.undoManager.add()
        },
        lf = function(e, t) {
            return n = Pa.after(t), !!Po.isBr(n.getNode()) || Wa.nextPosition(e, Pa.after(t)).map(function(e) {
                return Po.isBr(e.getNode())
            }).getOr(!1);
            var n
        },
        cf = function(e) {
            return e && "A" === e.nodeName && "href" in e
        },
        uf = function(e) {
            return e.fold(H.constant(!1), cf, cf, H.constant(!1))
        },
        df = function(e, t) {
            t.fold(H.noop, H.curry(af, e), H.curry(sf, e), H.noop)
        },
        ff = function(e, t) {
            var n, r, o, i = (n = e, r = H.curry(Fc.isInlineTarget, n), o = Pa.fromRangeStart(n.selection.getRng()), nd(r, n.getBody(), o).filter(uf));
            i.isSome() ? i.each(H.curry(df, e)) : function(e, t) {
                var n, r, o = e.selection,
                    i = e.dom,
                    a = o.getRng();
                nf(i, a).each(function(e) {
                    a.setStart(e.startContainer, e.startOffset), a.setEnd(e.endContainer, e.endOffset)
                });
                var s = a.startOffset,
                    l = a.startContainer;
                if (1 === l.nodeType && l.hasChildNodes()) {
                    var c = s > l.childNodes.length - 1;
                    l = l.childNodes[Math.min(s, l.childNodes.length - 1)] || l, s = c && 3 === l.nodeType ? l.nodeValue.length : 0
                }
                var u = i.getParent(l, i.isBlock),
                    d = u ? i.getParent(u.parentNode, i.isBlock) : null,
                    f = d ? d.nodeName.toUpperCase() : "",
                    h = t && t.ctrlKey;
                "LI" !== f || h || (u = d), l && 3 === l.nodeType && s >= l.nodeValue.length && (function(e, t, n) {
                    for (var r, o = new io(l, u), i = e.getNonEmptyElements(); r = o.next();)
                        if (i[r.nodeName.toLowerCase()] || 0 < r.length) return !0
                }(e.schema) || (n = i.create("br"), a.insertNode(n), a.setStartAfter(n), a.setEndAfter(n), r = !0)), n = i.create("br"), a.insertNode(n), rf(i, o, n), of(i, o, n, r), e.undoManager.add()
            }(e, t)
        },
        hf = hu([{
            before: ["element"]
        }, {
            on: ["element", "offset"]
        }, {
            after: ["element"]
        }]),
        pf = (hf.before, hf.on, hf.after, function(e) {
            return e.fold(H.identity, H.identity, H.identity)
        }),
        mf = hu([{
            domRange: ["rng"]
        }, {
            relative: ["startSitu", "finishSitu"]
        }, {
            exact: ["start", "soffset", "finish", "foffset"]
        }]),
        gf = wr("start", "soffset", "finish", "foffset"),
        vf = {
            domRange: mf.domRange,
            relative: mf.relative,
            exact: mf.exact,
            exactFromRange: function(e) {
                return mf.exact(e.start(), e.soffset(), e.finish(), e.foffset())
            },
            range: gf,
            getWin: function(e) {
                var t = e.match({
                    domRange: function(e) {
                        return Vn(e.startContainer)
                    },
                    relative: function(e, t) {
                        return pf(e)
                    },
                    exact: function(e, t, n, r) {
                        return e
                    }
                });
                return Lr(t)
            }
        },
        yf = Fn.detect().browser,
        bf = function(e, t) {
            var n, r = Qn.isText(t) ? (n = t, gc.get(n)).length : Hr(t).length + 1;
            return r < e ? r : e < 0 ? 0 : e
        },
        wf = function(e) {
            return vf.range(e.start(), bf(e.soffset(), e.start()), e.finish(), bf(e.foffset(), e.finish()))
        },
        xf = function(e, t) {
            return Tr.contains(e, t) || Tr.eq(e, t)
        },
        Cf = function(t) {
            return function(e) {
                return xf(t, e.start()) && xf(t, e.finish())
            }
        },
        _f = function(e) {
            return vf.range(Vn(e.startContainer), e.startOffset, Vn(e.endContainer), e.endOffset)
        },
        Sf = function(e) {
            var t, n, r = Lr(e);
            return (t = r.dom(), n = t.getSelection(), (n && 0 !== n.rangeCount ? M.from(n.getRangeAt(0)) : M.none()).map(_f)).filter(Cf(e))
        },
        Ef = function(e, t) {
            return M.from(t).filter(Cf(e)).map(wf)
        },
        kf = function(e) {
            var t = document.createRange();
            try {
                return t.setStart(e.start().dom(), e.soffset()), t.setEnd(e.finish().dom(), e.foffset()), M.some(t)
            } catch (e) {
                return M.none()
            }
        },
        Tf = function(e) {
            return (e.bookmark ? e.bookmark : M.none()).bind(H.curry(Ef, Vn(e.getBody()))).bind(kf)
        },
        Nf = function(e) {
            var t = !0 === e.inline || yf.isIE() ? Sf(Vn(e.getBody())) : M.none();
            e.bookmark = t.isSome() ? t : e.bookmark
        },
        Af = Tf,
        Of = zt.each,
        Rf = zt.extend,
        Pf = zt.map,
        Bf = zt.inArray;

    function Df(u) {
        var o, i, a, t, l = {
                state: {},
                exec: {},
                value: {}
            },
            n = u.settings;
        u.on("PreInit", function() {
            o = u.dom, i = u.selection, n = u.settings, a = u.formatter
        });
        var r = function(e) {
                var t;
                if (!u.quirks.isHidden() && !u.removed) {
                    if (e = e.toLowerCase(), t = l.state[e]) return t(e);
                    try {
                        return u.getDoc().queryCommandState(e)
                    } catch (e) {}
                    return !1
                }
            },
            e = function(e, n) {
                n = n || "exec", Of(e, function(t, e) {
                    Of(e.toLowerCase().split(","), function(e) {
                        l[n][e] = t
                    })
                })
            },
            s = function(e, t, n) {
                e = e.toLowerCase(), l.value[e] = function() {
                    return t.call(n || u)
                }
            };
        Rf(this, {
            execCommand: function(t, n, r, e) {
                var o, i, a, s = !1;
                if (!u.removed) {
                    if (/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t) || e && e.skip_focus ? Tf(a = u).each(function(e) {
                            a.selection.setRng(e)
                        }) : u.focus(), (e = u.fire("BeforeExecCommand", {
                            command: t,
                            ui: n,
                            value: r
                        })).isDefaultPrevented()) return !1;
                    if (i = t.toLowerCase(), o = l.exec[i]) return o(i, n, r), u.fire("ExecCommand", {
                        command: t,
                        ui: n,
                        value: r
                    }), !0;
                    if (Of(u.plugins, function(e) {
                            if (e.execCommand && e.execCommand(t, n, r)) return u.fire("ExecCommand", {
                                command: t,
                                ui: n,
                                value: r
                            }), !(s = !0)
                        }), s) return s;
                    if (u.theme && u.theme.execCommand && u.theme.execCommand(t, n, r)) return u.fire("ExecCommand", {
                        command: t,
                        ui: n,
                        value: r
                    }), !0;
                    try {
                        s = u.getDoc().execCommand(t, n, r)
                    } catch (e) {}
                    return !!s && (u.fire("ExecCommand", {
                        command: t,
                        ui: n,
                        value: r
                    }), !0)
                }
            },
            queryCommandState: r,
            queryCommandValue: function(e) {
                var t;
                if (!u.quirks.isHidden() && !u.removed) {
                    if (e = e.toLowerCase(), t = l.value[e]) return t(e);
                    try {
                        return u.getDoc().queryCommandValue(e)
                    } catch (e) {}
                }
            },
            queryCommandSupported: function(e) {
                if (e = e.toLowerCase(), l.exec[e]) return !0;
                try {
                    return u.getDoc().queryCommandSupported(e)
                } catch (e) {}
                return !1
            },
            addCommands: e,
            addCommand: function(e, o, i) {
                e = e.toLowerCase(), l.exec[e] = function(e, t, n, r) {
                    return o.call(i || u, t, n, r)
                }
            },
            addQueryStateHandler: function(e, t, n) {
                e = e.toLowerCase(), l.state[e] = function() {
                    return t.call(n || u)
                }
            },
            addQueryValueHandler: s,
            hasCustomCommand: function(e) {
                return e = e.toLowerCase(), !!l.exec[e]
            }
        });
        var c = function(e, t, n) {
                return void 0 === t && (t = !1), void 0 === n && (n = null), u.getDoc().execCommand(e, t, n)
            },
            d = function(e) {
                return a.match(e)
            },
            f = function(e, t) {
                a.toggle(e, t ? {
                    value: t
                } : void 0), u.nodeChanged()
            },
            h = function(e) {
                t = i.getBookmark(e)
            },
            p = function() {
                i.moveToBookmark(t)
            };
        e({
            "mceResetDesignMode,mceBeginUndoLevel": function() {},
            "mceEndUndoLevel,mceAddUndoLevel": function() {
                u.undoManager.add()
            },
            "Cut,Copy,Paste": function(e) {
                var t, n = u.getDoc();
                try {
                    c(e)
                } catch (e) {
                    t = !0
                }
                if ("paste" !== e || n.queryCommandEnabled(e) || (t = !0), t || !n.queryCommandSupported(e)) {
                    var r = u.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");
                    ve.mac && (r = r.replace(/Ctrl\+/g, "⌘+")), u.notificationManager.open({
                        text: r,
                        type: "error"
                    })
                }
            },
            unlink: function() {
                if (i.isCollapsed()) {
                    var e = u.dom.getParent(u.selection.getStart(), "a");
                    e && u.dom.remove(e, !0)
                } else a.remove("link")
            },
            "JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone": function(e) {
                var t = e.substring(7);
                "full" === t && (t = "justify"), Of("left,center,right,justify".split(","), function(e) {
                    t !== e && a.remove("align" + e)
                }), "none" !== t && f("align" + t)
            },
            "InsertUnorderedList,InsertOrderedList": function(e) {
                var t, n;
                c(e), (t = o.getParent(i.getNode(), "ol,ul")) && (n = t.parentNode, /^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName) && (h(), o.split(n, t), p()))
            },
            "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": function(e) {
                f(e)
            },
            "ForeColor,HiliteColor": function(e, t, n) {
                f(e, n)
            },
            FontName: function(e, t, n) {
                var r, o;
                o = n, (r = u).formatter.toggle("fontname", {
                    value: Kd(r, o)
                }), r.nodeChanged()
            },
            FontSize: function(e, t, n) {
                var r, o;
                o = n, (r = u).formatter.toggle("fontsize", {
                    value: Kd(r, o)
                }), r.nodeChanged()
            },
            RemoveFormat: function(e) {
                a.remove(e)
            },
            mceBlockQuote: function() {
                f("blockquote")
            },
            FormatBlock: function(e, t, n) {
                return f(n || "p")
            },
            mceCleanup: function() {
                var e = i.getBookmark();
                u.setContent(u.getContent()), i.moveToBookmark(e)
            },
            mceRemoveNode: function(e, t, n) {
                var r = n || i.getNode();
                r !== u.getBody() && (h(), u.dom.remove(r, !0), p())
            },
            mceSelectNodeDepth: function(e, t, n) {
                var r = 0;
                o.getParent(i.getNode(), function(e) {
                    if (1 === e.nodeType && r++ === n) return i.select(e), !1
                }, u.getBody())
            },
            mceSelectNode: function(e, t, n) {
                i.select(n)
            },
            mceInsertContent: function(e, t, n) {
                var r, o, i, a;
                r = u, a = "string" != typeof(o = n) ? (i = zt.extend({
                    paste: o.paste,
                    data: {
                        paste: o.paste
                    }
                }, o), {
                    content: o.content,
                    details: i
                }) : {
                    content: o,
                    details: {}
                }, Sc(r, a.content, a.details)
            },
            mceInsertRawHTML: function(e, t, n) {
                var r = u.getContent();
                i.setContent("tiny_mce_marker"), u.setContent(r.replace(/tiny_mce_marker/g, function() {
                    return n
                }))
            },
            mceToggleFormat: function(e, t, n) {
                f(n)
            },
            mceSetContent: function(e, t, n) {
                u.setContent(n)
            },
            "Indent,Outdent": function(e) {
                var t, n, r, o, i, a, s, l, c;
                n = e, r = (t = u).settings, o = t.dom, i = t.selection, a = t.formatter, s = /[a-z%]+$/i.exec(r.indentation)[0], l = parseInt(r.indentation, 10), c = t.getParam("indent_use_margin", !1), t.queryCommandState("InsertUnorderedList") || t.queryCommandState("InsertOrderedList") || (r.forced_root_block || o.getParent(i.getNode(), o.isBlock) || a.apply("div"), q.each(i.getSelectedBlocks(), function(e) {
                    return function(e, t, n, r, o, i) {
                        if ("false" !== e.getContentEditable(i) && "LI" !== i.nodeName) {
                            var a = n ? "margin" : "padding";
                            if (a = "TABLE" === i.nodeName ? "margin" : a, a += "rtl" === e.getStyle(i, "direction", !0) ? "Right" : "Left", "outdent" === t) {
                                var s = Math.max(0, parseInt(i.style[a] || 0, 10) - r);
                                e.setStyle(i, a, s ? s + o : "")
                            } else s = parseInt(i.style[a] || 0, 10) + r + o, e.setStyle(i, a, s)
                        }
                    }(o, n, c, l, s, e)
                }))
            },
            mceRepaint: function() {},
            InsertHorizontalRule: function() {
                u.execCommand("mceInsertContent", !1, "<hr />")
            },
            mceToggleVisualAid: function() {
                u.hasVisual = !u.hasVisual, u.addVisual()
            },
            mceReplaceContent: function(e, t, n) {
                u.execCommand("mceInsertContent", !1, n.replace(/\{\$selection\}/g, i.getContent({
                    format: "text"
                })))
            },
            mceInsertLink: function(e, t, n) {
                var r;
                "string" == typeof n && (n = {
                    href: n
                }), r = o.getParent(i.getNode(), "a"), n.href = n.href.replace(" ", "%20"), r && n.href || a.remove("link"), n.href && a.apply("link", n, r)
            },
            selectAll: function() {
                var e = o.getParent(i.getStart(), Po.isContentEditableTrue);
                if (e) {
                    var t = o.createRng();
                    t.selectNodeContents(e), i.setRng(t)
                }
            },
            delete: function() {
                var e;
                ku(e = u, !1) || gd(e, !1) || cu(e, !1) || Hd(e) || fu(e) || (qd(e, "Delete"), Hc(e))
            },
            forwardDelete: function() {
                var e;
                ku(e = u, !0) || gd(e, !0) || cu(e, !0) || Hd(e) || fu(e) || qd(e, "ForwardDelete")
            },
            mceNewDocument: function() {
                u.setContent("")
            },
            InsertLineBreak: function(e, t, n) {
                return ff(u, n), !0
            }
        });
        var m = function(n) {
            return function() {
                var e = i.isCollapsed() ? [o.getParent(i.getNode(), o.isBlock)] : i.getSelectedBlocks(),
                    t = Pf(e, function(e) {
                        return !!a.matchNode(e, n)
                    });
                return -1 !== Bf(t, !0)
            }
        };
        e({
            JustifyLeft: m("alignleft"),
            JustifyCenter: m("aligncenter"),
            JustifyRight: m("alignright"),
            JustifyFull: m("alignjustify"),
            "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": function(e) {
                return d(e)
            },
            mceBlockQuote: function() {
                return d("blockquote")
            },
            Outdent: function() {
                var e;
                if (n.inline_styles) {
                    if ((e = o.getParent(i.getStart(), o.isBlock)) && 0 < parseInt(e.style.paddingLeft, 10)) return !0;
                    if ((e = o.getParent(i.getEnd(), o.isBlock)) && 0 < parseInt(e.style.paddingLeft, 10)) return !0
                }
                return r("InsertUnorderedList") || r("InsertOrderedList") || !n.inline_styles && !!o.getParent(i.getNode(), "BLOCKQUOTE")
            },
            "InsertUnorderedList,InsertOrderedList": function(e) {
                var t = o.getParent(i.getNode(), "ul,ol");
                return t && ("insertunorderedlist" === e && "UL" === t.tagName || "insertorderedlist" === e && "OL" === t.tagName)
            }
        }, "state"), e({
            Undo: function() {
                u.undoManager.undo()
            },
            Redo: function() {
                u.undoManager.redo()
            }
        }), s("FontName", function() {
            return Yd(t = u).fold(function() {
                return Wd(t).map(function(e) {
                    return Vd.getFontFamily(t.getBody(), e)
                }).getOr("")
            }, function(e) {
                return Vd.getFontFamily(t.getBody(), e)
            });
            var t
        }, this), s("FontSize", function() {
            return Yd(t = u).fold(function() {
                return Wd(t).map(function(e) {
                    return Vd.getFontSize(t.getBody(), e)
                }).getOr("")
            }, function(e) {
                return Vd.getFontSize(t.getBody(), e)
            });
            var t
        }, this)
    }
    var Lf = zt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend", " "),
        zf = function(a) {
            var s, l, c = this,
                u = {},
                d = function() {
                    return !1
                },
                f = function() {
                    return !0
                };
            s = (a = a || {}).scope || c, l = a.toggleEvent || d;
            var r = function(e, t, n, r) {
                    var o, i, a;
                    if (!1 === t && (t = d), t)
                        for (t = {
                                func: t
                            }, r && zt.extend(t, r), a = (i = e.toLowerCase().split(" ")).length; a--;) e = i[a], (o = u[e]) || (o = u[e] = [], l(e, !0)), n ? o.unshift(t) : o.push(t);
                    return c
                },
                h = function(e, t) {
                    var n, r, o, i, a;
                    if (e)
                        for (n = (i = e.toLowerCase().split(" ")).length; n--;) {
                            if (e = i[n], r = u[e], !e) {
                                for (o in u) l(o, !1), delete u[o];
                                return c
                            }
                            if (r) {
                                if (t)
                                    for (a = r.length; a--;) r[a].func === t && (r = r.slice(0, a).concat(r.slice(a + 1)), u[e] = r);
                                else r.length = 0;
                                r.length || (l(e, !1), delete u[e])
                            }
                        } else {
                            for (e in u) l(e, !1);
                            u = {}
                        }
                    return c
                };
            c.fire = function(e, t) {
                var n, r, o, i;
                if (e = e.toLowerCase(), (t = t || {}).type = e, t.target || (t.target = s), t.preventDefault || (t.preventDefault = function() {
                        t.isDefaultPrevented = f
                    }, t.stopPropagation = function() {
                        t.isPropagationStopped = f
                    }, t.stopImmediatePropagation = function() {
                        t.isImmediatePropagationStopped = f
                    }, t.isDefaultPrevented = d, t.isPropagationStopped = d, t.isImmediatePropagationStopped = d), a.beforeFire && a.beforeFire(t), n = u[e])
                    for (r = 0, o = n.length; r < o; r++) {
                        if ((i = n[r]).once && h(e, i.func), t.isImmediatePropagationStopped()) return t.stopPropagation(), t;
                        if (!1 === i.func.call(s, t)) return t.preventDefault(), t
                    }
                return t
            }, c.on = r, c.off = h, c.once = function(e, t, n) {
                return r(e, t, n, {
                    once: !0
                })
            }, c.has = function(e) {
                return e = e.toLowerCase(), !(!u[e] || 0 === u[e].length)
            }
        };
    zf.isNative = function(e) {
        return !!Lf[e.toLowerCase()]
    };
    var If, Mf = function(n) {
            return n._eventDispatcher || (n._eventDispatcher = new zf({
                scope: n,
                toggleEvent: function(e, t) {
                    zf.isNative(e) && n.toggleNativeEvent && n.toggleNativeEvent(e, t)
                }
            })), n._eventDispatcher
        },
        $f = {
            fire: function(e, t, n) {
                if (this.removed && "remove" !== e) return t;
                if (t = Mf(this).fire(e, t, n), !1 !== n && this.parent)
                    for (var r = this.parent(); r && !t.isPropagationStopped();) r.fire(e, t, !1), r = r.parent();
                return t
            },
            on: function(e, t, n) {
                return Mf(this).on(e, t, n)
            },
            off: function(e, t) {
                return Mf(this).off(e, t)
            },
            once: function(e, t) {
                return Mf(this).once(e, t)
            },
            hasEventListeners: function(e) {
                return Mf(this).has(e)
            }
        },
        Ff = function(e, t) {
            var n = ur(e, t);
            return void 0 === n || "" === n ? [] : n.split(" ")
        },
        jf = Ff,
        Hf = function(e) {
            return jf(e, "class")
        },
        qf = function(e, t) {
            return o = t, i = Ff(n = e, r = "class").concat([o]), void lr(n, r, i.join(" "));
            var n, r, o, i
        },
        Uf = function(e, t) {
            return n = e, r = "class", o = t, void(0 < (i = q.filter(Ff(n, r), function(e) {
                return e !== o
            })).length ? lr(n, r, i.join(" ")) : dr(n, r));
            var n, r, o, i
        },
        Vf = Hf,
        Wf = qf,
        Yf = Uf,
        Kf = function(e) {
            return void 0 !== e.dom().classList
        },
        Xf = function(e, t) {
            return Kf(e) && e.dom().classList.contains(t)
        },
        Zf = function(e, t) {
            Kf(e) ? e.dom().classList.add(t) : Wf(e, t)
        },
        Gf = function(e, t) {
            var n;
            Kf(e) ? e.dom().classList.remove(t) : Yf(e, t), 0 === (Kf(n = e) ? n.dom().classList : Vf(n)).length && dr(n, "class")
        },
        Qf = Xf,
        Jf = function(e, t, n) {
            try {
                e.getDoc().execCommand(t, !1, n)
            } catch (e) {}
        },
        eh = function(e, t) {
            var n, r, o;
            n = Vn(e.getBody()), o = t, Qf(n, r = "mce-content-readonly") && !1 === o ? Gf(n, r) : o && Zf(n, r), t ? (e.selection.controlSelection.hideResizeRect(), e.readonly = !0, e.getBody().contentEditable = "false") : (e.readonly = !1, e.getBody().contentEditable = "true", Jf(e, "StyleWithCSS", !1), Jf(e, "enableInlineTableEditing", !1), Jf(e, "enableObjectResizing", !1), e.focus(), e.nodeChanged())
        },
        th = gi.DOM,
        nh = function(e, t) {
            return "selectionchange" === t ? e.getDoc() : !e.inline && /^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t) ? e.getDoc().documentElement : e.settings.event_root ? (e.eventRoot || (e.eventRoot = th.select(e.settings.event_root)[0]), e.eventRoot) : e.getBody()
        },
        rh = function(e, t, n) {
            var r;
            (r = e).hidden || r.readonly ? !0 === e.readonly && n.preventDefault() : e.fire(t, n)
        },
        oh = function(i, a) {
            var e, t;
            if (i.delegates || (i.delegates = {}), !i.delegates[a] && !i.removed)
                if (e = nh(i, a), i.settings.event_root) {
                    if (If || (If = {}, i.editorManager.on("removeEditor", function() {
                            var e;
                            if (!i.editorManager.activeEditor && If) {
                                for (e in If) i.dom.unbind(nh(i, e));
                                If = null
                            }
                        })), If[a]) return;
                    t = function(e) {
                        for (var t = e.target, n = i.editorManager.get(), r = n.length; r--;) {
                            var o = n[r].getBody();
                            (o === t || th.isChildOf(t, o)) && rh(n[r], a, e)
                        }
                    }, If[a] = t, th.bind(e, a, t)
                } else t = function(e) {
                    rh(i, a, e)
                }, th.bind(e, a, t), i.delegates[a] = t
        },
        ih = {
            bindPendingEventDelegates: function() {
                var t = this;
                zt.each(t._pendingNativeEvents, function(e) {
                    oh(t, e)
                })
            },
            toggleNativeEvent: function(e, t) {
                var n = this;
                "focus" !== e && "blur" !== e && (t ? n.initialized ? oh(n, e) : n._pendingNativeEvents ? n._pendingNativeEvents.push(e) : n._pendingNativeEvents = [e] : n.initialized && (n.dom.unbind(nh(n, e), e, n.delegates[e]), delete n.delegates[e]))
            },
            unbindAllNativeEvents: function() {
                var e, t = this,
                    n = t.getBody(),
                    r = t.dom;
                if (t.delegates) {
                    for (e in t.delegates) t.dom.unbind(nh(t, e), e, t.delegates[e]);
                    delete t.delegates
                }!t.inline && n && r && (n.onload = null, r.unbind(t.getWin()), r.unbind(t.getDoc())), r && (r.unbind(n), r.unbind(t.getContainer()))
            }
        },
        ah = ih = zt.extend({}, $f, ih),
        sh = zt.each,
        lh = zt.explode,
        ch = {
            f9: 120,
            f10: 121,
            f11: 122
        },
        uh = zt.makeMap("alt,ctrl,shift,meta,access");

    function dh(i) {
        var a = {},
            r = [],
            s = function(e) {
                var t, n, r = {};
                for (n in sh(lh(e, "+"), function(e) {
                        e in uh ? r[e] = !0 : /^[0-9]{2,}$/.test(e) ? r.keyCode = parseInt(e, 10) : (r.charCode = e.charCodeAt(0), r.keyCode = ch[e] || e.toUpperCase().charCodeAt(0))
                    }), t = [r.keyCode], uh) r[n] ? t.push(n) : r[n] = !1;
                return r.id = t.join(","), r.access && (r.alt = !0, ve.mac ? r.ctrl = !0 : r.shift = !0), r.meta && (ve.mac ? r.meta = !0 : (r.ctrl = !0, r.meta = !1)), r
            },
            l = function(e, t, n, r) {
                var o;
                return (o = zt.map(lh(e, ">"), s))[o.length - 1] = zt.extend(o[o.length - 1], {
                    func: n,
                    scope: r || i
                }), zt.extend(o[0], {
                    desc: i.translate(t),
                    subpatterns: o.slice(1)
                })
            },
            o = function(e, t) {
                return !!t && t.ctrl === e.ctrlKey && t.meta === e.metaKey && t.alt === e.altKey && t.shift === e.shiftKey && !!(e.keyCode === t.keyCode || e.charCode && e.charCode === t.charCode) && (e.preventDefault(), !0)
            },
            c = function(e) {
                return e.func ? e.func.call(e.scope) : null
            };
        i.on("keyup keypress keydown", function(t) {
            var e, n;
            ((n = t).altKey || n.ctrlKey || n.metaKey || "keydown" === (e = t).type && 112 <= e.keyCode && e.keyCode <= 123) && !t.isDefaultPrevented() && (sh(a, function(e) {
                if (o(t, e)) return r = e.subpatterns.slice(0), "keydown" === t.type && c(e), !0
            }), o(t, r[0]) && (1 === r.length && "keydown" === t.type && c(r[0]), r.shift()))
        }), this.add = function(e, n, r, o) {
            var t;
            return "string" == typeof(t = r) ? r = function() {
                i.execCommand(t, !1, null)
            } : zt.isArray(t) && (r = function() {
                i.execCommand(t[0], t[1], t[2])
            }), sh(lh(zt.trim(e.toLowerCase())), function(e) {
                var t = l(e, n, r, o);
                a[t.id] = t
            }), !0
        }, this.remove = function(e) {
            var t = l(e);
            return !!a[t.id] && (delete a[t.id], !0)
        }
    }
    var fh = function(e) {
            var t = Dr(e).dom();
            return e.dom() === t.activeElement
        },
        hh = function(t) {
            return (e = Dr(t), n = void 0 !== e ? e.dom() : document, M.from(n.activeElement).map(Vn)).filter(function(e) {
                return t.dom().contains(e.dom())
            });
            var e, n
        },
        ph = function(t, e) {
            var n, r, o;
            (n = Vn(t.getBody()), r = e, (o = r, o.collapsed ? M.from(oa(o.startContainer, o.startOffset)).map(Vn) : M.none()).bind(function(e) {
                return bo(e) ? M.some(e) : !1 === Tr.contains(n, e) ? M.some(n) : M.none()
            })).bind(function(e) {
                return Wa.firstPositionIn(e.dom())
            }).fold(function() {
                t.selection.normalize()
            }, function(e) {
                return t.selection.setRng(e.toRange())
            })
        },
        mh = function(t) {
            if (t.setActive) try {
                t.setActive()
            } catch (e) {
                t.focus()
            } else t.focus()
        },
        gh = function(e) {
            return e.inline ? (n = e.getBody()) && (t = Vn(n), fh(t) || hh(t).isSome()) : (r = e).iframeElement && fh(Vn(r.iframeElement));
            var t, n, r
        },
        vh = function(e) {
            return e.editorManager.setActive(e)
        },
        yh = gh,
        bh = function(e, t) {
            return t.dom()[e]
        },
        wh = function(e, t) {
            return parseInt(yr(t, e), 10)
        },
        xh = H.curry(bh, "clientWidth"),
        Ch = H.curry(bh, "clientHeight"),
        _h = H.curry(wh, "margin-top"),
        Sh = H.curry(wh, "margin-left"),
        Eh = function(e, t, n) {
            var r, o, i, a, s, l, c, u, d, f, h = Vn(e.getBody()),
                p = e.inline ? h : zr(h),
                m = (r = e.inline, i = t, a = n, s = (o = p).dom().getBoundingClientRect(), {
                    x: i - (r ? s.left + o.dom().clientLeft + Sh(o) : 0),
                    y: a - (r ? s.top + o.dom().clientTop + _h(o) : 0)
                });
            return c = m.x, u = m.y, d = xh(l = p), f = Ch(l), 0 <= c && 0 <= u && c <= d && u <= f
        };

    function kh(n) {
        var t, o = [],
            i = function() {
                var e, t = n.theme;
                return t && t.getNotificationManagerImpl ? t.getNotificationManagerImpl() : {
                    open: e = function() {
                        throw new Error("Theme did not provide a NotificationManager implementation.")
                    },
                    close: e,
                    reposition: e,
                    getArgs: e
                }
            },
            a = function() {
                0 < o.length && i().reposition(o)
            },
            s = function(t) {
                q.findIndex(o, function(e) {
                    return e === t
                }).each(function(e) {
                    o.splice(e, 1)
                })
            },
            r = function(r) {
                if (!n.removed && (t = (e = n).inline ? e.getBody() : e.getContentAreaContainer(), M.from(t).map(Vn)).map(function(e) {
                        return Tr.contains(Dr(e), e)
                    }).getOr(!1)) return q.find(o, function(e) {
                    return t = i().getArgs(e), n = r, !(t.type !== n.type || t.text !== n.text || t.progressBar || t.timeout || n.progressBar || n.timeout);
                    var t, n
                }).getOrThunk(function() {
                    n.editorManager.setActive(n);
                    var e, t = i().open(r, function() {
                        s(t), a()
                    });
                    return e = t, o.push(e), a(), t
                });
                var e, t
            };
        return (t = n).on("SkinLoaded", function() {
            var e = t.settings.service_message;
            e && r({
                text: e,
                type: "warning",
                timeout: 0,
                icon: ""
            })
        }), t.on("ResizeEditor ResizeWindow", function() {
            Ce.requestAnimationFrame(a)
        }), t.on("remove", function() {
            q.each(o, function(e) {
                i().close(e)
            })
        }), {
            open: r,
            close: function() {
                M.from(o[0]).each(function(e) {
                    i().close(e), s(e), a()
                })
            },
            getNotifications: function() {
                return o
            }
        }
    }

    function Th(r) {
        var o = [],
            i = function() {
                var e, t = r.theme;
                return t && t.getWindowManagerImpl ? t.getWindowManagerImpl() : {
                    open: e = function() {
                        throw new Error("Theme did not provide a WindowManager implementation.")
                    },
                    alert: e,
                    confirm: e,
                    close: e,
                    getParams: e,
                    setParams: e
                }
            },
            a = function(e, t) {
                return function() {
                    return t ? t.apply(e, arguments) : void 0
                }
            },
            s = function(e) {
                var t;
                o.push(e), t = e, r.fire("OpenWindow", {
                    win: t
                })
            },
            l = function(n) {
                q.findIndex(o, function(e) {
                    return e === n
                }).each(function(e) {
                    var t;
                    o.splice(e, 1), t = n, r.fire("CloseWindow", {
                        win: t
                    }), 0 === o.length && r.focus()
                })
            },
            e = function() {
                return M.from(o[o.length - 1])
            };
        return r.on("remove", function() {
            q.each(o.slice(0), function(e) {
                i().close(e)
            })
        }), {
            windows: o,
            open: function(e, t) {
                r.editorManager.setActive(r), Nf(r);
                var n = i().open(e, t, l);
                return s(n), n
            },
            alert: function(e, t, n) {
                var r = i().alert(e, a(n || this, t), l);
                s(r)
            },
            confirm: function(e, t, n) {
                var r = i().confirm(e, a(n || this, t), l);
                s(r)
            },
            close: function() {
                e().each(function(e) {
                    i().close(e), l(e)
                })
            },
            getParams: function() {
                return e().map(i().getParams).getOr(null)
            },
            setParams: function(t) {
                e().each(function(e) {
                    i().setParams(e, t)
                })
            },
            getWindows: function() {
                return o
            }
        }
    }
    var Nh = Si.PluginManager,
        Ah = function(e, t) {
            e.notificationManager.open({
                type: "error",
                text: t
            })
        },
        Oh = function(e, t) {
            e._skinLoaded ? Ah(e, t) : e.on("SkinLoaded", function() {
                Ah(e, t)
            })
        },
        Rh = function(e, t) {
            var n, r;
            Oh(e, (r = function(e, t) {
                for (var n in Nh.urls)
                    if (Nh.urls[n] + "/plugin" + t + ".js" === e) return n;
                return null
            }(n = t, e.suffix)) ? "Failed to load plugin: " + r + " from url " + n : "Failed to load plugin url: " + n)
        },
        Ph = Oh,
        Bh = function(e) {
            for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
            var r = window.console;
            r && (r.error ? r.error.apply(r, arguments) : r.log.apply(r, arguments))
        },
        Dh = Si.PluginManager,
        Lh = Si.ThemeManager;

    function zh() {
        return new(V.getOrDie("XMLHttpRequest"))
    }

    function Ih(s, l) {
        var c = {},
            o = function(e, r, o, t) {
                var i, n;
                (i = new zh).open("POST", l.url), i.withCredentials = l.credentials, i.upload.onprogress = function(e) {
                    t(e.loaded / e.total * 100)
                }, i.onerror = function() {
                    o("Image upload failed due to a XHR Transport error. Code: " + i.status)
                }, i.onload = function() {
                    var e, t, n;
                    i.status < 200 || 300 <= i.status ? o("HTTP Error: " + i.status) : (e = JSON.parse(i.responseText)) && "string" == typeof e.location ? r((t = l.basePath, n = e.location, t ? t.replace(/\/$/, "") + "/" + n.replace(/^\//, "") : n)) : o("Invalid JSON: " + i.responseText)
                }, (n = new FormData).append("file", e.blob(), e.filename()), i.send(n)
            },
            u = function(e, t) {
                return {
                    url: t,
                    blobInfo: e,
                    status: !0
                }
            },
            d = function(e, t) {
                return {
                    url: "",
                    blobInfo: e,
                    status: !1,
                    error: t
                }
            },
            f = function(e, t) {
                zt.each(c[e], function(e) {
                    e(t)
                }), delete c[e]
            };
        return l = zt.extend({
            credentials: !1,
            handler: o
        }, l), {
            upload: function(e, t) {
                return l.url || l.handler !== o ? (n = e, r = t, n = zt.grep(n, function(e) {
                    return !s.isUploaded(e.blobUri())
                }), ye.all(zt.map(n, function(e) {
                    return s.isPending(e.blobUri()) ? (t = e.blobUri(), new ye(function(e) {
                        c[t] = c[t] || [], c[t].push(e)
                    })) : (o = e, i = l.handler, a = r, s.markPending(o.blobUri()), new ye(function(t) {
                        var n;
                        try {
                            var r = function() {
                                n && n.close()
                            };
                            i(o, function(e) {
                                r(), s.markUploaded(o.blobUri(), e), f(o.blobUri(), u(o, e)), t(u(o, e))
                            }, function(e) {
                                r(), s.removeFailed(o.blobUri()), f(o.blobUri(), d(o, e)), t(d(o, e))
                            }, function(e) {
                                e < 0 || 100 < e || (n || (n = a()), n.progressBar.value(e))
                            })
                        } catch (e) {
                            t(d(o, e.message))
                        }
                    }));
                    var o, i, a, t
                }))) : new ye(function(e) {
                    e([])
                });
                var n, r
            }
        }
    }

    function Mh(e, t) {
        return new(V.getOrDie("Blob"))(e, t)
    }

    function $h() {
        return new(V.getOrDie("FileReader"))
    }

    function Fh(e) {
        return new(V.getOrDie("Uint8Array"))(e)
    }
    var jh = function(e) {
            var t, n;
            return e = decodeURIComponent(e).split(","), (n = /data:([^;]+)/.exec(e[0])) && (t = n[1]), {
                type: t,
                data: e[1]
            }
        },
        Hh = function(e) {
            return 0 === e.indexOf("blob:") ? (o = e, new ye(function(e, t) {
                var n = function() {
                    t("Cannot convert " + o + " to Blob. Resource might not exist or is inaccessible.")
                };
                try {
                    var r = new zh;
                    r.open("GET", o, !0), r.responseType = "blob", r.onload = function() {
                        200 === this.status ? e(this.response) : n()
                    }, r.onerror = n, r.send()
                } catch (e) {
                    n()
                }
            })) : 0 === e.indexOf("data:") ? (i = e, new ye(function(t) {
                var e, n, r, o;
                i = jh(i);
                try {
                    o = i.data, e = V.getOrDie("atob")(o)
                } catch (e) {
                    return void t(new Mh([]))
                }
                for (n = new Fh(e.length), r = 0; r < n.length; r++) n[r] = e.charCodeAt(r);
                t(new Mh([n], {
                    type: i.type
                }))
            })) : null;
            var o, i
        },
        qh = jh,
        Uh = 0,
        Vh = function(e) {
            return (e || "blobid") + Uh++
        },
        Wh = function(r, o, i, t) {
            var a, s;
            0 !== o.src.indexOf("blob:") ? (a = qh(o.src).data, (s = r.findFirst(function(e) {
                return e.base64() === a
            })) ? i({
                image: o,
                blobInfo: s
            }) : Hh(o.src).then(function(e) {
                s = r.create(Vh(), e, a), r.add(s), i({
                    image: o,
                    blobInfo: s
                })
            }, function(e) {
                t(e)
            })) : (s = r.getByUri(o.src)) ? i({
                image: o,
                blobInfo: s
            }) : Hh(o.src).then(function(t) {
                var n;
                (n = t, new ye(function(e) {
                    var t = new $h;
                    t.onloadend = function() {
                        e(t.result)
                    }, t.readAsDataURL(n)
                })).then(function(e) {
                    a = qh(e).data, s = r.create(Vh(), t, a), r.add(s), i({
                        image: o,
                        blobInfo: s
                    })
                })
            }, function(e) {
                t(e)
            })
        },
        Yh = 0,
        Kh = function(e) {
            return e + Yh++ + (t = function() {
                return Math.round(4294967295 * Math.random()).toString(36)
            }, "s" + (new Date).getTime().toString(36) + t() + t() + t());
            var t
        };

    function Xh(l) {
        var n, o, i, t, e, r, c, a, s, u, d = (n = [], o = ca.constant, i = function(e) {
                var t, n, r;
                if (!e.blob || !e.base64) throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");
                return t = e.id || Kh("blobid"), n = e.name || t, {
                    id: o(t),
                    name: o(n),
                    filename: o(n + "." + (r = e.blob.type, {
                        "image/jpeg": "jpg",
                        "image/jpg": "jpg",
                        "image/gif": "gif",
                        "image/png": "png"
                    }[r.toLowerCase()] || "dat")),
                    blob: o(e.blob),
                    base64: o(e.base64),
                    blobUri: o(e.blobUri || Y(e.blob)),
                    uri: o(e.uri)
                }
            }, {
                create: function(e, t, n, r) {
                    return i("object" == typeof e ? e : {
                        id: e,
                        name: r,
                        blob: t,
                        base64: n
                    })
                },
                add: function(e) {
                    t(e.id()) || n.push(e)
                },
                get: t = function(t) {
                    return e(function(e) {
                        return e.id() === t
                    })
                },
                getByUri: function(t) {
                    return e(function(e) {
                        return e.blobUri() === t
                    })
                },
                findFirst: e = function(e) {
                    return Rt.filter(n, e)[0]
                },
                removeByUri: function(t) {
                    n = Rt.filter(n, function(e) {
                        return e.blobUri() !== t || (K(e.blobUri()), !1)
                    })
                },
                destroy: function() {
                    Rt.each(n, function(e) {
                        K(e.blobUri())
                    }), n = []
                }
            }),
            f = l.settings,
            h = (a = {}, s = function(e, t) {
                return {
                    status: e,
                    resultUri: t
                }
            }, {
                hasBlobUri: u = function(e) {
                    return e in a
                },
                getResultUri: function(e) {
                    var t = a[e];
                    return t ? t.resultUri : null
                },
                isPending: function(e) {
                    return !!u(e) && 1 === a[e].status
                },
                isUploaded: function(e) {
                    return !!u(e) && 2 === a[e].status
                },
                markPending: function(e) {
                    a[e] = s(1, null)
                },
                markUploaded: function(e, t) {
                    a[e] = s(2, t)
                },
                removeFailed: function(e) {
                    delete a[e]
                },
                destroy: function() {
                    a = {}
                }
            }),
            p = function(t) {
                return function(e) {
                    return l.selection ? t(e) : []
                }
            },
            m = function(e, t, n) {
                for (var r = 0; - 1 !== (r = e.indexOf(t, r)) && (e = e.substring(0, r) + n + e.substr(r + t.length), r += n.length - t.length + 1), -1 !== r;);
                return e
            },
            g = function(e, t, n) {
                return e = m(e, 'src="' + t + '"', 'src="' + n + '"'), m(e, 'data-mce-src="' + t + '"', 'data-mce-src="' + n + '"')
            },
            v = function(t, n) {
                Rt.each(l.undoManager.data, function(e) {
                    "fragmented" === e.type ? e.fragments = Rt.map(e.fragments, function(e) {
                        return g(e, t, n)
                    }) : e.content = g(e.content, t, n)
                })
            },
            y = function() {
                return l.notificationManager.open({
                    text: l.translate("Image uploading..."),
                    type: "info",
                    timeout: -1,
                    progressBar: !0
                })
            },
            b = function(n) {
                return r || (r = Ih(h, {
                    url: f.images_upload_url,
                    basePath: f.images_upload_base_path,
                    credentials: f.images_upload_credentials,
                    handler: f.images_upload_handler
                })), C().then(p(function(s) {
                    var e;
                    return e = Rt.map(s, function(e) {
                        return e.blobInfo
                    }), r.upload(e, y).then(p(function(e) {
                        var t = Rt.map(e, function(e, t) {
                            var n, r, o, i, a = s[t].image;
                            return e.status && !1 !== l.settings.images_replace_blob_uris ? (o = a, i = e.url, d.removeByUri(o.src), v(o.src, i), l.$(o).attr({
                                src: f.images_reuse_filename ? i + "?" + (new Date).getTime() : i,
                                "data-mce-src": l.convertURL(i, "src")
                            })) : e.error && (n = l, r = e.error, Oh(n, "Failed to upload image: " + r)), {
                                element: a,
                                status: e.status
                            }
                        });
                        return n && n(t), t
                    }))
                }))
            },
            w = function(e) {
                if (!1 !== f.automatic_uploads) return b(e)
            },
            x = function(e) {
                return !f.images_dataimg_filter || f.images_dataimg_filter(e)
            },
            C = function() {
                var i, a, s;
                return c || (i = h, a = d, s = {}, c = {
                    findAll: function(e, n) {
                        var t, r;
                        n || (n = ca.constant(!0)), t = Rt.filter((r = e) ? r.getElementsByTagName("img") : [], function(e) {
                            var t = e.src;
                            return !!ve.fileApi && !e.hasAttribute("data-mce-bogus") && !e.hasAttribute("data-mce-placeholder") && !(!t || t === ve.transparentSrc) && (0 === t.indexOf("blob:") ? !i.isUploaded(t) : 0 === t.indexOf("data:") && n(e))
                        });
                        var o = Rt.map(t, function(n) {
                            if (s[n.src]) return new ye(function(t) {
                                s[n.src].then(function(e) {
                                    if ("string" == typeof e) return e;
                                    t({
                                        image: n,
                                        blobInfo: e.blobInfo
                                    })
                                })
                            });
                            var e = new ye(function(e, t) {
                                Wh(a, n, e, t)
                            }).then(function(e) {
                                return delete s[e.image.src], e
                            }).catch(function(e) {
                                return delete s[n.src], e
                            });
                            return s[n.src] = e
                        });
                        return ye.all(o)
                    }
                }), c.findAll(l.getBody(), x).then(p(function(e) {
                    return e = Rt.filter(e, function(e) {
                        return "string" != typeof e || (Ph(l, e), !1)
                    }), Rt.each(e, function(e) {
                        v(e.image.src, e.blobInfo.blobUri()), e.image.src = e.blobInfo.blobUri(), e.image.removeAttribute("data-mce-src")
                    }), e
                }))
            },
            _ = function(e) {
                return e.replace(/src="(blob:[^"]+)"/g, function(e, n) {
                    var t = h.getResultUri(n);
                    if (t) return 'src="' + t + '"';
                    var r = d.getByUri(n);
                    return r || (r = Rt.reduce(l.editorManager.get(), function(e, t) {
                        return e || t.editorUpload && t.editorUpload.blobCache.getByUri(n)
                    }, null)), r ? 'src="data:' + r.blob().type + ";base64," + r.base64() + '"' : e
                })
            };
        return l.on("setContent", function() {
            !1 !== l.settings.automatic_uploads ? w() : C()
        }), l.on("RawSaveContent", function(e) {
            e.content = _(e.content)
        }), l.on("getContent", function(e) {
            e.source_view || "raw" === e.format || (e.content = _(e.content))
        }), l.on("PostRender", function() {
            l.parser.addNodeFilter("img", function(e) {
                Rt.each(e, function(e) {
                    var t = e.attr("src");
                    if (!d.getByUri(t)) {
                        var n = h.getResultUri(t);
                        n && e.attr("src", n)
                    }
                })
            })
        }), {
            blobCache: d,
            uploadImages: b,
            uploadImagesAuto: w,
            scanForImages: C,
            destroy: function() {
                d.destroy(), h.destroy(), c = r = null
            }
        }
    }
    var Zh = function(e, t) {
            return e.hasOwnProperty(t.nodeName)
        },
        Gh = function(e, t) {
            if (Po.isText(t)) {
                if (0 === t.nodeValue.length) return !0;
                if (/^\s+$/.test(t.nodeValue) && (!t.nextSibling || Zh(e, t.nextSibling))) return !0
            }
            return !1
        },
        Qh = function(e) {
            var t, n, r, o, i, a, s, l, c, u, d, f = e.settings,
                h = e.dom,
                p = e.selection,
                m = e.schema,
                g = m.getBlockElements(),
                v = p.getStart(),
                y = e.getBody();
            if (d = f.forced_root_block, v && Po.isElement(v) && d && (u = y.nodeName.toLowerCase(), m.isValidChild(u, d.toLowerCase()) && (b = g, w = y, x = v, !q.exists(ru(Vn(x), Vn(w)), function(e) {
                    return Zh(b, e.dom())
                })))) {
                var b, w, x, C, _;
                for (n = (t = p.getRng()).startContainer, r = t.startOffset, o = t.endContainer, i = t.endOffset, c = yh(e), v = y.firstChild; v;)
                    if (C = g, _ = v, Po.isText(_) || Po.isElement(_) && !Zh(C, _) && !lc(_)) {
                        if (Gh(g, v)) {
                            v = (s = v).nextSibling, h.remove(s);
                            continue
                        }
                        a || (a = h.create(d, e.settings.forced_root_block_attrs), v.parentNode.insertBefore(a, v), l = !0), v = (s = v).nextSibling, a.appendChild(s)
                    } else a = null, v = v.nextSibling;
                l && c && (t.setStart(n, r), t.setEnd(o, i), p.setRng(t), e.nodeChanged())
            }
        },
        Jh = function(t) {
            return Ur(t).fold(H.constant([t]), function(e) {
                return [t].concat(Jh(e))
            })
        },
        ep = function(t) {
            return Vr(t).fold(H.constant([t]), function(e) {
                return "br" === Qn.name(e) ? $r(e).map(function(e) {
                    return [t].concat(ep(e))
                }).getOr([]) : [t].concat(ep(e))
            })
        },
        tp = function(e, t, n, r) {
            var o = n,
                i = new io(n, o),
                a = e.schema.getNonEmptyElements();
            do {
                if (3 === n.nodeType && 0 !== zt.trim(n.nodeValue).length) return void(r ? t.setStart(n, 0) : t.setEnd(n, n.nodeValue.length));
                if (a[n.nodeName] && !/^(TD|TH)$/.test(n.nodeName)) return void(r ? t.setStartBefore(n) : "BR" === n.nodeName ? t.setEndBefore(n) : t.setEndAfter(n));
                if (ve.ie && ve.ie < 11 && e.isBlock(n) && e.isEmpty(n)) return void(r ? t.setStart(n, 0) : t.setEnd(n, 0))
            } while (n = r ? i.next() : i.prev());
            "BODY" === o.nodeName && (r ? t.setStart(o, 0) : t.setEnd(o, o.childNodes.length))
        },
        np = function(e) {
            var t = e.selection.getSel();
            return t && 0 < t.rangeCount
        };

    function rp(i) {
        var r, o = [];
        "onselectionchange" in i.getDoc() || i.on("NodeChange Click MouseUp KeyUp Focus", function(e) {
            var t, n;
            n = {
                startContainer: (t = i.selection.getRng()).startContainer,
                startOffset: t.startOffset,
                endContainer: t.endContainer,
                endOffset: t.endOffset
            }, "nodechange" !== e.type && Xd(n, r) || i.fire("SelectionChange"), r = n
        }), i.on("contextmenu", function() {
            i.fire("SelectionChange")
        }), i.on("SelectionChange", function() {
            var e = i.selection.getStart(!0);
            !e || !ve.range && i.selection.isCollapsed() || np(i) && ! function(e) {
                var t, n;
                if ((n = i.$(e).parentsUntil(i.getBody()).add(e)).length === o.length) {
                    for (t = n.length; 0 <= t && n[t] === o[t]; t--);
                    if (-1 === t) return o = n, !0
                }
                return o = n, !1
            }(e) && i.dom.isChildOf(e, i.getBody()) && i.nodeChanged({
                selectionChange: !0
            })
        }), i.on("MouseUp", function(e) {
            !e.isDefaultPrevented() && np(i) && ("IMG" === i.selection.getNode().nodeName ? Ce.setEditorTimeout(i, function() {
                i.nodeChanged()
            }) : i.nodeChanged())
        }), this.nodeChanged = function(e) {
            var t, n, r, o = i.selection;
            i.initialized && o && !i.settings.disable_nodechange && !i.readonly && (r = i.getBody(), (t = o.getStart(!0) || r).ownerDocument === i.getDoc() && i.dom.isChildOf(t, r) || (t = r), n = [], i.dom.getParent(t, function(e) {
                if (e === r) return !0;
                n.push(e)
            }), (e = e || {}).element = t, e.parents = n, i.fire("NodeChange", e))
        }
    }
    var op, ip, ap = function(e) {
            var t, n, r, o;
            return o = e.getBoundingClientRect(), n = (t = e.ownerDocument).documentElement, r = t.defaultView, {
                top: o.top + r.pageYOffset - n.clientTop,
                left: o.left + r.pageXOffset - n.clientLeft
            }
        },
        sp = Po.isContentEditableFalse,
        lp = Po.isContentEditableTrue,
        cp = function(e) {
            e && e.parentNode && e.parentNode.removeChild(e)
        },
        up = function(e) {
            e.dragging = !1, e.element = null, cp(e.ghost)
        },
        dp = function(e) {
            var t, n, r, o, i, a, _, S, E, s, l, c, u, d, f, h = {};
            t = gi.DOM, a = document, n = function(e) {
                if (0 === e.button) {
                    var t = Rt.find(f.dom.getParents(e.target), ca.or(sp, lp));
                    if (i = f.getBody(), sp(a = t) && a !== i) {
                        var n = f.dom.getPos(t),
                            r = f.getBody(),
                            o = f.getDoc().documentElement;
                        d.element = t, d.screenX = e.screenX, d.screenY = e.screenY, d.maxX = (f.inline ? r.scrollWidth : o.offsetWidth) - 2, d.maxY = (f.inline ? r.scrollHeight : o.offsetHeight) - 2, d.relX = e.pageX - n.x, d.relY = e.pageY - n.y, d.width = t.offsetWidth, d.height = t.offsetHeight, d.ghost = function(e, t, n, r) {
                            var o = t.cloneNode(!0);
                            e.dom.setStyles(o, {
                                width: n,
                                height: r
                            }), e.dom.setAttrib(o, "data-mce-selected", null);
                            var i = e.dom.create("div", {
                                class: "mce-drag-container",
                                "data-mce-bogus": "all",
                                unselectable: "on",
                                contenteditable: "false"
                            });
                            return e.dom.setStyles(i, {
                                position: "absolute",
                                opacity: .5,
                                overflow: "hidden",
                                border: 0,
                                padding: 0,
                                margin: 0,
                                width: n,
                                height: r
                            }), e.dom.setStyles(o, {
                                margin: 0,
                                boxSizing: "border-box"
                            }), i.appendChild(o), i
                        }(f, t, d.width, d.height)
                    }
                }
                var i, a
            }, _ = d = h, S = f = e, E = Ce.throttle(function(e, t) {
                S._selectionOverrides.hideFakeCaret(), S.selection.placeCaretAt(e, t)
            }, 0), r = function(e) {
                var t, n, r, o, i, a, s, l, c, u, d, f, h, p, m, g, v, y, b, w, x = Math.max(Math.abs(e.screenX - _.screenX), Math.abs(e.screenY - _.screenY));
                if (_.element && !_.dragging && 10 < x) {
                    if (S.fire("dragstart", {
                            target: _.element
                        }).isDefaultPrevented()) return;
                    _.dragging = !0, S.focus()
                }
                if (_.dragging) {
                    var C = (d = _, {
                        pageX: (h = S, p = e, m = (w = h).inline ? ap(w.getBody()) : {
                            left: 0,
                            top: 0
                        }, b = (y = h).getBody(), g = y.inline ? {
                            left: b.scrollLeft,
                            top: b.scrollTop
                        } : {
                            left: 0,
                            top: 0
                        }, f = {
                            pageX: (v = function(e, t) {
                                if (t.target.ownerDocument === e.getDoc()) return {
                                    left: t.pageX,
                                    top: t.pageY
                                };
                                var n, r, o, i, a, s = ap(e.getContentAreaContainer()),
                                    l = (r = (n = e).getBody(), o = n.getDoc().documentElement, i = {
                                        left: r.scrollLeft,
                                        top: r.scrollTop
                                    }, a = {
                                        left: r.scrollLeft || o.scrollLeft,
                                        top: r.scrollTop || o.scrollTop
                                    }, n.inline ? i : a);
                                return {
                                    left: t.pageX - s.left + l.left,
                                    top: t.pageY - s.top + l.top
                                }
                            }(h, p)).left - m.left + g.left,
                            pageY: v.top - m.top + g.top
                        }).pageX - d.relX,
                        pageY: f.pageY + 5
                    });
                    c = _.ghost, u = S.getBody(), c.parentNode !== u && u.appendChild(c), t = _.ghost, n = C, r = _.width, o = _.height, i = _.maxX, a = _.maxY, l = s = 0, t.style.left = n.pageX + "px", t.style.top = n.pageY + "px", i < n.pageX + r && (s = n.pageX + r - i), a < n.pageY + o && (l = n.pageY + o - a), t.style.width = r - s + "px", t.style.height = o - l + "px", E(e.clientX, e.clientY)
                }
            }, o = function(e) {
                if (c.dragging && (i = 3 === (s = (o = u).selection.getSel().getRangeAt(0).startContainer).nodeType ? s.parentNode : s) !== (a = c.element) && !o.dom.isChildOf(i, a) && !sp(i)) {
                    var t = ((r = c.element.cloneNode(!0)).removeAttribute("data-mce-selected"), r),
                        n = u.fire("drop", {
                            targetClone: t,
                            clientX: e.clientX,
                            clientY: e.clientY
                        });
                    n.isDefaultPrevented() || (t = n.targetClone, u.undoManager.transact(function() {
                        cp(c.element), u.insertContent(u.dom.getOuterHTML(t)), u._selectionOverrides.hideFakeCaret()
                    }))
                }
                var r, o, i, a, s;
                up(c)
            }, s = c = h, i = function() {
                s.dragging && l.fire("dragend"), up(s)
            }, (l = u = e).on("mousedown", n), e.on("mousemove", r), e.on("mouseup", o), t.bind(a, "mousemove", r), t.bind(a, "mouseup", i), e.on("remove", function() {
                t.unbind(a, "mousemove", r), t.unbind(a, "mouseup", i)
            })
        },
        fp = function(e) {
            return Rt.reduce(e, function(e, t) {
                return e.concat(function(t) {
                    var e = function(e) {
                        return Rt.map(e, function(e) {
                            return (e = Qi(e)).node = t, e
                        })
                    };
                    if (Po.isElement(t)) return e(t.getClientRects());
                    if (Po.isText(t)) {
                        var n = t.ownerDocument.createRange();
                        return n.setStart(t, 0), n.setEnd(t, t.data.length), e(n.getClientRects())
                    }
                }(t))
            }, [])
        };
    (ip = op || (op = {}))[ip.Up = -1] = "Up", ip[ip.Down = 1] = "Down";
    var hp = function(o, i, a, e, s, t) {
            var n, l, c = 0,
                u = [],
                r = function(e) {
                    var t, n, r;
                    for (r = fp([e]), -1 === o && (r = r.reverse()), t = 0; t < r.length; t++)
                        if (n = r[t], !a(n, l)) {
                            if (0 < u.length && i(n, Rt.last(u)) && c++, n.line = c, s(n)) return !0;
                            u.push(n)
                        }
                };
            return (l = Rt.last(t.getClientRects())) && (r(n = t.getNode()), function(e, t, n, r) {
                for (; r = Xs(r, e, Zi, t);)
                    if (n(r)) return
            }(o, e, r, n)), u
        },
        pp = H.curry(hp, op.Up, ta, na),
        mp = H.curry(hp, op.Down, na, ta),
        gp = function(n) {
            return function(e) {
                return t = n, e.line > t;
                var t
            }
        },
        vp = function(n) {
            return function(e) {
                return t = n, e.line === t;
                var t
            }
        },
        yp = Po.isContentEditableFalse,
        bp = Xs,
        wp = function(e, t) {
            return Math.abs(e.left - t)
        },
        xp = function(e, t) {
            return Math.abs(e.right - t)
        },
        Cp = function(e, t) {
            return e >= t.left && e <= t.right
        },
        _p = function(e, o) {
            return Rt.reduce(e, function(e, t) {
                var n, r;
                return n = Math.min(wp(e, o), xp(e, o)), r = Math.min(wp(t, o), xp(t, o)), Cp(o, t) ? t : Cp(o, e) ? e : r === n && yp(t.node) ? t : r < n ? t : e
            })
        },
        Sp = function(e, t, n, r) {
            for (; r = bp(r, e, Zi, t);)
                if (n(r)) return
        },
        Ep = function(i, a, e) {
            return !e.collapsed && q.foldl(e.getClientRects(), function(e, t) {
                return e || (o = a, (r = i) >= (n = t).left && r <= n.right && o >= n.top && o <= n.bottom);
                var n, r, o
            }, !1)
        },
        kp = function(t, n) {
            var r = null;
            return {
                cancel: function() {
                    null !== r && (clearTimeout(r), r = null)
                },
                throttle: function() {
                    var e = arguments;
                    null === r && (r = setTimeout(function() {
                        t.apply(null, e), e = r = null
                    }, n))
                }
            }
        },
        Tp = {
            BACKSPACE: 8,
            DELETE: 46,
            DOWN: 40,
            ENTER: 13,
            LEFT: 37,
            RIGHT: 39,
            SPACEBAR: 32,
            TAB: 9,
            UP: 38,
            modifierPressed: function(e) {
                return e.shiftKey || e.ctrlKey || e.altKey || this.metaKeyPressed(e)
            },
            metaKeyPressed: function(e) {
                return ve.mac ? e.metaKey : e.ctrlKey && !e.altKey
            }
        },
        Np = Po.isContentEditableTrue,
        Ap = Po.isContentEditableFalse,
        Op = cl,
        Rp = ll,
        Pp = function(e, t) {
            for (var n = e.getBody(); t && t !== n;) {
                if (Np(t) || Ap(t)) return t;
                t = t.parentNode
            }
            return null
        },
        Bp = function(S) {
            var p, e, t, E = S.getBody(),
                a = Is(S.getBody(), function(e) {
                    return S.dom.isBlock(e)
                }, function() {
                    return yh(S)
                }),
                m = "sel-" + S.dom.uniqueId(),
                k = function(e) {
                    e && S.selection.setRng(e)
                },
                s = function() {
                    return S.selection.getRng()
                },
                T = function(e, t, n, r) {
                    return void 0 === r && (r = !0), S.fire("ShowCaret", {
                        target: t,
                        direction: e,
                        before: n
                    }).isDefaultPrevented() ? null : (r && S.selection.scrollIntoView(t, -1 === e), a.show(n, t))
                },
                g = function(e, t) {
                    return t = rl(e, E, t), -1 === e ? Pa.fromRangeStart(t) : Pa.fromRangeEnd(t)
                },
                n = function(e) {
                    return Bi(e) || Ii(e) || Mi(e)
                },
                v = function(e) {
                    return n(e.startContainer) || n(e.endContainer)
                },
                N = function(e, t) {
                    var n, r, o, i, a, s, l, c, u, d, f = S.$,
                        h = S.dom;
                    if (!e) return null;
                    if (e.collapsed) {
                        if (!v(e))
                            if (!1 === t) {
                                if (c = g(-1, e), Ms(c.getNode(!0))) return T(-1, c.getNode(!0), !1, !1);
                                if (Ms(c.getNode())) return T(-1, c.getNode(), !c.isAtEnd(), !1)
                            } else {
                                if (c = g(1, e), Ms(c.getNode())) return T(1, c.getNode(), !c.isAtEnd(), !1);
                                if (Ms(c.getNode(!0))) return T(1, c.getNode(!0), !1, !1)
                            }
                        return null
                    }
                    return i = e.startContainer, a = e.startOffset, s = e.endOffset, 3 === i.nodeType && 0 === a && Ap(i.parentNode) && (i = i.parentNode, a = h.nodeIndex(i), i = i.parentNode), 1 !== i.nodeType ? null : (s === a + 1 && (n = i.childNodes[a]), Ap(n) ? (u = d = n.cloneNode(!0), (l = S.fire("ObjectSelected", {
                        target: n,
                        targetClone: u
                    })).isDefaultPrevented() ? null : (r = Vc(Vn(S.getBody()), "#" + m).fold(function() {
                        return f([])
                    }, function(e) {
                        return f([e.dom()])
                    }), u = l.targetClone, 0 === r.length && (r = f('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id", m)).appendTo(S.getBody()), e = S.dom.createRng(), u === d && ve.ie ? (r.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(u), e.setStartAfter(r[0].firstChild.firstChild), e.setEndAfter(u)) : (r.empty().append(" ").append(u).append(" "), e.setStart(r[0].firstChild, 1), e.setEnd(r[0].lastChild, 0)), r.css({
                        top: h.getPos(n, S.getBody()).y
                    }), r[0].focus(), (o = S.selection.getSel()).removeAllRanges(), o.addRange(e), q.each(us(Vn(S.getBody()), "*[data-mce-selected]"), function(e) {
                        dr(e, "data-mce-selected")
                    }), n.setAttribute("data-mce-selected", "1"), p = n, O(), e)) : null)
                },
                A = function() {
                    p && p.removeAttribute("data-mce-selected"), Vc(Vn(S.getBody()), "#" + m).each(pc), p = null
                },
                O = function() {
                    a.hide()
                };
            return ve.ceFalse && (function() {
                S.on("mouseup", function(e) {
                    var t = s();
                    t.collapsed && Eh(S, e.clientX, e.clientY) && k(Ga(S, t, !1))
                }), S.on("click", function(e) {
                    var t;
                    (t = Pp(S, e.target)) && (Ap(t) && (e.preventDefault(), S.focus()), Np(t) && S.dom.isChildOf(t, S.selection.getNode()) && A())
                }), S.on("blur NewBlock", function() {
                    A()
                }), S.on("ResizeWindow FullscreenStateChanged", function() {
                    return a.reposition()
                });
                var n, r, t, e, o, i;
                r = !1, (n = S).on("touchstart", function() {
                    r = !1
                }), n.on("touchmove", function() {
                    r = !0
                }), n.on("touchend", function(e) {
                    var t = Pp(n, e.target);
                    Ap(t) && (r || (e.preventDefault(), N(Za(n, t))))
                }), S.on("mousedown", function(e) {
                    var t, n, r, o, i, a, s, l, c, u, d, f, h, p, m, g, v, y, b, w, x = e.target;
                    if ((x === E || "HTML" === x.nodeName || S.dom.isChildOf(x, E)) && !1 !== Eh(S, e.clientX, e.clientY))
                        if (t = Pp(S, x)) Ap(t) ? (e.preventDefault(), N(Za(S, t))) : (A(), Np(t) && e.shiftKey || Ep(e.clientX, e.clientY, S.selection.getRng()) || (O(), S.selection.placeCaretAt(e.clientX, e.clientY)));
                        else if (!1 === Ms(x)) {
                        A(), O();
                        var C = (l = E, c = e.clientX, u = e.clientY, b = fp((f = l, Rt.filter(Rt.toArray(f.getElementsByTagName("*")), Ms))), w = Rt.filter(b, function(e) {
                            return u >= e.top && u <= e.bottom
                        }), (d = _p(w, c)) && (d = _p((m = l, y = function(t, e) {
                            var n;
                            return n = Rt.filter(fp([e]), function(e) {
                                return !t(e, g)
                            }), v = v.concat(n), 0 === n.length
                        }, (v = []).push(g = d), Sp(op.Up, m, H.curry(y, ta), g.node), Sp(op.Down, m, H.curry(y, na), g.node), v), c)) && Ms(d.node) ? (p = c, {
                            node: (h = d).node,
                            before: wp(h, p) < xp(h, p)
                        }) : null);
                        if (C && (n = e.target, r = C.node, a = S.dom.getParent(n, S.dom.isBlock), s = S.dom.getParent(r, S.dom.isBlock), !(a && S.dom.isChildOf(a, s) && !1 === Ap(Pp(S, a)) || a && (o = a, i = s, S.dom.getParent(o, S.dom.isBlock) !== S.dom.getParent(i, S.dom.isBlock)) && function(e) {
                                var t = kl(e);
                                if (!e.firstChild) return !1;
                                var n = Pa.before(e.firstChild),
                                    r = t.next(n);
                                return r && !Rp(r) && !Op(r)
                            }(a)))) {
                            e.preventDefault();
                            var _ = T(1, C.node, C.before, !1);
                            S.getBody().focus(), k(_)
                        }
                    }
                }), S.on("keypress", function(e) {
                    Tp.modifierPressed(e) || (e.keyCode, Ap(S.selection.getNode()) && e.preventDefault())
                }), S.on("getSelectionRange", function(e) {
                    var t = e.range;
                    if (p) {
                        if (!p.parentNode) return void(p = null);
                        (t = t.cloneRange()).selectNode(p), e.range = t
                    }
                }), S.on("setSelectionRange", function(e) {
                    var t;
                    (t = N(e.range, e.forward)) && (e.range = t)
                }), S.on("AfterSetSelectionRange", function(e) {
                    var t, n = e.range;
                    v(n) || O(), t = n.startContainer.parentNode, S.dom.hasClass(t, "mce-offscreen-selection") || A()
                }), S.on("copy", function(e) {
                    var t, n = e.clipboardData;
                    if (!e.isDefaultPrevented() && e.clipboardData && !ve.ie) {
                        var r = (t = S.dom.get(m)) ? t.getElementsByTagName("*")[0] : t;
                        r && (e.preventDefault(), n.clearData(), n.setData("text/html", r.outerHTML), n.setData("text/plain", r.outerText))
                    }
                }), dp(o = S), (i = o).on("drop", function(e) {
                    var t = void 0 !== e.clientX ? i.getDoc().elementFromPoint(e.clientX, e.clientY) : null;
                    (sp(t) || sp(i.dom.getContentEditableParent(t))) && e.preventDefault()
                }), t = S, e = kp(function() {
                    if (!t.removed && t.selection.getRng().collapsed) {
                        var e = Qa(t, t.selection.getRng(), !1);
                        t.selection.setRng(e)
                    }
                }, 0), t.on("focus", function() {
                    e.throttle()
                }), t.on("blur", function() {
                    e.cancel()
                })
            }(), t = ".mce-content-body", (e = S.contentStyles).push(a.getCss()), e.push(t + " .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}" + t + " *[contentEditable=false] {cursor: default;}" + t + " *[contentEditable=true] {cursor: text;}")), {
                showCaret: T,
                showBlockCaretContainer: function(e) {
                    e.hasAttribute("data-mce-caret") && ($i(e), k(s()), S.selection.scrollIntoView(e[0]))
                },
                hideFakeCaret: O,
                destroy: function() {
                    a.destroy(), p = null
                }
            }
        },
        Dp = function(e, t, n) {
            var r, o, i, a, s = 1;
            for (a = e.getShortEndedElements(), (i = /<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex = r = n; o = i.exec(t);) {
                if (r = i.lastIndex, "/" === o[1]) s--;
                else if (!o[1]) {
                    if (o[2] in a) continue;
                    s++
                }
                if (0 === s) break
            }
            return r
        };

    function Lp(M, $) {
        void 0 === $ && ($ = ri());
        var e = function() {};
        !1 !== (M = M || {}).fix_self_closing && (M.fix_self_closing = !0);
        var F = M.comment ? M.comment : e,
            j = M.cdata ? M.cdata : e,
            H = M.text ? M.text : e,
            q = M.start ? M.start : e,
            U = M.end ? M.end : e,
            V = M.pi ? M.pi : e,
            W = M.doctype ? M.doctype : e;
        return {
            parse: function(e) {
                var t, n, r, d, o, i, a, f, s, l, h, c, p, u, m, g, v, y, b, w, x, C, _, S, E, k, T, N, A, O = 0,
                    R = [],
                    P = 0,
                    B = Wo.decode,
                    D = zt.makeMap("src,href,data,background,formaction,poster,xlink:href"),
                    L = /((java|vb)script|mhtml):/i,
                    z = function(e) {
                        var t, n;
                        for (t = R.length; t-- && R[t].name !== e;);
                        if (0 <= t) {
                            for (n = R.length - 1; t <= n; n--)(e = R[n]).valid && U(e.name);
                            R.length = t
                        }
                    },
                    I = function(e, t, n, r, o) {
                        var i, a, s, l, c;
                        if (n = (t = t.toLowerCase()) in h ? t : B(n || r || o || ""), p && !f && 0 == (0 === (s = t).indexOf("data-") || 0 === s.indexOf("aria-"))) {
                            if (!(i = y[t]) && b) {
                                for (a = b.length; a-- && !(i = b[a]).pattern.test(t);); - 1 === a && (i = null)
                            }
                            if (!i) return;
                            if (i.validValues && !(n in i.validValues)) return
                        }
                        if (D[t] && !M.allow_script_urls) {
                            var u = n.replace(/[\s\u0000-\u001F]+/g, "");
                            try {
                                u = decodeURIComponent(u)
                            } catch (e) {
                                u = unescape(u)
                            }
                            if (L.test(u)) return;
                            if (c = u, !(l = M).allow_html_data_urls && (/^data:image\//i.test(c) ? !1 === l.allow_svg_data_urls && /^data:image\/svg\+xml/i.test(c) : /^data:/i.test(c))) return
                        }
                        f && (t in D || 0 === t.indexOf("on")) || (d.map[t] = n, d.push({
                            name: t,
                            value: n
                        }))
                    };
                for (E = new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))", "g"), k = /([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g, l = $.getShortEndedElements(), S = M.self_closing_elements || $.getSelfClosingElements(), h = $.getBoolAttrs(), p = M.validate, s = M.remove_internals, A = M.fix_self_closing, T = $.getSpecialElements(), _ = e + ">"; t = E.exec(_);) {
                    if (O < t.index && H(B(e.substr(O, t.index - O))), n = t[6]) ":" === (n = n.toLowerCase()).charAt(0) && (n = n.substr(1)), z(n);
                    else if (n = t[7]) {
                        if (t.index + t[0].length > e.length) {
                            H(B(e.substr(t.index))), O = t.index + t[0].length;
                            continue
                        }
                        if (":" === (n = n.toLowerCase()).charAt(0) && (n = n.substr(1)), c = n in l, A && S[n] && 0 < R.length && R[R.length - 1].name === n && z(n), !p || (u = $.getElementRule(n))) {
                            if (m = !0, p && (y = u.attributes, b = u.attributePatterns), (v = t[8]) ? ((f = -1 !== v.indexOf("data-mce-type")) && s && (m = !1), (d = []).map = {}, v.replace(k, I)) : (d = []).map = {}, p && !f) {
                                if (w = u.attributesRequired, x = u.attributesDefault, C = u.attributesForced, u.removeEmptyAttrs && !d.length && (m = !1), C)
                                    for (o = C.length; o--;) a = (g = C[o]).name, "{$uid}" === (N = g.value) && (N = "mce_" + P++), d.map[a] = N, d.push({
                                        name: a,
                                        value: N
                                    });
                                if (x)
                                    for (o = x.length; o--;)(a = (g = x[o]).name) in d.map || ("{$uid}" === (N = g.value) && (N = "mce_" + P++), d.map[a] = N, d.push({
                                        name: a,
                                        value: N
                                    }));
                                if (w) {
                                    for (o = w.length; o-- && !(w[o] in d.map);); - 1 === o && (m = !1)
                                }
                                if (g = d.map["data-mce-bogus"]) {
                                    if ("all" === g) {
                                        O = Dp($, e, E.lastIndex), E.lastIndex = O;
                                        continue
                                    }
                                    m = !1
                                }
                            }
                            m && q(n, d, c)
                        } else m = !1;
                        if (r = T[n]) {
                            r.lastIndex = O = t.index + t[0].length, O = (t = r.exec(e)) ? (m && (i = e.substr(O, t.index - O)), t.index + t[0].length) : (i = e.substr(O), e.length), m && (0 < i.length && H(i, !0), U(n)), E.lastIndex = O;
                            continue
                        }
                        c || (v && v.indexOf("/") === v.length - 1 ? m && U(n) : R.push({
                            name: n,
                            valid: m
                        }))
                    } else(n = t[1]) ? (">" === n.charAt(0) && (n = " " + n), M.allow_conditional_comments || "[if" !== n.substr(0, 3).toLowerCase() || (n = " " + n), F(n)) : (n = t[2]) ? j(n.replace(/<!--|-->/g, "")) : (n = t[3]) ? W(n) : (n = t[4]) && V(n, t[5]);
                    O = t.index + t[0].length
                }
                for (O < e.length && H(B(e.substr(O))), o = R.length - 1; 0 <= o; o--)(n = R[o]).valid && U(n.name)
            }
        }
    }(Lp || (Lp = {})).findEndTag = Dp;
    var zp = Lp,
        Ip = function(e, t) {
            var n, r, o, i, a, s, l, c, u = t,
                d = /<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,
                f = e.schema;
            for (s = e.getTempAttrs(), l = u, c = new RegExp(["\\s?(" + s.join("|") + ')="[^"]+"'].join("|"), "gi"), u = l.replace(c, ""), a = f.getShortEndedElements(); i = d.exec(u);) r = d.lastIndex, o = i[0].length, n = a[i[1]] ? r : zp.findEndTag(f, u, r), u = u.substring(0, r - o) + u.substring(n), d.lastIndex = r - o;
            return Ni(u)
        },
        Mp = Ip,
        $p = Ip,
        Fp = function(e) {
            return Po.isElement(e) ? e.outerHTML : Po.isText(e) ? Wo.encodeRaw(e.data, !1) : Po.isComment(e) ? "\x3c!--" + e.data + "--\x3e" : ""
        },
        jp = function(e, t) {
            var n, r, o, p, m, i, g, v, c, y, u, a, s = Rt.map(t.childNodes, Fp);
            return m = e, i = (p = s).length + m.length + 2, g = new Array(i), v = new Array(i), c = function(e, t, n, r, o) {
                var i = u(e, t, n, r);
                if (null === i || i.start === t && i.diag === t - r || i.end === e && i.diag === e - n)
                    for (var a = e, s = n; a < t || s < r;) a < t && s < r && p[a] === m[s] ? (o.push([0, p[a]]), ++a, ++s) : r - n < t - e ? (o.push([2, p[a]]), ++a) : (o.push([1, m[s]]), ++s);
                else {
                    c(e, i.start, n, i.start - i.diag, o);
                    for (var l = i.start; l < i.end; ++l) o.push([0, p[l]]);
                    c(i.end, t, i.end - i.diag, r, o)
                }
            }, y = function(e, t, n, r) {
                for (var o = e; o - t < r && o < n && p[o] === m[o - t];) ++o;
                return {
                    start: e,
                    end: o,
                    diag: t
                }
            }, u = function(e, t, n, r) {
                var o = t - e,
                    i = r - n;
                if (0 === o || 0 === i) return null;
                var a, s, l, c, u, d = o - i,
                    f = i + o,
                    h = (f % 2 == 0 ? f : f + 1) / 2;
                for (g[1 + h] = e, v[1 + h] = t + 1, a = 0; a <= h; ++a) {
                    for (s = -a; s <= a; s += 2) {
                        for (l = s + h, s === -a || s !== a && g[l - 1] < g[l + 1] ? g[l] = g[l + 1] : g[l] = g[l - 1] + 1, u = (c = g[l]) - e + n - s; c < t && u < r && p[c] === m[u];) g[l] = ++c, ++u;
                        if (d % 2 != 0 && d - a <= s && s <= d + a && v[l - d] <= g[l]) return y(v[l - d], s + e - n, t, r)
                    }
                    for (s = d - a; s <= d + a; s += 2) {
                        for (l = s + h - d, s === d - a || s !== d + a && v[l + 1] <= v[l - 1] ? v[l] = v[l + 1] - 1 : v[l] = v[l - 1], u = (c = v[l] - 1) - e + n - s; e <= c && n <= u && p[c] === m[u];) v[l] = c--, u--;
                        if (d % 2 == 0 && -a <= s && s <= a && v[l] <= g[l + d]) return y(v[l], s + e - n, t, r)
                    }
                }
            }, a = [], c(0, p.length, 0, m.length, a), n = a, r = t, o = 0, Rt.each(n, function(e) {
                0 === e[0] ? o++ : 1 === e[0] ? (function(e, t, n) {
                    var r = function(e) {
                        var t, n, r;
                        for (r = document.createElement("div"), t = document.createDocumentFragment(), e && (r.innerHTML = e); n = r.firstChild;) t.appendChild(n);
                        return t
                    }(t);
                    if (e.hasChildNodes() && n < e.childNodes.length) {
                        var o = e.childNodes[n];
                        o.parentNode.insertBefore(r, o)
                    } else e.appendChild(r)
                }(r, e[1], o), o++) : 2 === e[0] && function(e, t) {
                    if (e.hasChildNodes() && t < e.childNodes.length) {
                        var n = e.childNodes[t];
                        n.parentNode.removeChild(n)
                    }
                }(r, o)
            }), t
        },
        Hp = function(e) {
            return e.dom().innerHTML
        },
        qp = function(e, t) {
            var n, r, o = Dr(e).dom(),
                i = Vn(o.createDocumentFragment()),
                a = (n = t, (r = (o || document).createElement("div")).innerHTML = n, Hr(Vn(r)));
            dc(i, a), hc(e), _s(e, i)
        },
        Up = Ds(M.none()),
        Vp = function(e) {
            return "fragmented" === e.type ? e.fragments.join("") : e.content
        },
        Wp = function(e) {
            var t = qn("body", Up.get().getOrThunk(function() {
                var e = document.implementation.createHTMLDocument("undo");
                return Up.set(M.some(e)), e
            }));
            return qp(t, Vp(e)), q.each(us(t, "*[data-mce-bogus]"), mc), Hp(t)
        },
        Yp = function(n) {
            var e, t, r, o;
            return o = n.getBody(), e = Rt.filter(Rt.map(o.childNodes, Fp), function(e) {
                return 0 < e.length
            }), -1 !== (t = (r = q.bind(e, function(e) {
                var t = $p(n.serializer, e);
                return 0 < t.length ? [t] : []
            })).join("")).indexOf("</iframe>") ? {
                type: "fragmented",
                fragments: r,
                content: "",
                bookmark: null,
                beforeBookmark: null
            } : {
                type: "complete",
                fragments: null,
                content: t,
                bookmark: null,
                beforeBookmark: null
            }
        },
        Kp = function(e, t, n) {
            "fragmented" === t.type ? jp(t.fragments, e.getBody()) : e.setContent(t.content, {
                format: "raw"
            }), e.selection.moveToBookmark(n ? t.beforeBookmark : t.bookmark)
        },
        Xp = function(e, t) {
            return !(!e || !t) && (r = t, Vp(e) === Vp(r) || (n = t, Wp(e) === Wp(n)));
            var n, r
        };

    function Zp(s) {
        var l, r, o = this,
            c = 0,
            u = [],
            t = 0,
            d = function() {
                return 0 === t
            },
            i = function(e) {
                d() && (o.typing = e)
            },
            f = function(e) {
                s.setDirty(e)
            },
            a = function(e) {
                i(!1), o.add({}, e)
            },
            n = function() {
                o.typing && (i(!1), o.add())
            };
        return s.on("init", function() {
            o.add()
        }), s.on("BeforeExecCommand", function(e) {
            var t = e.command;
            "Undo" !== t && "Redo" !== t && "mceRepaint" !== t && (n(), o.beforeChange())
        }), s.on("ExecCommand", function(e) {
            var t = e.command;
            "Undo" !== t && "Redo" !== t && "mceRepaint" !== t && a(e)
        }), s.on("ObjectResizeStart Cut", function() {
            o.beforeChange()
        }), s.on("SaveContent ObjectResized blur", a), s.on("DragEnd", a), s.on("KeyUp", function(e) {
            var t = e.keyCode;
            e.isDefaultPrevented() || ((33 <= t && t <= 36 || 37 <= t && t <= 40 || 45 === t || e.ctrlKey) && (a(), s.nodeChanged()), 46 !== t && 8 !== t || s.nodeChanged(), r && o.typing && !1 === Xp(Yp(s), u[0]) && (!1 === s.isDirty() && (f(!0), s.fire("change", {
                level: u[0],
                lastLevel: null
            })), s.fire("TypingUndo"), r = !1, s.nodeChanged()))
        }), s.on("KeyDown", function(e) {
            var t = e.keyCode;
            if (!e.isDefaultPrevented())
                if (33 <= t && t <= 36 || 37 <= t && t <= 40 || 45 === t) o.typing && a(e);
                else {
                    var n = e.ctrlKey && !e.altKey || e.metaKey;
                    !(t < 16 || 20 < t) || 224 === t || 91 === t || o.typing || n || (o.beforeChange(), i(!0), o.add({}, e), r = !0)
                }
        }), s.on("MouseDown", function(e) {
            o.typing && a(e)
        }), s.on("input", function(e) {
            var t;
            e.inputType && ("insertReplacementText" === e.inputType || "insertText" === (t = e).inputType && null === t.data) && a(e)
        }), s.addShortcut("meta+z", "", "Undo"), s.addShortcut("meta+y,meta+shift+z", "", "Redo"), s.on("AddUndo Undo Redo ClearUndos", function(e) {
            e.isDefaultPrevented() || s.nodeChanged()
        }), o = {
            data: u,
            typing: !1,
            beforeChange: function() {
                d() && (l = Zl.getUndoBookmark(s.selection))
            },
            add: function(e, t) {
                var n, r, o, i = s.settings;
                if (o = Yp(s), e = e || {}, e = zt.extend(e, o), !1 === d() || s.removed) return null;
                if (r = u[c], s.fire("BeforeAddUndo", {
                        level: e,
                        lastLevel: r,
                        originalEvent: t
                    }).isDefaultPrevented()) return null;
                if (r && Xp(r, e)) return null;
                if (u[c] && (u[c].beforeBookmark = l), i.custom_undo_redo_levels && u.length > i.custom_undo_redo_levels) {
                    for (n = 0; n < u.length - 1; n++) u[n] = u[n + 1];
                    u.length--, c = u.length
                }
                e.bookmark = Zl.getUndoBookmark(s.selection), c < u.length - 1 && (u.length = c + 1), u.push(e), c = u.length - 1;
                var a = {
                    level: e,
                    lastLevel: r,
                    originalEvent: t
                };
                return s.fire("AddUndo", a), 0 < c && (f(!0), s.fire("change", a)), e
            },
            undo: function() {
                var e;
                return o.typing && (o.add(), o.typing = !1, i(!1)), 0 < c && (e = u[--c], Kp(s, e, !0), f(!0), s.fire("undo", {
                    level: e
                })), e
            },
            redo: function() {
                var e;
                return c < u.length - 1 && (e = u[++c], Kp(s, e, !1), f(!0), s.fire("redo", {
                    level: e
                })), e
            },
            clear: function() {
                u = [], c = 0, o.typing = !1, o.data = u, s.fire("ClearUndos")
            },
            hasUndo: function() {
                return 0 < c || o.typing && u[0] && !Xp(Yp(s), u[0])
            },
            hasRedo: function() {
                return c < u.length - 1 && !o.typing
            },
            transact: function(e) {
                return n(), o.beforeChange(), o.ignore(e), o.add()
            },
            ignore: function(e) {
                try {
                    t++, e()
                } finally {
                    t--
                }
            },
            extra: function(e, t) {
                var n, r;
                o.transact(e) && (r = u[c].bookmark, n = u[c - 1], Kp(s, n, !0), o.transact(t) && (u[c - 1].beforeBookmark = r))
            }
        }
    }
    var Gp, Qp = function(e) {
            return e && /^(IMG)$/.test(e.nodeName)
        },
        Jp = function(e) {
            return e && 3 === e.nodeType && /^([\t \r\n]+|)$/.test(e.nodeValue)
        },
        em = function(e, t, n) {
            return "color" !== n && "backgroundColor" !== n || (t = e.toHex(t)), "fontWeight" === n && 700 === t && (t = "bold"), "fontFamily" === n && (t = t.replace(/[\'\"]/g, "").replace(/,\s+/g, ",")), "" + t
        },
        tm = function(e, t, n) {
            var r, o, i, a = n.startOffset,
                s = n.startContainer;
            if ((n.startContainer !== n.endContainer || !Qp(n.startContainer.childNodes[n.startOffset])) && 1 === s.nodeType)
                for (a < (i = s.childNodes).length ? r = new io(s = i[a], e.getParent(s, e.isBlock)) : (r = new io(s = i[i.length - 1], e.getParent(s, e.isBlock))).next(!0), o = r.current(); o; o = r.next())
                    if (3 === o.nodeType && !Jp(o)) return n.setStart(o, 0), void t.setRng(n)
        },
        nm = function(e, t, n) {
            if (e)
                for (t = t ? "nextSibling" : "previousSibling", e = n ? e : e[t]; e; e = e[t])
                    if (1 === e.nodeType || !Jp(e)) return e
        },
        rm = function(e, t) {
            return t.nodeType && (t = t.nodeName), !!e.schema.getTextBlockElements()[t.toLowerCase()]
        },
        om = function(e, t, n) {
            return e.schema.isValidChild(t, n)
        },
        im = Jp,
        am = function(e, n) {
            return "string" != typeof e ? e = e(n) : n && (e = e.replace(/%(\w+)/g, function(e, t) {
                return n[t] || e
            })), e
        },
        sm = function(e, t) {
            return t = t || "", e = "" + ((e = e || "").nodeName || e), t = "" + (t.nodeName || t), e.toLowerCase() === t.toLowerCase()
        },
        lm = em,
        cm = function(e, t, n) {
            return em(e, e.getStyle(t, n), n)
        },
        um = function(t, e) {
            var n;
            return t.getParent(e, function(e) {
                return (n = t.getStyle(e, "text-decoration")) && "none" !== n
            }), n
        },
        dm = function(e, t, n) {
            return e.getParents(t, n, e.getRoot())
        },
        fm = lc,
        hm = dm,
        pm = im,
        mm = rm,
        gm = function(e, t) {
            for (void 0 === t && (t = 3 === e.nodeType ? e.length : e.childNodes.length); e && e.hasChildNodes();)(e = e.childNodes[t]) && (t = 3 === e.nodeType ? e.length : e.childNodes.length);
            return {
                node: e,
                offset: t
            }
        },
        vm = function(e, t) {
            for (var n = t; n;) {
                if (1 === n.nodeType && e.getContentEditable(n)) return "false" === e.getContentEditable(n) ? n : t;
                n = n.parentNode
            }
            return t
        },
        ym = function(e, t, n, r) {
            var o, i, a = n.nodeValue;
            return void 0 === r && (r = e ? a.length : 0), e ? (o = a.lastIndexOf(" ", r), -1 === (o = (i = a.lastIndexOf(" ", r)) < o ? o : i) || t || o++) : (o = a.indexOf(" ", r), i = a.indexOf(" ", r), o = -1 !== o && (-1 === i || o < i) ? o : i), o
        },
        bm = function(e, t, n, r, o, i) {
            var a, s, l, c;
            if (3 === n.nodeType) {
                if (-1 !== (l = ym(o, i, n, r))) return {
                    container: n,
                    offset: l
                };
                c = n
            }
            for (a = new io(n, e.getParent(n, e.isBlock) || t); s = a[o ? "prev" : "next"]();)
                if (3 === s.nodeType) {
                    if (-1 !== (l = ym(o, i, c = s))) return {
                        container: s,
                        offset: l
                    }
                } else if (e.isBlock(s)) break;
            if (c) return {
                container: c,
                offset: r = o ? 0 : c.length
            }
        },
        wm = function(e, t, n, r, o) {
            var i, a, s, l;
            for (3 === r.nodeType && 0 === r.nodeValue.length && r[o] && (r = r[o]), i = hm(e, r), a = 0; a < i.length; a++)
                for (s = 0; s < t.length; s++)
                    if (!("collapsed" in (l = t[s]) && l.collapsed !== n.collapsed) && e.is(i[a], l.selector)) return i[a];
            return r
        },
        xm = function(t, e, n, r) {
            var o, i = t.dom,
                a = i.getRoot();
            if (e[0].wrapper || (o = i.getParent(n, e[0].block, a)), !o) {
                var s = i.getParent(n, "LI,TD,TH");
                o = i.getParent(3 === n.nodeType ? n.parentNode : n, function(e) {
                    return e !== a && mm(t, e)
                }, s)
            }
            if (o && e[0].wrapper && (o = hm(i, o, "ul,ol").reverse()[0] || o), !o)
                for (o = n; o[r] && !i.isBlock(o[r]) && (o = o[r], !sm(o, "br")););
            return o || n
        },
        Cm = function(e, t, n, r, o, i, a) {
            var s, l, c, u, d, f;
            if (s = l = a ? n : o, u = a ? "previousSibling" : "nextSibling", d = e.getRoot(), 3 === s.nodeType && !pm(s) && (a ? 0 < r : i < s.nodeValue.length)) return s;
            for (;;) {
                if (!t[0].block_expand && e.isBlock(l)) return l;
                for (c = l[u]; c; c = c[u])
                    if (!fm(c) && !pm(c) && ("BR" !== (f = c).nodeName || !f.getAttribute("data-mce-bogus") || f.nextSibling)) return l;
                if (l === d || l.parentNode === d) {
                    s = l;
                    break
                }
                l = l.parentNode
            }
            return s
        },
        _m = function(e, t, n, r) {
            var o, i = t.startContainer,
                a = t.startOffset,
                s = t.endContainer,
                l = t.endOffset,
                c = e.dom;
            return 1 === i.nodeType && i.hasChildNodes() && 3 === (i = oa(i, a)).nodeType && (a = 0), 1 === s.nodeType && s.hasChildNodes() && 3 === (s = oa(s, t.collapsed ? l : l - 1)).nodeType && (l = s.nodeValue.length), i = vm(c, i), s = vm(c, s), (fm(i.parentNode) || fm(i)) && 3 === (i = (i = fm(i) ? i : i.parentNode).nextSibling || i).nodeType && (a = 0), (fm(s.parentNode) || fm(s)) && 3 === (s = (s = fm(s) ? s : s.parentNode).previousSibling || s).nodeType && (l = s.length), n[0].inline && (t.collapsed && ((o = bm(c, e.getBody(), i, a, !0, r)) && (i = o.container, a = o.offset), (o = bm(c, e.getBody(), s, l, !1, r)) && (s = o.container, l = o.offset)), s = r ? s : function(e, t) {
                var n = gm(e, l);
                if (n.node) {
                    for (; n.node && 0 === n.offset && n.node.previousSibling;) n = gm(n.node.previousSibling);
                    n.node && 0 < n.offset && 3 === n.node.nodeType && " " === n.node.nodeValue.charAt(n.offset - 1) && 1 < n.offset && (e = n.node).splitText(n.offset - 1)
                }
                return e
            }(s)), (n[0].inline || n[0].block_expand) && (n[0].inline && 3 === i.nodeType && 0 !== a || (i = Cm(c, n, i, a, s, l, !0)), n[0].inline && 3 === s.nodeType && l !== s.nodeValue.length || (s = Cm(c, n, i, a, s, l, !1))), n[0].selector && !1 !== n[0].expand && !n[0].inline && (i = wm(c, n, t, i, "previousSibling"), s = wm(c, n, t, s, "nextSibling")), (n[0].block || n[0].selector) && (i = xm(e, n, i, "previousSibling"), s = xm(e, n, s, "nextSibling"), n[0].block && (c.isBlock(i) || (i = Cm(c, n, i, a, s, l, !0)), c.isBlock(s) || (s = Cm(c, n, i, a, s, l, !1)))), 1 === i.nodeType && (a = c.nodeIndex(i), i = i.parentNode), 1 === s.nodeType && (l = c.nodeIndex(s) + 1, s = s.parentNode), {
                startContainer: i,
                startOffset: a,
                endContainer: s,
                endOffset: l
            }
        },
        Sm = sm,
        Em = function(e, t, n) {
            var r = e.formatter.get(n);
            if (r)
                for (var o = 0; o < r.length; o++)
                    if (!1 === r[o].inherit && e.dom.is(t, r[o].selector)) return !0;
            return !1
        },
        km = function(t, e, n, r) {
            var o = t.dom.getRoot();
            return e !== o && (e = t.dom.getParent(e, function(e) {
                return !!Em(t, e, n) || e.parentNode === o || !!Am(t, e, n, r, !0)
            }), Am(t, e, n, r))
        },
        Tm = function(e, t, n) {
            return !!Sm(t, n.inline) || !!Sm(t, n.block) || (n.selector ? 1 === t.nodeType && e.is(t, n.selector) : void 0)
        },
        Nm = function(e, t, n, r, o, i) {
            var a, s, l, c = n[r];
            if (n.onmatch) return n.onmatch(t, n, r);
            if (c)
                if (void 0 === c.length) {
                    for (a in c)
                        if (c.hasOwnProperty(a)) {
                            if (s = "attributes" === r ? e.getAttrib(t, a) : cm(e, t, a), o && !s && !n.exact) return;
                            if ((!o || n.exact) && !Sm(s, lm(e, am(c[a], i), a))) return
                        }
                } else
                    for (l = 0; l < c.length; l++)
                        if ("attributes" === r ? e.getAttrib(t, c[l]) : cm(e, t, c[l])) return n;
            return n
        },
        Am = function(e, t, n, r, o) {
            var i, a, s, l, c = e.formatter.get(n),
                u = e.dom;
            if (c && t)
                for (a = 0; a < c.length; a++)
                    if (i = c[a], Tm(e.dom, t, i) && Nm(u, t, i, "attributes", o, r) && Nm(u, t, i, "styles", o, r)) {
                        if (l = i.classes)
                            for (s = 0; s < l.length; s++)
                                if (!e.dom.hasClass(t, l[s])) return;
                        return i
                    }
        },
        Om = {
            matchNode: Am,
            matchName: Tm,
            match: function(e, t, n, r) {
                var o;
                return r ? km(e, r, t, n) : (r = e.selection.getNode(), !!km(e, r, t, n) || !((o = e.selection.getStart()) === r || !km(e, o, t, n)))
            },
            matchAll: function(r, o, i) {
                var e, a = [],
                    s = {};
                return e = r.selection.getStart(), r.dom.getParent(e, function(e) {
                    var t, n;
                    for (t = 0; t < o.length; t++) n = o[t], !s[n] && Am(r, e, n, i) && (s[n] = !0, a.push(n))
                }, r.dom.getRoot()), a
            },
            canApply: function(e, t) {
                var n, r, o, i, a, s = e.formatter.get(t),
                    l = e.dom;
                if (s)
                    for (n = e.selection.getStart(), r = dm(l, n), i = s.length - 1; 0 <= i; i--) {
                        if (!(a = s[i].selector) || s[i].defaultBlock) return !0;
                        for (o = r.length - 1; 0 <= o; o--)
                            if (l.is(r[o], a)) return !0
                    }
                return !1
            },
            matchesUnInheritedFormatSelector: Em
        },
        Rm = function(e, t) {
            return e.splitText(t)
        },
        Pm = function(e) {
            var t = e.startContainer,
                n = e.startOffset,
                r = e.endContainer,
                o = e.endOffset;
            return t === r && Po.isText(t) ? 0 < n && n < t.nodeValue.length && (t = (r = Rm(t, n)).previousSibling, n < o ? (t = r = Rm(r, o -= n).previousSibling, o = r.nodeValue.length, n = 0) : o = 0) : (Po.isText(t) && 0 < n && n < t.nodeValue.length && (t = Rm(t, n), n = 0), Po.isText(r) && 0 < o && o < r.nodeValue.length && (o = (r = Rm(r, o).previousSibling).nodeValue.length)), {
                startContainer: t,
                startOffset: n,
                endContainer: r,
                endOffset: o
            }
        },
        Bm = Ti,
        Dm = "_mce_caret",
        Lm = function(e) {
            var t;
            if (e)
                for (e = (t = new io(e, e)).current(); e; e = t.next())
                    if (3 === e.nodeType) return e;
            return null
        },
        zm = function(e) {
            var t = qn("span");
            return cr(t, {
                id: Dm,
                "data-mce-bogus": "1",
                "data-mce-type": "format-caret"
            }), e && _s(t, Un(Bm)), t
        },
        Im = function(e, t, n, r) {
            var o, i, a, s;
            o = t.getRng(!0), i = e.getParent(n, e.isBlock), 0 < function(e) {
                for (var t = []; e;) {
                    if (3 === e.nodeType && e.nodeValue !== Bm || 1 < e.childNodes.length) return [];
                    1 === e.nodeType && t.push(e), e = e.firstChild
                }
                return t
            }(n).length ? (!1 !== r && (o.setStartBefore(n), o.setEndBefore(n)), e.remove(n)) : ((s = Lm(n)) && s.nodeValue.charAt(0) === Bm && s.deleteData(0, 1), a = s, o.startContainer === a && 0 < o.startOffset && o.setStart(a, o.startOffset - 1), o.endContainer === a && 0 < o.endOffset && o.setEnd(a, o.endOffset - 1), e.remove(n, !0)), i && e.isEmpty(i) && vc(Vn(i)), t.setRng(o)
        },
        Mm = function(e, t, n, r, o) {
            if (r) Im(t, n, r, o);
            else if (!(r = Jl(e, n.getStart())))
                for (; r = t.get(Dm);) Im(t, n, r, !1)
        },
        $m = function(e, t, n) {
            var r, o, i, a = e.dom,
                s = a.getParent(n, ca.curry(rm, e));
            s && a.isEmpty(s) ? n.parentNode.replaceChild(t, n) : (r = Vn(n), o = us(r, "br"), i = q.filter(function(e) {
                for (var t = [], n = r.dom(); n;) t.push(Vn(n)), n = n.lastChild;
                return t
            }().slice(-1), po), o.length === i.length && q.each(i, pc), a.isEmpty(n) ? n.parentNode.replaceChild(t, n) : a.insertAfter(t, n))
        },
        Fm = function(e, t) {
            return e.appendChild(t), t
        },
        jm = function(e, t) {
            var n = q.foldr(e, function(e, t) {
                return Fm(e, t.cloneNode(!1))
            }, t);
            return Fm(n, n.ownerDocument.createTextNode(Bm))
        },
        Hm = function(e, t) {
            return e.schema.getTextInlineElements().hasOwnProperty(Qn.name(t)) && !Ql(t.dom()) && !Po.isBogus(t.dom())
        },
        qm = {},
        Um = Rt.filter,
        Vm = Rt.each;
    Gp = function(e) {
        var t, n, r = e.selection.getRng();
        t = Po.matchNodeNames("pre"), r.collapsed || (n = e.selection.getSelectedBlocks(), Vm(Um(Um(n, t), function(e) {
            return t(e.previousSibling) && -1 !== Rt.indexOf(n, e.previousSibling)
        }), function(e) {
            var t, n;
            t = e.previousSibling, tn(n = e).remove(), tn(t).append("<br><br>").append(n.childNodes)
        }))
    }, qm["pre"] || (qm.pre = []), qm.pre.push(Gp);
    var Wm = zt.each,
        Ym = function(e, t, o) {
            var n, r, i, a, s, l, c, u = t.startContainer,
                d = t.startOffset,
                f = t.endContainer,
                h = t.endOffset;
            if (0 < (c = e.select("td[data-mce-selected],th[data-mce-selected]")).length) Wm(c, function(e) {
                o([e])
            });
            else {
                var p, m, g, v = function(e) {
                        var t;
                        return 3 === (t = e[0]).nodeType && t === u && d >= t.nodeValue.length && e.splice(0, 1), t = e[e.length - 1], 0 === h && 0 < e.length && t === f && 3 === t.nodeType && e.splice(e.length - 1, 1), e
                    },
                    y = function(e, t, n) {
                        for (var r = []; e && e !== n; e = e[t]) r.push(e);
                        return r
                    },
                    b = function(e, t) {
                        do {
                            if (e.parentNode === t) return e;
                            e = e.parentNode
                        } while (e)
                    },
                    w = function(e, t, n) {
                        var r = n ? "nextSibling" : "previousSibling";
                        for (s = (a = e).parentNode; a && a !== t; a = s) s = a.parentNode, (l = y(a === e ? a : a[r], r)).length && (n || l.reverse(), o(v(l)))
                    };
                if (1 === u.nodeType && u.hasChildNodes() && (u = u.childNodes[d]), 1 === f.nodeType && f.hasChildNodes() && (m = h, --m > (g = (p = f).childNodes).length - 1 ? m = g.length - 1 : m < 0 && (m = 0), f = g[m] || p), u === f) return o(v([u]));
                for (n = e.findCommonAncestor(u, f), a = u; a; a = a.parentNode) {
                    if (a === f) return w(u, n, !0);
                    if (a === n) break
                }
                for (a = f; a; a = a.parentNode) {
                    if (a === u) return w(f, n);
                    if (a === n) break
                }
                r = b(u, n) || u, i = b(f, n) || f, w(u, r, !0), (l = y(r === u ? r : r.nextSibling, "nextSibling", i === f ? i.nextSibling : i)).length && o(v(l)), w(f, i)
            }
        },
        Km = /^(src|href|style)$/,
        Xm = zt.each,
        Zm = sm,
        Gm = function(e) {
            return /^(TH|TD)$/.test(e.nodeName)
        },
        Qm = function(e, t, n) {
            var r, o, i;
            return r = t[n ? "startContainer" : "endContainer"], o = t[n ? "startOffset" : "endOffset"], Po.isElement(r) && (i = r.childNodes.length - 1, !n && o && o--, r = r.childNodes[i < o ? i : o]), Po.isText(r) && n && o >= r.nodeValue.length && (r = new io(r, e.getBody()).next() || r), Po.isText(r) && !n && 0 === o && (r = new io(r, e.getBody()).prev() || r), r
        },
        Jm = function(e, t, n, r) {
            var o = e.create(n, r);
            return t.parentNode.insertBefore(o, t), o.appendChild(t), o
        },
        eg = function(e, t, n, r) {
            return !(t = nm(t, n, r)) || "BR" === t.nodeName || e.isBlock(t)
        },
        tg = function(e, n, r, o, i) {
            var t, a, s, l, c, u, d, f, h, p, m, g, v, y, b = e.dom;
            if (c = b, !(Zm(u = o, (d = n).inline) || Zm(u, d.block) || (d.selector ? Po.isElement(u) && c.is(u, d.selector) : void 0) || (l = o, n.links && "A" === l.tagName))) return !1;
            if ("all" !== n.remove)
                for (Xm(n.styles, function(e, t) {
                        e = lm(b, am(e, r), t), "number" == typeof t && (t = e, i = 0), (n.remove_similar || !i || Zm(cm(b, i, t), e)) && b.setStyle(o, t, ""), s = 1
                    }), s && "" === b.getAttrib(o, "style") && (o.removeAttribute("style"), o.removeAttribute("data-mce-style")), Xm(n.attributes, function(e, t) {
                        var n;
                        if (e = am(e, r), "number" == typeof t && (t = e, i = 0), !i || Zm(b.getAttrib(i, t), e)) {
                            if ("class" === t && (e = b.getAttrib(o, t)) && (n = "", Xm(e.split(/\s+/), function(e) {
                                    /mce\-\w+/.test(e) && (n += (n ? " " : "") + e)
                                }), n)) return void b.setAttrib(o, t, n);
                            "class" === t && o.removeAttribute("className"), Km.test(t) && o.removeAttribute("data-mce-" + t), o.removeAttribute(t)
                        }
                    }), Xm(n.classes, function(e) {
                        e = am(e, r), i && !b.hasClass(i, e) || b.removeClass(o, e)
                    }), a = b.getAttribs(o), t = 0; t < a.length; t++) {
                    var w = a[t].nodeName;
                    if (0 !== w.indexOf("_") && 0 !== w.indexOf("data-")) return !1
                }
            return "none" !== n.remove ? (f = e, p = n, g = (h = o).parentNode, v = f.dom, y = f.settings.forced_root_block, p.block && (y ? g === v.getRoot() && (p.list_block && Zm(h, p.list_block) || Xm(zt.grep(h.childNodes), function(e) {
                om(f, y, e.nodeName.toLowerCase()) ? m ? m.appendChild(e) : (m = Jm(v, e, y), v.setAttribs(m, f.settings.forced_root_block_attrs)) : m = 0
            })) : v.isBlock(h) && !v.isBlock(g) && (eg(v, h, !1) || eg(v, h.firstChild, !0, 1) || h.insertBefore(v.create("br"), h.firstChild), eg(v, h, !0) || eg(v, h.lastChild, !1, 1) || h.appendChild(v.create("br")))), p.selector && p.inline && !Zm(p.inline, h) || v.remove(h, 1), !0) : void 0
        },
        ng = tg,
        rg = function(l, c, u, e, d) {
            var t, n, f = l.formatter.get(c),
                h = f[0],
                a = !0,
                s = l.dom,
                r = l.selection,
                o = function(e) {
                    var n, t, r, o, i, a, s = (t = e, r = c, o = u, i = d, Xm(dm((n = l).dom, t.parentNode).reverse(), function(e) {
                        var t;
                        a || "_start" === e.id || "_end" === e.id || (t = Om.matchNode(n, e, r, o, i)) && !1 !== t.split && (a = e)
                    }), a);
                    return function(e, t, n, r, o, i, a, s) {
                        var l, c, u, d, f, h, p = e.dom;
                        if (n) {
                            for (h = n.parentNode, l = r.parentNode; l && l !== h; l = l.parentNode) {
                                for (c = p.clone(l, !1), f = 0; f < t.length; f++)
                                    if (tg(e, t[f], s, c, c)) {
                                        c = 0;
                                        break
                                    }
                                c && (u && c.appendChild(u), d || (d = c), u = c)
                            }
                            a.mixed && p.isBlock(n) || (r = p.split(n, r)), u && (o.parentNode.insertBefore(u, o), d.appendChild(o))
                        }
                        return r
                    }(l, f, s, e, e, 0, h, u)
                },
                p = function(e) {
                    var t, n, r, o, i;
                    if (Po.isElement(e) && s.getContentEditable(e) && (o = a, a = "true" === s.getContentEditable(e), i = !0), t = zt.grep(e.childNodes), a && !i)
                        for (n = 0, r = f.length; n < r && !tg(l, f[n], u, e, e); n++);
                    if (h.deep && t.length) {
                        for (n = 0, r = t.length; n < r; n++) p(t[n]);
                        i && (a = o)
                    }
                },
                i = function(e) {
                    var t = s.get(e ? "_start" : "_end"),
                        n = t[e ? "firstChild" : "lastChild"];
                    return lc(n) && (n = n[e ? "firstChild" : "lastChild"]), Po.isText(n) && 0 === n.data.length && (n = e ? t.previousSibling || t.nextSibling : t.nextSibling || t.previousSibling), s.remove(t, !0), n
                },
                m = function(e) {
                    var t, n, r = e.commonAncestorContainer;
                    if (e = _m(l, e, f, !0), h.split) {
                        if ((t = Qm(l, e, !0)) !== (n = Qm(l, e))) {
                            if (/^(TR|TH|TD)$/.test(t.nodeName) && t.firstChild && (t = "TR" === t.nodeName ? t.firstChild.firstChild || t : t.firstChild || t), r && /^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName) && Gm(n) && n.firstChild && (n = n.firstChild || n), s.isChildOf(t, n) && t !== n && !s.isBlock(n) && !Gm(t) && !Gm(n)) return t = Jm(s, t, "span", {
                                id: "_start",
                                "data-mce-type": "bookmark"
                            }), o(t), void(t = i(!0));
                            t = Jm(s, t, "span", {
                                id: "_start",
                                "data-mce-type": "bookmark"
                            }), n = Jm(s, n, "span", {
                                id: "_end",
                                "data-mce-type": "bookmark"
                            }), o(t), o(n), t = i(!0), n = i()
                        } else t = n = o(t);
                        e.startContainer = t.parentNode ? t.parentNode : t, e.startOffset = s.nodeIndex(t), e.endContainer = n.parentNode ? n.parentNode : n, e.endOffset = s.nodeIndex(n) + 1
                    }
                    Ym(s, e, function(e) {
                        Xm(e, function(e) {
                            p(e), Po.isElement(e) && "underline" === l.dom.getStyle(e, "text-decoration") && e.parentNode && "underline" === um(s, e.parentNode) && tg(l, {
                                deep: !1,
                                exact: !0,
                                inline: "span",
                                styles: {
                                    textDecoration: "underline"
                                }
                            }, null, e)
                        })
                    })
                };
            if (e) e.nodeType ? ((n = s.createRng()).setStartBefore(e), n.setEndAfter(e), m(n)) : m(e);
            else if ("false" !== s.getContentEditable(r.getNode())) r.isCollapsed() && h.inline && !s.select("td[data-mce-selected],th[data-mce-selected]").length ? function(e, t, n, r) {
                var o, i, a, s, l, c, u, d = e.dom,
                    f = e.selection,
                    h = [],
                    p = f.getRng();
                for (o = p.startContainer, i = p.startOffset, 3 === (l = o).nodeType && (i !== o.nodeValue.length && (s = !0), l = l.parentNode); l;) {
                    if (Om.matchNode(e, l, t, n, r)) {
                        c = l;
                        break
                    }
                    l.nextSibling && (s = !0), h.push(l), l = l.parentNode
                }
                if (c)
                    if (s) {
                        a = f.getBookmark(), p.collapse(!0);
                        var m = _m(e, p, e.formatter.get(t), !0);
                        m = Pm(m), e.formatter.remove(t, n, m), f.moveToBookmark(a)
                    } else {
                        u = Jl(e.getBody(), c);
                        var g = zm(!1).dom(),
                            v = jm(h, g);
                        $m(e, g, u || c), Im(d, f, u, !1), f.setCursorLocation(v, 1), d.isEmpty(c) && d.remove(c)
                    }
            }(l, c, u, d) : (t = Zl.getPersistentBookmark(l.selection, !0), m(r.getRng()), r.moveToBookmark(t), h.inline && Om.match(l, c, u, r.getStart()) && tm(s, r, r.getRng()), l.nodeChanged());
            else {
                e = r.getNode();
                for (var g = 0, v = f.length; g < v && (!f[g].ceFalseOverride || !tg(l, f[g], u, e, e)); g++);
            }
        },
        og = zt.each,
        ig = function(e) {
            return e && 1 === e.nodeType && !lc(e) && !Ql(e) && !Po.isBogus(e)
        },
        ag = function(e, t) {
            var n;
            for (n = e; n; n = n[t]) {
                if (3 === n.nodeType && 0 !== n.nodeValue.length) return e;
                if (1 === n.nodeType && !lc(n)) return n
            }
            return e
        },
        sg = function(e, t, n) {
            var r, o, i = new uc(e);
            if (t && n && (t = ag(t, "previousSibling"), n = ag(n, "nextSibling"), i.compare(t, n))) {
                for (r = t.nextSibling; r && r !== n;) r = (o = r).nextSibling, t.appendChild(o);
                return e.remove(n), zt.each(zt.grep(n.childNodes), function(e) {
                    t.appendChild(e)
                }), t
            }
            return n
        },
        lg = function(e, t, n) {
            og(e.childNodes, function(e) {
                ig(e) && (t(e) && n(e), e.hasChildNodes() && lg(e, t, n))
            })
        },
        cg = function(n, e) {
            return H.curry(function(e, t) {
                return !(!t || !cm(n, t, e))
            }, e)
        },
        ug = function(r, e, t) {
            return H.curry(function(e, t, n) {
                r.setStyle(n, e, t), "" === n.getAttribute("style") && n.removeAttribute("style"), dg(r, n)
            }, e, t)
        },
        dg = function(e, t) {
            "SPAN" === t.nodeName && 0 === e.getAttribs(t).length && e.remove(t, !0)
        },
        fg = function(e, t) {
            var n;
            1 === t.nodeType && t.parentNode && 1 === t.parentNode.nodeType && (n = um(e, t.parentNode), e.getStyle(t, "color") && n ? e.setStyle(t, "text-decoration", n) : e.getStyle(t, "text-decoration") === n && e.setStyle(t, "text-decoration", null))
        },
        hg = zt.each,
        pg = function(N, A, O, r) {
            var e, t, n, o, i, a, R = N.formatter.get(A),
                P = R[0],
                s = !r && N.selection.isCollapsed(),
                l = N.dom,
                c = N.selection,
                B = function(n, e) {
                    if (e = e || P, n) {
                        if (e.onformat && e.onformat(n, e, O, r), hg(e.styles, function(e, t) {
                                l.setStyle(n, t, am(e, O))
                            }), e.styles) {
                            var t = l.getAttrib(n, "style");
                            t && n.setAttribute("data-mce-style", t)
                        }
                        hg(e.attributes, function(e, t) {
                            l.setAttrib(n, t, am(e, O))
                        }), hg(e.classes, function(e) {
                            e = am(e, O), l.hasClass(n, e) || l.addClass(n, e)
                        })
                    }
                },
                f = function(e, t) {
                    var n = !1;
                    return !!P.selector && (hg(e, function(e) {
                        if (!("collapsed" in e && e.collapsed !== s)) return l.is(t, e.selector) && !Ql(t) ? (B(t, e), !(n = !0)) : void 0
                    }), n)
                },
                u = function(k, e, t, l) {
                    var c, u, T = [],
                        d = !0;
                    c = P.inline || P.block, u = k.create(c), B(u), Ym(k, e, function(e) {
                        var a, s = function(e) {
                            var t, n, r, o;
                            if (o = d, t = e.nodeName.toLowerCase(), n = e.parentNode.nodeName.toLowerCase(), 1 === e.nodeType && k.getContentEditable(e) && (o = d, d = "true" === k.getContentEditable(e), r = !0), sm(t, "br")) return a = 0, void(P.block && k.remove(e));
                            if (P.wrapper && Om.matchNode(N, e, A, O)) a = 0;
                            else {
                                if (d && !r && P.block && !P.wrapper && rm(N, t) && om(N, n, c)) return e = k.rename(e, c), B(e), T.push(e), void(a = 0);
                                if (P.selector) {
                                    var i = f(R, e);
                                    if (!P.inline || i) return void(a = 0)
                                }!d || r || !om(N, c, t) || !om(N, n, c) || !l && 3 === e.nodeType && 1 === e.nodeValue.length && 65279 === e.nodeValue.charCodeAt(0) || Ql(e) || P.inline && k.isBlock(e) ? (a = 0, hg(zt.grep(e.childNodes), s), r && (d = o), a = 0) : (a || (a = k.clone(u, !1), e.parentNode.insertBefore(a, e), T.push(a)), a.appendChild(e))
                            }
                        };
                        hg(e, s)
                    }), !0 === P.links && hg(T, function(e) {
                        var t = function(e) {
                            "A" === e.nodeName && B(e, P), hg(zt.grep(e.childNodes), t)
                        };
                        t(e)
                    }), hg(T, function(e) {
                        var t, n, r, o, i, a, s, l, c, u, d, f, h, p, m, g, v, y, b, w, x, C, _, S, E;
                        n = 0, hg(e.childNodes, function(e) {
                            im(e) || lc(e) || n++
                        }), t = n, !(1 < T.length) && k.isBlock(e) || 0 !== t ? (P.inline || P.wrapper) && (P.exact || 1 !== t || (S = r = e, E = !1, hg(S.childNodes, function(e) {
                            if ((t = e) && 1 === t.nodeType && !lc(t) && !Ql(t) && !Po.isBogus(t)) return E = e, !1;
                            var t
                        }), (o = E) && !lc(o) && Om.matchName(k, o, P) && (i = k.clone(o, !1), B(i), k.replace(i, r, !0), k.remove(o, 1)), e = i || r), x = N, C = O, _ = e, og(R, function(t) {
                            og(x.dom.select(t.inline, _), function(e) {
                                    ig(e) && ng(x, t, C, e, t.exact ? e : null)
                                }),
                                function(r, e, t) {
                                    if (e.clear_child_styles) {
                                        var n = e.links ? "*:not(a)" : "*";
                                        og(r.select(n, t), function(n) {
                                            ig(n) && og(e.styles, function(e, t) {
                                                r.setStyle(n, t, "")
                                            })
                                        })
                                    }
                                }(x.dom, t, _)
                        }), g = N, v = P, y = A, b = O, w = e, Om.matchNode(g, w.parentNode, y, b) && ng(g, v, b, w) || v.merge_with_parents && g.dom.getParent(w.parentNode, function(e) {
                            if (Om.matchNode(g, e, y, b)) return ng(g, v, b, w), !0
                        }), f = k, p = O, m = e, (h = P).styles && h.styles.backgroundColor && lg(m, cg(f, "fontSize"), ug(f, "backgroundColor", am(h.styles.backgroundColor, p))), c = k, d = e, "sub" !== (u = P).inline && "sup" !== u.inline || (lg(d, cg(c, "fontSize"), ug(c, "fontSize", "")), c.remove(c.select("sup" === u.inline ? "sub" : "sup", d), !0)), a = k, s = P, (l = e) && !1 !== s.merge_siblings && (l = sg(a, nm(l), l), l = sg(a, l, nm(l, !0)))) : k.remove(e, 1)
                    })
                };
            if ("false" !== l.getContentEditable(c.getNode())) {
                if (P) {
                    if (r) r.nodeType ? f(R, r) || ((t = l.createRng()).setStartBefore(r), t.setEndAfter(r), u(l, _m(N, t, R), 0, !0)) : u(l, r, 0, !0);
                    else if (s && P.inline && !l.select("td[data-mce-selected],th[data-mce-selected]").length) ! function(e, t, n) {
                        var r, o, i, a, s, l, c = e.selection;
                        a = (r = c.getRng(!0)).startOffset, l = r.startContainer.nodeValue, (o = Jl(e.getBody(), c.getStart())) && (i = Lm(o));
                        var u, d, f = /[^\s\u00a0\u00ad\u200b\ufeff]/;
                        l && 0 < a && a < l.length && f.test(l.charAt(a)) && f.test(l.charAt(a - 1)) ? (s = c.getBookmark(), r.collapse(!0), r = _m(e, r, e.formatter.get(t)), r = Pm(r), e.formatter.apply(t, n, r), c.moveToBookmark(s)) : (o && i.nodeValue === Bm || (u = e.getDoc(), d = zm(!0).dom(), i = (o = u.importNode(d, !0)).firstChild, r.insertNode(o), a = 1), e.formatter.apply(t, n, o), c.setCursorLocation(i, a))
                    }(N, A, O);
                    else {
                        var d = N.selection.getNode();
                        N.settings.forced_root_block || !R[0].defaultBlock || l.getParent(d, l.isBlock) || pg(N, R[0].defaultBlock), N.selection.setRng(Cc(N.selection.getRng())), e = Zl.getPersistentBookmark(N.selection, !0), u(l, _m(N, c.getRng(), R)), P.styles && (o = l, a = d, ((i = P).styles.color || i.styles.textDecoration) && (zt.walk(a, H.curry(fg, o), "childNodes"), fg(o, a))), c.moveToBookmark(e), tm(l, c, c.getRng()), N.nodeChanged()
                    }
                    n = N, Vm(qm[A], function(e) {
                        e(n)
                    })
                }
            } else {
                r = c.getNode();
                for (var h = 0, p = R.length; h < p; h++)
                    if (R[h].ceFalseOverride && l.is(r, R[h].selector)) return void B(r, R[h])
            }
        },
        mg = {
            applyFormat: pg
        },
        gg = zt.each,
        vg = function(e, t, n, r, o) {
            var i, a, s, l, c, u, d, f;
            null === t.get() && (a = e, s = {}, (i = t).set({}), a.on("NodeChange", function(n) {
                var r = dm(a.dom, n.element),
                    o = {};
                r = zt.grep(r, function(e) {
                    return 1 === e.nodeType && !e.getAttribute("data-mce-bogus")
                }), gg(i.get(), function(e, n) {
                    gg(r, function(t) {
                        return a.formatter.matchNode(t, n, {}, e.similar) ? (s[n] || (gg(e, function(e) {
                            e(!0, {
                                node: t,
                                format: n,
                                parents: r
                            })
                        }), s[n] = e), o[n] = e, !1) : !Om.matchesUnInheritedFormatSelector(a, t, n) && void 0
                    })
                }), gg(s, function(e, t) {
                    o[t] || (delete s[t], gg(e, function(e) {
                        e(!1, {
                            node: n.element,
                            format: t,
                            parents: r
                        })
                    }))
                })
            })), c = n, u = r, d = o, f = (l = t).get(), gg(c.split(","), function(e) {
                f[e] || (f[e] = [], f[e].similar = d), f[e].push(u)
            }), l.set(f)
        },
        yg = function(r) {
            var t = {
                valigntop: [{
                    selector: "td,th",
                    styles: {
                        verticalAlign: "top"
                    }
                }],
                valignmiddle: [{
                    selector: "td,th",
                    styles: {
                        verticalAlign: "middle"
                    }
                }],
                valignbottom: [{
                    selector: "td,th",
                    styles: {
                        verticalAlign: "bottom"
                    }
                }],
                alignleft: [{
                    selector: "figure.image",
                    collapsed: !1,
                    classes: "align-left",
                    ceFalseOverride: !0,
                    preview: "font-family font-size"
                }, {
                    selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                    styles: {
                        textAlign: "left"
                    },
                    inherit: !1,
                    preview: !1,
                    defaultBlock: "div"
                }, {
                    selector: "img,table",
                    collapsed: !1,
                    styles: {
                        float: "left"
                    },
                    preview: "font-family font-size"
                }],
                aligncenter: [{
                    selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                    styles: {
                        textAlign: "center"
                    },
                    inherit: !1,
                    preview: "font-family font-size",
                    defaultBlock: "div"
                }, {
                    selector: "figure.image",
                    collapsed: !1,
                    classes: "align-center",
                    ceFalseOverride: !0,
                    preview: "font-family font-size"
                }, {
                    selector: "img",
                    collapsed: !1,
                    styles: {
                        display: "block",
                        marginLeft: "auto",
                        marginRight: "auto"
                    },
                    preview: !1
                }, {
                    selector: "table",
                    collapsed: !1,
                    styles: {
                        marginLeft: "auto",
                        marginRight: "auto"
                    },
                    preview: "font-family font-size"
                }],
                alignright: [{
                    selector: "figure.image",
                    collapsed: !1,
                    classes: "align-right",
                    ceFalseOverride: !0,
                    preview: "font-family font-size"
                }, {
                    selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                    styles: {
                        textAlign: "right"
                    },
                    inherit: !1,
                    preview: "font-family font-size",
                    defaultBlock: "div"
                }, {
                    selector: "img,table",
                    collapsed: !1,
                    styles: {
                        float: "right"
                    },
                    preview: "font-family font-size"
                }],
                alignjustify: [{
                    selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                    styles: {
                        textAlign: "justify"
                    },
                    inherit: !1,
                    defaultBlock: "div",
                    preview: "font-family font-size"
                }],
                bold: [{
                    inline: "strong",
                    remove: "all"
                }, {
                    inline: "span",
                    styles: {
                        fontWeight: "bold"
                    }
                }, {
                    inline: "b",
                    remove: "all"
                }],
                italic: [{
                    inline: "em",
                    remove: "all"
                }, {
                    inline: "span",
                    styles: {
                        fontStyle: "italic"
                    }
                }, {
                    inline: "i",
                    remove: "all"
                }],
                underline: [{
                    inline: "span",
                    styles: {
                        textDecoration: "underline"
                    },
                    exact: !0
                }, {
                    inline: "u",
                    remove: "all"
                }],
                strikethrough: [{
                    inline: "span",
                    styles: {
                        textDecoration: "line-through"
                    },
                    exact: !0
                }, {
                    inline: "strike",
                    remove: "all"
                }],
                forecolor: {
                    inline: "span",
                    styles: {
                        color: "%value"
                    },
                    links: !0,
                    remove_similar: !0,
                    clear_child_styles: !0
                },
                hilitecolor: {
                    inline: "span",
                    styles: {
                        backgroundColor: "%value"
                    },
                    links: !0,
                    remove_similar: !0,
                    clear_child_styles: !0
                },
                fontname: {
                    inline: "span",
                    toggle: !1,
                    styles: {
                        fontFamily: "%value"
                    },
                    clear_child_styles: !0
                },
                fontsize: {
                    inline: "span",
                    toggle: !1,
                    styles: {
                        fontSize: "%value"
                    },
                    clear_child_styles: !0
                },
                fontsize_class: {
                    inline: "span",
                    attributes: {
                        class: "%value"
                    }
                },
                blockquote: {
                    block: "blockquote",
                    wrapper: 1,
                    remove: "all"
                },
                subscript: {
                    inline: "sub"
                },
                superscript: {
                    inline: "sup"
                },
                code: {
                    inline: "code"
                },
                link: {
                    inline: "a",
                    selector: "a",
                    remove: "all",
                    split: !0,
                    deep: !0,
                    onmatch: function() {
                        return !0
                    },
                    onformat: function(n, e, t) {
                        zt.each(t, function(e, t) {
                            r.setAttrib(n, t, e)
                        })
                    }
                },
                removeformat: [{
                    selector: "b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",
                    remove: "all",
                    split: !0,
                    expand: !1,
                    block_expand: !0,
                    deep: !0
                }, {
                    selector: "span",
                    attributes: ["style", "class"],
                    remove: "empty",
                    split: !0,
                    expand: !1,
                    deep: !0
                }, {
                    selector: "*",
                    attributes: ["style", "class"],
                    split: !1,
                    expand: !1,
                    deep: !0
                }]
            };
            return zt.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/), function(e) {
                t[e] = {
                    block: e,
                    remove: "all"
                }
            }), t
        },
        bg = zt.each,
        wg = gi.DOM,
        xg = function(e, t) {
            var n, o, r, h = t && t.schema || ri({}),
                p = function(e) {
                    var t, n, r;
                    return o = "string" == typeof e ? {
                        name: e,
                        classes: [],
                        attrs: {}
                    } : e, n = t = wg.create(o.name), (r = o).classes.length && wg.addClass(n, r.classes.join(" ")), wg.setAttribs(n, r.attrs), t
                },
                m = function(n, e, t) {
                    var r, o, i, a, s, l, c, u, d = 0 < e.length && e[0],
                        f = d && d.name;
                    if (s = f, l = "string" != typeof(a = n) ? a.nodeName.toLowerCase() : a, i = !(!(u = (c = h.getElementRule(l)) && c.parentsRequired) || !u.length) && (s && -1 !== zt.inArray(u, s) ? s : u[0])) f === i ? (o = e[0], e = e.slice(1)) : o = i;
                    else if (d) o = e[0], e = e.slice(1);
                    else if (!t) return n;
                    return o && (r = p(o)).appendChild(n), t && (r || (r = wg.create("div")).appendChild(n), zt.each(t, function(e) {
                        var t = p(e);
                        r.insertBefore(t, n)
                    })), m(r, e, o && o.siblings)
                };
            return e && e.length ? (o = e[0], n = p(o), (r = wg.create("div")).appendChild(m(n, e.slice(1), o.siblings)), r) : ""
        },
        Cg = function(e) {
            var t, a = {
                classes: [],
                attrs: {}
            };
            return "*" !== (e = a.selector = zt.trim(e)) && (t = e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g, function(e, t, n, r, o) {
                switch (t) {
                    case "#":
                        a.attrs.id = n;
                        break;
                    case ".":
                        a.classes.push(n);
                        break;
                    case ":":
                        -1 !== zt.inArray("checked disabled enabled read-only required".split(" "), n) && (a.attrs[n] = n)
                }
                if ("[" === r) {
                    var i = o.match(/([\w\-]+)(?:\=\"([^\"]+))?/);
                    i && (a.attrs[i[1]] = i[2])
                }
                return ""
            })), a.name = t || "div", a
        },
        _g = function(n, e) {
            var t, r, o, i, a, s, l = "";
            if (!1 === (s = n.settings.preview_styles)) return "";
            "string" != typeof s && (s = "font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");
            var c, u = function(e) {
                return e.replace(/%(\w+)/g, "")
            };
            if ("string" == typeof e) {
                if (!(e = n.formatter.get(e))) return;
                e = e[0]
            }
            return "preview" in e && !1 === (s = e.preview) ? "" : (t = e.block || e.inline || "span", r = (c = e.selector, i = c && "string" == typeof c ? (c = (c = c.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g, "$1"), zt.map(c.split(/(?:>|\s+(?![^\[\]]+\]))/), function(e) {
                var t = zt.map(e.split(/(?:~\+|~|\+)/), Cg),
                    n = t.pop();
                return t.length && (n.siblings = t), n
            }).reverse()) : []).length ? (i[0].name || (i[0].name = t), t = e.selector, xg(i, n)) : xg([t], n), o = wg.select(t, r)[0] || r.firstChild, bg(e.styles, function(e, t) {
                (e = u(e)) && wg.setStyle(o, t, e)
            }), bg(e.attributes, function(e, t) {
                (e = u(e)) && wg.setAttrib(o, t, e)
            }), bg(e.classes, function(e) {
                e = u(e), wg.hasClass(o, e) || wg.addClass(o, e)
            }), n.fire("PreviewFormats"), wg.setStyles(r, {
                position: "absolute",
                left: -65535
            }), n.getBody().appendChild(r), a = wg.getStyle(n.getBody(), "fontSize", !0), a = /px$/.test(a) ? parseInt(a, 10) : 0, bg(s.split(" "), function(e) {
                var t = wg.getStyle(o, e, !0);
                if (!("background-color" === e && /transparent|rgba\s*\([^)]+,\s*0\)/.test(t) && (t = wg.getStyle(n.getBody(), e, !0), "#ffffff" === wg.toHex(t).toLowerCase()) || "color" === e && "#000000" === wg.toHex(t).toLowerCase())) {
                    if ("font-size" === e && /em|%$/.test(t)) {
                        if (0 === a) return;
                        t = parseFloat(t) / (/%$/.test(t) ? 100 : 1) * a + "px"
                    }
                    "border" === e && t && (l += "padding:0 2px;"), l += e + ":" + t + ";"
                }
            }), n.fire("AfterPreviewFormats"), wg.remove(r), l)
        },
        Sg = function(e, t, n, r, o) {
            var i = t.get(n);
            !Om.match(e, n, r, o) || "toggle" in i[0] && !i[0].toggle ? mg.applyFormat(e, n, r, o) : rg(e, n, r, o)
        };

    function Eg(e) {
        var t, n, r, o, i, a, s, l = (n = {}, (r = function(e, t) {
                e && ("string" != typeof e ? zt.each(e, function(e, t) {
                    r(t, e)
                }) : (t = t.length ? t : [t], zt.each(t, function(e) {
                    void 0 === e.deep && (e.deep = !e.selector), void 0 === e.split && (e.split = !e.selector || e.inline), void 0 === e.remove && e.selector && !e.inline && (e.remove = "none"), e.selector && e.inline && (e.mixed = !0, e.block_expand = !0), "string" == typeof e.classes && (e.classes = e.classes.split(/\s+/))
                }), n[e] = t))
            })(yg((t = e).dom)), r(t.settings.formats), {
                get: function(e) {
                    return e ? n[e] : n
                },
                register: r,
                unregister: function(e) {
                    return e && n[e] && delete n[e], n
                }
            }),
            c = Ds(null);
        return function(e) {
            e.addShortcut("meta+b", "", "Bold"), e.addShortcut("meta+i", "", "Italic"), e.addShortcut("meta+u", "", "Underline");
            for (var t = 1; t <= 6; t++) e.addShortcut("access+" + t, "", ["FormatBlock", !1, "h" + t]);
            e.addShortcut("access+7", "", ["FormatBlock", !1, "p"]), e.addShortcut("access+8", "", ["FormatBlock", !1, "div"]), e.addShortcut("access+9", "", ["FormatBlock", !1, "address"])
        }(e), i = (o = e).dom, a = o.selection, s = o.getBody(), o.on("mouseup keydown", function(e) {
            var t, n, r, o;
            t = s, n = i, r = a, o = e.keyCode, Mm(t, n, r, null, !1), 8 === o && r.isCollapsed() && r.getStart().innerHTML === Bm && Mm(t, n, r, Jl(t, r.getStart())), 37 !== o && 39 !== o || Mm(t, n, r, Jl(t, r.getStart()))
        }), {
            get: l.get,
            register: l.register,
            unregister: l.unregister,
            apply: H.curry(mg.applyFormat, e),
            remove: H.curry(rg, e),
            toggle: H.curry(Sg, e, l),
            match: H.curry(Om.match, e),
            matchAll: H.curry(Om.matchAll, e),
            matchNode: H.curry(Om.matchNode, e),
            canApply: H.curry(Om.canApply, e),
            formatChanged: H.curry(vg, e, c),
            getCssText: H.curry(_g, e)
        }
    }
    var kg = function(a) {
            return function() {
                for (var e = new Array(arguments.length), t = 0; t < e.length; t++) e[t] = arguments[t];
                if (0 === e.length) throw new Error("Can't merge zero objects");
                for (var n = {}, r = 0; r < e.length; r++) {
                    var o = e[r];
                    for (var i in o) o.hasOwnProperty(i) && (n[i] = a(n[i], o[i]))
                }
                return n
            }
        },
        Tg = kg(function(e, t) {
            return F.isObject(e) && F.isObject(t) ? Tg(e, t) : t
        }),
        Ng = kg(function(e, t) {
            return t
        }),
        Ag = {
            deepMerge: Tg,
            merge: Ng
        },
        Og = function(t, l, c) {
            t.addAttributeFilter("data-mce-tabindex", function(e, t) {
                for (var n, r = e.length; r--;)(n = e[r]).attr("tabindex", n.attributes.map["data-mce-tabindex"]), n.attr(t, null)
            }), t.addAttributeFilter("src,href,style", function(e, t) {
                for (var n, r, o = e.length, i = "data-mce-" + t, a = l.url_converter, s = l.url_converter_scope; o--;) void 0 !== (r = (n = e[o]).attributes.map[i]) ? (n.attr(t, 0 < r.length ? r : null), n.attr(i, null)) : (r = n.attributes.map[t], "style" === t ? r = c.serializeStyle(c.parseStyle(r), n.name) : a && (r = a.call(s, r, t, n.name)), n.attr(t, 0 < r.length ? r : null))
            }), t.addAttributeFilter("class", function(e) {
                for (var t, n, r = e.length; r--;)(n = (t = e[r]).attr("class")) && (n = t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g, ""), t.attr("class", 0 < n.length ? n : null))
            }), t.addAttributeFilter("data-mce-type", function(e, t, n) {
                for (var r, o = e.length; o--;) "bookmark" !== (r = e[o]).attributes.map["data-mce-type"] || n.cleanup || r.remove()
            }), t.addNodeFilter("noscript", function(e) {
                for (var t, n = e.length; n--;)(t = e[n].firstChild) && (t.value = Wo.decode(t.value))
            }), t.addNodeFilter("script,style", function(e, t) {
                for (var n, r, o, i = e.length, a = function(e) {
                        return e.replace(/(<!--\[CDATA\[|\]\]-->)/g, "\n").replace(/^[\r\n]*|[\r\n]*$/g, "").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi, "").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g, "")
                    }; i--;) r = (n = e[i]).firstChild ? n.firstChild.value : "", "script" === t ? ((o = n.attr("type")) && n.attr("type", "mce-no/type" === o ? null : o.replace(/^mce\-/, "")), "xhtml" === l.element_format && 0 < r.length && (n.firstChild.value = "// <![CDATA[\n" + a(r) + "\n// ]]>")) : "xhtml" === l.element_format && 0 < r.length && (n.firstChild.value = "\x3c!--\n" + a(r) + "\n--\x3e")
            }), t.addNodeFilter("#comment", function(e) {
                for (var t, n = e.length; n--;) 0 === (t = e[n]).value.indexOf("[CDATA[") ? (t.name = "#cdata", t.type = 4, t.value = t.value.replace(/^\[CDATA\[|\]\]$/g, "")) : 0 === t.value.indexOf("mce:protected ") && (t.name = "#text", t.type = 3, t.raw = !0, t.value = unescape(t.value).substr(14))
            }), t.addNodeFilter("xml:namespace,input", function(e, t) {
                for (var n, r = e.length; r--;) 7 === (n = e[r]).type ? n.remove() : 1 === n.type && ("input" !== t || "type" in n.attributes.map || n.attr("type", "text"))
            }), t.addAttributeFilter("data-mce-type", function(e) {
                q.each(e, function(e) {
                    "format-caret" === e.attr("data-mce-type") && (e.isEmpty(t.schema.getNonEmptyElements()) ? e.remove() : e.unwrap())
                })
            }), t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize", function(e, t) {
                for (var n = e.length; n--;) e[n].attr(t, null)
            })
        },
        Rg = function(e) {
            var t, n, r = function(e) {
                return e && "br" === e.name
            };
            r(t = e.lastChild) && r(n = t.prev) && (t.remove(), n.remove())
        },
        Pg = function(e, t, n) {
            return h = n, (f = e) && f.hasEventListeners("PreProcess") && !h.no_events ? (a = t, s = n, d = (i = e).dom, a = a.cloneNode(!0), (l = document.implementation).createHTMLDocument && (c = l.createHTMLDocument(""), zt.each("BODY" === a.nodeName ? a.childNodes : [a], function(e) {
                c.body.appendChild(c.importNode(e, !0))
            }), a = "BODY" !== a.nodeName ? c.body.firstChild : c.body, u = d.doc, d.doc = c), r = i, o = Ag.merge(s, {
                node: a
            }), r.fire("PreProcess", o), u && (d.doc = u), a) : t;
            var r, o, i, a, s, l, c, u, d, f, h
        },
        Bg = function(e, t) {
            var n, r, s, l, o = ii();
            t.convert_fonts_to_spans && (r = e, s = o, l = zt.explode(t.font_size_legacy_values), r.addNodeFilter("font", function(e) {
                q.each(e, function(e) {
                    var t, n, r = s.parse(e.attr("style")),
                        o = e.attr("color"),
                        i = e.attr("face"),
                        a = e.attr("size");
                    o && (r.color = o), i && (r["font-family"] = i), a && (r["font-size"] = l[parseInt(e.attr("size"), 10) - 1]), e.name = "span", e.attr("style", s.serialize(r)), t = e, n = ["color", "face", "size"], q.each(n, function(e) {
                        t.attr(e, null)
                    })
                })
            })), n = o, e.addNodeFilter("strike", function(e) {
                q.each(e, function(e) {
                    var t = n.parse(e.attr("style"));
                    t["text-decoration"] = "line-through", e.name = "span", e.attr("style", n.serialize(t))
                })
            })
        },
        Dg = {
            register: function(e, t) {
                t.inline_styles && Bg(e, t)
            }
        },
        Lg = /^[ \t\r\n]*$/,
        zg = {
            "#text": 3,
            "#comment": 8,
            "#cdata": 4,
            "#pi": 7,
            "#doctype": 10,
            "#document-fragment": 11
        },
        Ig = function(e, t, n) {
            var r, o, i = n ? "lastChild" : "firstChild",
                a = n ? "prev" : "next";
            if (e[i]) return e[i];
            if (e !== t) {
                if (r = e[a]) return r;
                for (o = e.parent; o && o !== t; o = o.parent)
                    if (r = o[a]) return r
            }
        },
        Mg = function() {
            function a(e, t) {
                this.name = e, 1 === (this.type = t) && (this.attributes = [], this.attributes.map = {})
            }
            return a.create = function(e, t) {
                var n, r;
                if (n = new a(e, zg[e] || 1), t)
                    for (r in t) n.attr(r, t[r]);
                return n
            }, a.prototype.replace = function(e) {
                return e.parent && e.remove(), this.insert(e, this), this.remove(), this
            }, a.prototype.attr = function(e, t) {
                var n, r;
                if ("string" != typeof e) {
                    for (r in e) this.attr(r, e[r]);
                    return this
                }
                if (n = this.attributes) {
                    if (void 0 === t) return n.map[e];
                    if (null === t) {
                        if (e in n.map)
                            for (delete n.map[e], r = n.length; r--;)
                                if (n[r].name === e) return n = n.splice(r, 1), this;
                        return this
                    }
                    if (e in n.map) {
                        for (r = n.length; r--;)
                            if (n[r].name === e) {
                                n[r].value = t;
                                break
                            }
                    } else n.push({
                        name: e,
                        value: t
                    });
                    return n.map[e] = t, this
                }
            }, a.prototype.clone = function() {
                var e, t, n, r, o, i = new a(this.name, this.type);
                if (n = this.attributes) {
                    for ((o = []).map = {}, e = 0, t = n.length; e < t; e++) "id" !== (r = n[e]).name && (o[o.length] = {
                        name: r.name,
                        value: r.value
                    }, o.map[r.name] = r.value);
                    i.attributes = o
                }
                return i.value = this.value, i.shortEnded = this.shortEnded, i
            }, a.prototype.wrap = function(e) {
                return this.parent.insert(e, this), e.append(this), this
            }, a.prototype.unwrap = function() {
                var e, t;
                for (e = this.firstChild; e;) t = e.next, this.insert(e, this, !0), e = t;
                this.remove()
            }, a.prototype.remove = function() {
                var e = this.parent,
                    t = this.next,
                    n = this.prev;
                return e && (e.firstChild === this ? (e.firstChild = t) && (t.prev = null) : n.next = t, e.lastChild === this ? (e.lastChild = n) && (n.next = null) : t.prev = n, this.parent = this.next = this.prev = null), this
            }, a.prototype.append = function(e) {
                var t;
                return e.parent && e.remove(), (t = this.lastChild) ? ((t.next = e).prev = t, this.lastChild = e) : this.lastChild = this.firstChild = e, e.parent = this, e
            }, a.prototype.insert = function(e, t, n) {
                var r;
                return e.parent && e.remove(), r = t.parent || this, n ? (t === r.firstChild ? r.firstChild = e : t.prev.next = e, e.prev = t.prev, (e.next = t).prev = e) : (t === r.lastChild ? r.lastChild = e : t.next.prev = e, e.next = t.next, (e.prev = t).next = e), e.parent = r, e
            }, a.prototype.getAll = function(e) {
                var t, n = [];
                for (t = this.firstChild; t; t = Ig(t, this)) t.name === e && n.push(t);
                return n
            }, a.prototype.empty = function() {
                var e, t, n;
                if (this.firstChild) {
                    for (e = [], n = this.firstChild; n; n = Ig(n, this)) e.push(n);
                    for (t = e.length; t--;)(n = e[t]).parent = n.firstChild = n.lastChild = n.next = n.prev = null
                }
                return this.firstChild = this.lastChild = null, this
            }, a.prototype.isEmpty = function(e, t, n) {
                var r, o, i = this.firstChild;
                if (t = t || {}, i)
                    do {
                        if (1 === i.type) {
                            if (i.attributes.map["data-mce-bogus"]) continue;
                            if (e[i.name]) return !1;
                            for (r = i.attributes.length; r--;)
                                if ("name" === (o = i.attributes[r].name) || 0 === o.indexOf("data-mce-bookmark")) return !1
                        }
                        if (8 === i.type) return !1;
                        if (3 === i.type && !Lg.test(i.value)) return !1;
                        if (3 === i.type && i.parent && t[i.parent.name] && Lg.test(i.value)) return !1;
                        if (n && n(i)) return !1
                    } while (i = Ig(i, this));
                return !0
            }, a.prototype.walk = function(e) {
                return Ig(this, null, e)
            }, a
        }(),
        $g = function(e, t, n, r) {
            (e.padd_empty_with_br || t.insert) && n[r.name] ? r.empty().append(new Mg("br", 1)).shortEnded = !0 : r.empty().append(new Mg("#text", 3)).value = " "
        },
        Fg = function(e) {
            return jg(e, "#text") && " " === e.firstChild.value
        },
        jg = function(e, t) {
            return e && e.firstChild && e.firstChild === e.lastChild && e.firstChild.name === t
        },
        Hg = function(r, e, t, n) {
            return n.isEmpty(e, t, function(e) {
                return t = e, (n = r.getElementRule(t.name)) && n.paddEmpty;
                var t, n
            })
        },
        qg = function(e, t) {
            return e && (t[e.name] || "br" === e.name)
        },
        Ug = function(e, m) {
            var g = e.schema;
            m.remove_trailing_brs && e.addNodeFilter("br", function(e, t, n) {
                var r, o, i, a, s, l, c, u, d = e.length,
                    f = zt.extend({}, g.getBlockElements()),
                    h = g.getNonEmptyElements(),
                    p = g.getNonEmptyElements();
                for (f.body = 1, r = 0; r < d; r++)
                    if (i = (o = e[r]).parent, f[o.parent.name] && o === i.lastChild) {
                        for (s = o.prev; s;) {
                            if ("span" !== (l = s.name) || "bookmark" !== s.attr("data-mce-type")) {
                                if ("br" !== l) break;
                                if ("br" === l) {
                                    o = null;
                                    break
                                }
                            }
                            s = s.prev
                        }
                        o && (o.remove(), Hg(g, h, p, i) && (c = g.getElementRule(i.name)) && (c.removeEmpty ? i.remove() : c.paddEmpty && $g(m, n, f, i)))
                    } else {
                        for (a = o; i && i.firstChild === a && i.lastChild === a && !f[(a = i).name];) i = i.parent;
                        a === i && !0 !== m.padd_empty_with_br && ((u = new Mg("#text", 3)).value = " ", o.replace(u))
                    }
            }), e.addAttributeFilter("href", function(e) {
                var t, n, r, o = e.length;
                if (!m.allow_unsafe_link_target)
                    for (; o--;) "a" === (t = e[o]).name && "_blank" === t.attr("target") && t.attr("rel", (r = (n = t.attr("rel")) ? zt.trim(n) : "", /\b(noopener)\b/g.test(r) ? r : r.split(" ").filter(function(e) {
                        return 0 < e.length
                    }).concat(["noopener"]).sort().join(" ")))
            }), m.allow_html_in_named_anchor || e.addAttributeFilter("id,name", function(e) {
                for (var t, n, r, o, i = e.length; i--;)
                    if ("a" === (o = e[i]).name && o.firstChild && !o.attr("href"))
                        for (r = o.parent, t = o.lastChild; n = t.prev, r.insert(t, o), t = n;);
            }), m.fix_list_elements && e.addNodeFilter("ul,ol", function(e) {
                for (var t, n, r = e.length; r--;)
                    if ("ul" === (n = (t = e[r]).parent).name || "ol" === n.name)
                        if (t.prev && "li" === t.prev.name) t.prev.append(t);
                        else {
                            var o = new Mg("li", 1);
                            o.attr("style", "list-style-type: none"), t.wrap(o)
                        }
            }), m.validate && g.getValidClasses() && e.addAttributeFilter("class", function(e) {
                for (var t, n, r, o, i, a, s, l = e.length, c = g.getValidClasses(); l--;) {
                    for (n = (t = e[l]).attr("class").split(" "), i = "", r = 0; r < n.length; r++) o = n[r], s = !1, (a = c["*"]) && a[o] && (s = !0), a = c[t.name], !s && a && a[o] && (s = !0), s && (i && (i += " "), i += o);
                    i.length || (i = null), t.attr("class", i)
                }
            })
        },
        Vg = zt.makeMap,
        Wg = zt.each,
        Yg = zt.explode,
        Kg = zt.extend;

    function Xg(k, T) {
        void 0 === T && (T = ri());
        var N = {},
            A = [],
            O = {},
            R = {};
        (k = k || {}).validate = !("validate" in k) || k.validate, k.root_name = k.root_name || "body";
        var P = function(e) {
                var t, n, r;
                n in N && ((r = O[n]) ? r.push(e) : O[n] = [e]), t = A.length;
                for (; t--;)(n = A[t].name) in e.attributes.map && ((r = R[n]) ? r.push(e) : R[n] = [e]);
                return e
            },
            e = {
                schema: T,
                addAttributeFilter: function(e, n) {
                    Wg(Yg(e), function(e) {
                        var t;
                        for (t = 0; t < A.length; t++)
                            if (A[t].name === e) return void A[t].callbacks.push(n);
                        A.push({
                            name: e,
                            callbacks: [n]
                        })
                    })
                },
                getAttributeFilters: function() {
                    return [].concat(A)
                },
                addNodeFilter: function(e, n) {
                    Wg(Yg(e), function(e) {
                        var t = N[e];
                        t || (N[e] = t = []), t.push(n)
                    })
                },
                getNodeFilters: function() {
                    var e = [];
                    for (var t in N) N.hasOwnProperty(t) && e.push({
                        name: t,
                        callbacks: N[t]
                    });
                    return e
                },
                filterNode: P,
                parse: function(e, a) {
                    var t, n, r, o, i, s, l, c, u, d, f, h = [];
                    a = a || {}, O = {}, R = {}, u = Kg(Vg("script,style,head,html,body,title,meta,param"), T.getBlockElements());
                    var p = T.getNonEmptyElements(),
                        m = T.children,
                        g = k.validate,
                        v = "forced_root_block" in a ? a.forced_root_block : k.forced_root_block,
                        y = T.getWhiteSpaceElements(),
                        b = /^[ \t\r\n]+/,
                        w = /[ \t\r\n]+$/,
                        x = /[ \t\r\n]+/g,
                        C = /^[ \t\r\n]+$/;
                    d = y.hasOwnProperty(a.context) || y.hasOwnProperty(k.root_name);
                    var _ = function(e, t) {
                            var n, r = new Mg(e, t);
                            return e in N && ((n = O[e]) ? n.push(r) : O[e] = [r]), r
                        },
                        S = function(e) {
                            var t, n, r, o, i = T.getBlockElements();
                            for (t = e.prev; t && 3 === t.type;) {
                                if (0 < (r = t.value.replace(w, "")).length) return void(t.value = r);
                                if (n = t.next) {
                                    if (3 === n.type && n.value.length) {
                                        t = t.prev;
                                        continue
                                    }
                                    if (!i[n.name] && "script" !== n.name && "style" !== n.name) {
                                        t = t.prev;
                                        continue
                                    }
                                }
                                o = t.prev, t.remove(), t = o
                            }
                        };
                    t = zp({
                        validate: g,
                        allow_script_urls: k.allow_script_urls,
                        allow_conditional_comments: k.allow_conditional_comments,
                        self_closing_elements: function(e) {
                            var t, n = {};
                            for (t in e) "li" !== t && "p" !== t && (n[t] = e[t]);
                            return n
                        }(T.getSelfClosingElements()),
                        cdata: function(e) {
                            f.append(_("#cdata", 4)).value = e
                        },
                        text: function(e, t) {
                            var n;
                            d || (e = e.replace(x, " "), qg(f.lastChild, u) && (e = e.replace(b, ""))), 0 !== e.length && ((n = _("#text", 3)).raw = !!t, f.append(n).value = e)
                        },
                        comment: function(e) {
                            f.append(_("#comment", 8)).value = e
                        },
                        pi: function(e, t) {
                            f.append(_(e, 7)).value = t, S(f)
                        },
                        doctype: function(e) {
                            f.append(_("#doctype", 10)).value = e, S(f)
                        },
                        start: function(e, t, n) {
                            var r, o, i, a, s;
                            if (i = g ? T.getElementRule(e) : {}) {
                                for ((r = _(i.outputName || e, 1)).attributes = t, r.shortEnded = n, f.append(r), (s = m[f.name]) && m[r.name] && !s[r.name] && h.push(r), o = A.length; o--;)(a = A[o].name) in t.map && ((l = R[a]) ? l.push(r) : R[a] = [r]);
                                u[e] && S(r), n || (f = r), !d && y[e] && (d = !0)
                            }
                        },
                        end: function(e) {
                            var t, n, r, o, i;
                            if (n = g ? T.getElementRule(e) : {}) {
                                if (u[e] && !d) {
                                    if ((t = f.firstChild) && 3 === t.type)
                                        if (0 < (r = t.value.replace(b, "")).length) t.value = r, t = t.next;
                                        else
                                            for (o = t.next, t.remove(), t = o; t && 3 === t.type;) r = t.value, o = t.next, (0 === r.length || C.test(r)) && (t.remove(), t = o), t = o;
                                    if ((t = f.lastChild) && 3 === t.type)
                                        if (0 < (r = t.value.replace(w, "")).length) t.value = r, t = t.prev;
                                        else
                                            for (o = t.prev, t.remove(), t = o; t && 3 === t.type;) r = t.value, o = t.prev, (0 === r.length || C.test(r)) && (t.remove(), t = o), t = o
                                }
                                if (d && y[e] && (d = !1), n.removeEmpty && Hg(T, p, y, f) && !f.attributes.map.name && !f.attr("id")) return i = f.parent, u[f.name] ? f.empty().remove() : f.unwrap(), void(f = i);
                                n.paddEmpty && (Fg(f) || Hg(T, p, y, f)) && $g(k, a, u, f), f = f.parent
                            }
                        }
                    }, T);
                    var E = f = new Mg(a.context || k.root_name, 11);
                    if (t.parse(e), g && h.length && (a.context ? a.invalid = !0 : function(e) {
                            var t, n, r, o, i, a, s, l, c, u, d, f, h, p, m, g;
                            for (f = Vg("tr,td,th,tbody,thead,tfoot,table"), u = T.getNonEmptyElements(), d = T.getWhiteSpaceElements(), h = T.getTextBlockElements(), p = T.getSpecialElements(), t = 0; t < e.length; t++)
                                if ((n = e[t]).parent && !n.fixed)
                                    if (h[n.name] && "li" === n.parent.name) {
                                        for (m = n.next; m && h[m.name];) m.name = "li", m.fixed = !0, n.parent.insert(m, n.parent), m = m.next;
                                        n.unwrap(n)
                                    } else {
                                        for (o = [n], r = n.parent; r && !T.isValidChild(r.name, n.name) && !f[r.name]; r = r.parent) o.push(r);
                                        if (r && 1 < o.length) {
                                            for (o.reverse(), i = a = P(o[0].clone()), c = 0; c < o.length - 1; c++) {
                                                for (T.isValidChild(a.name, o[c].name) ? (s = P(o[c].clone()), a.append(s)) : s = a, l = o[c].firstChild; l && l !== o[c + 1];) g = l.next, s.append(l), l = g;
                                                a = s
                                            }
                                            Hg(T, u, d, i) ? r.insert(n, o[0], !0) : (r.insert(i, o[0], !0), r.insert(n, i)), r = o[0], (Hg(T, u, d, r) || jg(r, "br")) && r.empty().remove()
                                        } else if (n.parent) {
                                            if ("li" === n.name) {
                                                if ((m = n.prev) && ("ul" === m.name || "ul" === m.name)) {
                                                    m.append(n);
                                                    continue
                                                }
                                                if ((m = n.next) && ("ul" === m.name || "ul" === m.name)) {
                                                    m.insert(n, m.firstChild, !0);
                                                    continue
                                                }
                                                n.wrap(P(new Mg("ul", 1)));
                                                continue
                                            }
                                            T.isValidChild(n.parent.name, "div") && T.isValidChild("div", n.name) ? n.wrap(P(new Mg("div", 1))) : p[n.name] ? n.empty().remove() : n.unwrap()
                                        }
                                    }
                        }(h)), v && ("body" === E.name || a.isRootContent) && function() {
                            var e, t, n = E.firstChild,
                                r = function(e) {
                                    e && ((n = e.firstChild) && 3 === n.type && (n.value = n.value.replace(b, "")), (n = e.lastChild) && 3 === n.type && (n.value = n.value.replace(w, "")))
                                };
                            if (T.isValidChild(E.name, v.toLowerCase())) {
                                for (; n;) e = n.next, 3 === n.type || 1 === n.type && "p" !== n.name && !u[n.name] && !n.attr("data-mce-type") ? (t || ((t = _(v, 1)).attr(k.forced_root_block_attrs), E.insert(t, n)), t.append(n)) : (r(t), t = null), n = e;
                                r(t)
                            }
                        }(), !a.invalid) {
                        for (c in O) {
                            for (l = N[c], i = (n = O[c]).length; i--;) n[i].parent || n.splice(i, 1);
                            for (r = 0, o = l.length; r < o; r++) l[r](n, c, a)
                        }
                        for (r = 0, o = A.length; r < o; r++)
                            if ((l = A[r]).name in R) {
                                for (i = (n = R[l.name]).length; i--;) n[i].parent || n.splice(i, 1);
                                for (i = 0, s = l.callbacks.length; i < s; i++) l.callbacks[i](n, l.name, a)
                            }
                    }
                    return E
                }
            };
        return Ug(e, k), Dg.register(e, k), e
    }
    var Zg = function(e, t, n) {
        -1 === zt.inArray(t, n) && (e.addAttributeFilter(n, function(e, t) {
            for (var n = e.length; n--;) e[n].attr(t, null)
        }), t.push(n))
    };

    function Gg(e, t) {
        var C, _, S, E, k, n, r = (C = e, n = ["data-mce-selected"], S = (_ = t) && _.dom ? _.dom : gi.DOM, E = _ && _.schema ? _.schema : ri(C), C.entity_encoding = C.entity_encoding || "named", C.remove_trailing_brs = !("remove_trailing_brs" in C) || C.remove_trailing_brs, k = Xg(C, E), Og(k, C, S), {
            schema: E,
            addNodeFilter: k.addNodeFilter,
            addAttributeFilter: k.addAttributeFilter,
            serialize: function(e, t) {
                var n, r, o, i, a, s, l, c, u, d, f, h, p, m, g, v, y = Ag.merge({
                        format: "html"
                    }, t || {}),
                    b = Pg(_, e, y),
                    w = (s = S, l = b, u = Ni((c = y).getInner ? l.innerHTML : s.getOuterHTML(l)), c.selection || xo(Vn(l)) ? u : zt.trim(u)),
                    x = (n = k, r = w, i = (o = y).selection ? Ag.merge({
                        forced_root_block: !1
                    }, o) : o, a = n.parse(r, i), Rg(a), a);
                return "tree" === y.format ? x : (d = y, h = _, f = x, m = xc(C, E).serialize(f), !(p = d).no_events && h ? (g = h, v = Ag.merge(p, {
                    content: m
                }), g.fire("PostProcess", v)).content : m)
            },
            addRules: function(e) {
                E.addValidElements(e)
            },
            setRules: function(e) {
                E.setValidElements(e)
            },
            addTempAttr: H.curry(Zg, k, n),
            getTempAttrs: function() {
                return n
            }
        });
        return {
            schema: r.schema,
            addNodeFilter: r.addNodeFilter,
            addAttributeFilter: r.addAttributeFilter,
            serialize: r.serialize,
            addRules: r.addRules,
            setRules: r.setRules,
            addTempAttr: r.addTempAttr,
            getTempAttrs: r.getTempAttrs
        }
    }

    function Qg(e) {
        return {
            getBookmark: H.curry(ac, e),
            moveToBookmark: H.curry(sc, e)
        }
    }(Qg || (Qg = {})).isBookmarkNode = lc;
    var Jg = Qg,
        ev = Po.isContentEditableFalse,
        tv = Po.isContentEditableTrue,
        nv = function(r, l) {
            var c, u, d, a, f, h, p, m, g, v, y, b, w, x, C, _, S, E = l.dom,
                s = zt.each,
                k = l.getDoc(),
                T = document,
                N = Math.abs,
                A = Math.round,
                O = l.getBody();
            a = {
                nw: [0, 0, -1, -1],
                ne: [1, 0, 1, -1],
                se: [1, 1, 1, 1],
                sw: [0, 1, -1, 1]
            };
            var e = ".mce-content-body";
            l.contentStyles.push(e + " div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}" + e + " .mce-resizehandle:hover {background: #000}" + e + " img[data-mce-selected]," + e + " hr[data-mce-selected] {outline: 1px solid black;resize: none}" + e + " .mce-clonedresizable {position: absolute;" + (ve.gecko ? "" : "outline: 1px dashed black;") + "opacity: .5;filter: alpha(opacity=50);z-index: 10000}" + e + " .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");
            var R = function(e) {
                    return e && ("IMG" === e.nodeName || l.dom.is(e, "figure.image"))
                },
                n = function(e) {
                    var t, n, r = e.target;
                    t = e, n = l.selection.getRng(), !R(t.target) || Ep(t.clientX, t.clientY, n) || e.isDefaultPrevented() || (e.preventDefault(), l.selection.select(r))
                },
                P = function(e) {
                    return l.dom.is(e, "figure.image") ? e.querySelector("img") : e
                },
                B = function(e) {
                    var t = l.settings.object_resizing;
                    return !1 !== t && !ve.iOS && ("string" != typeof t && (t = "table,img,figure.image,div"), "false" !== e.getAttribute("data-mce-resize") && e !== l.getBody() && Sr.is(Vn(e), t))
                },
                D = function(e) {
                    var t, n, r, o, i, a, s;
                    t = e.screenX - h, n = e.screenY - p, x = t * f[2] + v, C = n * f[3] + y, x = x < 5 ? 5 : x, C = C < 5 ? 5 : C, (R(c) && !1 !== l.settings.resize_img_proportional ? !Tp.modifierPressed(e) : Tp.modifierPressed(e) || R(c) && f[2] * f[3] != 0) && (N(t) > N(n) ? (C = A(x * b), x = A(C / b)) : (x = A(C / b), C = A(x * b))), E.setStyles(P(u), {
                        width: x,
                        height: C
                    }), r = 0 < (r = f.startPos.x + t) ? r : 0, o = 0 < (o = f.startPos.y + n) ? o : 0, E.setStyles(d, {
                        left: r,
                        top: o,
                        display: "block"
                    }), d.innerHTML = x + " &times; " + C, f[2] < 0 && u.clientWidth <= x && E.setStyle(u, "left", m + (v - x)), f[3] < 0 && u.clientHeight <= C && E.setStyle(u, "top", g + (y - C)), (t = O.scrollWidth - _) + (n = O.scrollHeight - S) != 0 && E.setStyles(d, {
                        left: r - t,
                        top: o - n
                    }), w || (i = c, a = v, s = y, l.fire("ObjectResizeStart", {
                        target: i,
                        width: a,
                        height: s
                    }), w = !0)
                },
                L = function() {
                    w = !1;
                    var e, t, n, r = function(e, t) {
                        t && (c.style[e] || !l.schema.isValid(c.nodeName.toLowerCase(), e) ? E.setStyle(P(c), e, t) : E.setAttrib(P(c), e, t))
                    };
                    r("width", x), r("height", C), E.unbind(k, "mousemove", D), E.unbind(k, "mouseup", L), T !== k && (E.unbind(T, "mousemove", D), E.unbind(T, "mouseup", L)), E.remove(u), E.remove(d), o(c), e = c, t = x, n = C, l.fire("ObjectResized", {
                        target: e,
                        width: t,
                        height: n
                    }), E.setAttrib(c, "style", E.getAttrib(c, "style")), l.nodeChanged()
                },
                o = function(e) {
                    var t, r, o, n, i;
                    z(), M(), t = E.getPos(e, O), m = t.x, g = t.y, i = e.getBoundingClientRect(), r = i.width || i.right - i.left, o = i.height || i.bottom - i.top, c !== e && (c = e, x = C = 0), n = l.fire("ObjectSelected", {
                        target: e
                    }), B(e) && !n.isDefaultPrevented() ? s(a, function(n, e) {
                        var t;
                        (t = E.get("mceResizeHandle" + e)) && E.remove(t), t = E.add(O, "div", {
                            id: "mceResizeHandle" + e,
                            "data-mce-bogus": "all",
                            class: "mce-resizehandle",
                            unselectable: !0,
                            style: "cursor:" + e + "-resize; margin:0; padding:0"
                        }), 11 === ve.ie && (t.contentEditable = !1), E.bind(t, "mousedown", function(e) {
                            var t;
                            e.stopImmediatePropagation(), e.preventDefault(), h = (t = e).screenX, p = t.screenY, v = P(c).clientWidth, y = P(c).clientHeight, b = y / v, (f = n).startPos = {
                                x: r * n[0] + m,
                                y: o * n[1] + g
                            }, _ = O.scrollWidth, S = O.scrollHeight, u = c.cloneNode(!0), E.addClass(u, "mce-clonedresizable"), E.setAttrib(u, "data-mce-bogus", "all"), u.contentEditable = !1, u.unSelectabe = !0, E.setStyles(u, {
                                left: m,
                                top: g,
                                margin: 0
                            }), u.removeAttribute("data-mce-selected"), O.appendChild(u), E.bind(k, "mousemove", D), E.bind(k, "mouseup", L), T !== k && (E.bind(T, "mousemove", D), E.bind(T, "mouseup", L)), d = E.add(O, "div", {
                                class: "mce-resize-helper",
                                "data-mce-bogus": "all"
                            }, v + " &times; " + y)
                        }), n.elm = t, E.setStyles(t, {
                            left: r * n[0] + m - t.offsetWidth / 2,
                            top: o * n[1] + g - t.offsetHeight / 2
                        })
                    }) : z(), c.setAttribute("data-mce-selected", "1")
                },
                z = function() {
                    var e, t;
                    for (e in M(), c && c.removeAttribute("data-mce-selected"), a)(t = E.get("mceResizeHandle" + e)) && (E.unbind(t), E.remove(t))
                },
                i = function(e) {
                    var t, n = function(e, t) {
                        if (e)
                            do {
                                if (e === t) return !0
                            } while (e = e.parentNode)
                    };
                    w || l.removed || (s(E.select("img[data-mce-selected],hr[data-mce-selected]"), function(e) {
                        e.removeAttribute("data-mce-selected")
                    }), t = "mousedown" === e.type ? e.target : r.getNode(), n(t = E.$(t).closest("table,img,figure.image,hr")[0], O) && ($(), n(r.getStart(!0), t) && n(r.getEnd(!0), t)) ? o(t) : z())
                },
                I = function(e) {
                    return ev(function(e, t) {
                        for (; t && t !== e;) {
                            if (tv(t) || ev(t)) return t;
                            t = t.parentNode
                        }
                        return null
                    }(l.getBody(), e))
                },
                M = function() {
                    for (var e in a) {
                        var t = a[e];
                        t.elm && (E.unbind(t.elm), delete t.elm)
                    }
                },
                $ = function() {
                    try {
                        l.getDoc().execCommand("enableObjectResizing", !1, !1)
                    } catch (e) {}
                };
            return l.on("init", function() {
                $(), ve.ie && 11 <= ve.ie && (l.on("mousedown click", function(e) {
                    var t = e.target,
                        n = t.nodeName;
                    w || !/^(TABLE|IMG|HR)$/.test(n) || I(t) || (2 !== e.button && l.selection.select(t, "TABLE" === n), "mousedown" === e.type && l.nodeChanged())
                }), l.dom.bind(O, "mscontrolselect", function(e) {
                    var t = function(e) {
                        Ce.setEditorTimeout(l, function() {
                            l.selection.select(e)
                        })
                    };
                    if (I(e.target)) return e.preventDefault(), void t(e.target);
                    /^(TABLE|IMG|HR)$/.test(e.target.nodeName) && (e.preventDefault(), "IMG" === e.target.tagName && t(e.target))
                }));
                var t = Ce.throttle(function(e) {
                    l.composing || i(e)
                });
                l.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged", t), l.on("keyup compositionend", function(e) {
                    c && "TABLE" === c.nodeName && t(e)
                }), l.on("hide blur", z), l.on("contextmenu", n)
            }), l.on("remove", M), {
                isResizable: B,
                showResizeRect: o,
                hideResizeRect: z,
                updateResizeRect: i,
                destroy: function() {
                    c = u = null
                }
            }
        },
        rv = function(e) {
            return Po.isContentEditableTrue(e) || Po.isContentEditableFalse(e)
        },
        ov = function(t, n, r) {
            var o, e, i, a, s, l = r;
            if (l.caretPositionFromPoint)(e = l.caretPositionFromPoint(t, n)) && ((o = r.createRange()).setStart(e.offsetNode, e.offset), o.collapse(!0));
            else if (r.caretRangeFromPoint) o = r.caretRangeFromPoint(t, n);
            else if (l.body.createTextRange) {
                o = l.body.createTextRange();
                try {
                    o.moveToPoint(t, n), o.collapse(!0)
                } catch (e) {
                    o = function(e, n, t) {
                        var r, o, i;
                        if (r = t.elementFromPoint(e, n), o = t.body.createTextRange(), r && "HTML" !== r.tagName || (r = t.body), o.moveToElementText(r), 0 < (i = (i = zt.toArray(o.getClientRects())).sort(function(e, t) {
                                return (e = Math.abs(Math.max(e.top - n, e.bottom - n))) - Math.abs(Math.max(t.top - n, t.bottom - n))
                            })).length) {
                            n = (i[0].bottom + i[0].top) / 2;
                            try {
                                return o.moveToPoint(e, n), o.collapse(!0), o
                            } catch (e) {}
                        }
                        return null
                    }(t, n, r)
                }
                return i = o, a = r.body, s = i && i.parentElement ? i.parentElement() : null, Po.isContentEditableFalse(function(e, t, n) {
                    for (; e && e !== t;) {
                        if (n(e)) return e;
                        e = e.parentNode
                    }
                    return null
                }(s, a, rv)) ? null : i
            }
            return o
        },
        iv = function(n, e) {
            return q.map(e, function(e) {
                var t = n.fire("GetSelectionRange", {
                    range: e
                });
                return t.range !== e ? t.range : e
            })
        },
        av = function(e, t) {
            return Vn(e.dom().cloneNode(t))
        },
        sv = function(e) {
            return av(e, !1)
        },
        lv = function(e) {
            return av(e, !0)
        },
        cv = function(e, t) {
            var n = (t || document).createDocumentFragment();
            return q.each(e, function(e) {
                n.appendChild(e.dom())
            }), Vn(n)
        },
        uv = wr("element", "width", "rows"),
        dv = wr("element", "cells"),
        fv = wr("x", "y"),
        hv = function(e, t) {
            var n = parseInt(ur(e, t), 10);
            return isNaN(n) ? 1 : n
        },
        pv = function(e) {
            return q.foldl(e, function(e, t) {
                return t.cells().length > e ? t.cells().length : e
            }, 0)
        },
        mv = function(e, t) {
            for (var n = e.rows(), r = 0; r < n.length; r++)
                for (var o = n[r].cells(), i = 0; i < o.length; i++)
                    if (Tr.eq(o[i], t)) return M.some(fv(i, r));
            return M.none()
        },
        gv = function(e, t, n, r, o) {
            for (var i = [], a = e.rows(), s = n; s <= o; s++) {
                var l = a[s].cells(),
                    c = t < r ? l.slice(t, r + 1) : l.slice(r, t + 1);
                i.push(dv(a[s].element(), c))
            }
            return i
        },
        vv = function(n, c) {
            return q.find(n, function(e) {
                return "li" === Qn.name(e) && (o = e, ua([(a = t = c, s = a.startContainer, l = a.startOffset, Po.isText(s) ? 0 === l ? M.some(Vn(s)) : M.none() : M.from(s.childNodes[l]).map(Vn)), (n = t, r = n.endContainer, i = n.endOffset, Po.isText(r) ? i === r.data.length ? M.some(Vn(r)) : M.none() : M.from(r.childNodes[i - 1]).map(Vn))], function(e, t) {
                    var n = q.find(Jh(o), H.curry(Tr.eq, e)),
                        r = q.find(ep(o), H.curry(Tr.eq, t));
                    return n.isSome() && r.isSome()
                }).getOr(!1));
                var o, t, n, r, i, a, s, l
            }).fold(H.constant([]), function(e) {
                return (t = n, q.find(t, function(e) {
                    return "ul" === Qn.name(e) || "ol" === Qn.name(e)
                })).map(function(e) {
                    return [qn("li"), qn(Qn.name(e))]
                }).getOr([]);
                var t
            })
        },
        yv = function() {
            return cv([])
        },
        bv = function(e, t) {
            return u = Vn(t.cloneContents()), n = e, i = Vn((r = t).commonAncestorContainer), a = ou(i, n), s = q.filter(a, function(e) {
                return ho(e) || uo(e)
            }), l = vv(a, r), c = s.concat(l.length ? l : vo(o = i) ? Ir(o).filter(go).fold(H.constant([]), function(e) {
                return [o, e]
            }) : go(o) ? [o] : []), d = q.map(c, sv), f = q.foldl(d, function(e, t) {
                return _s(t, e), t
            }, u), 0 < d.length ? cv([f]) : f;
            var n, r, o, i, a, s, l, c, u, d, f
        },
        wv = function(e, l) {
            return (t = e, n = l[0], Uc(n, "table", H.curry(Tr.eq, t))).bind(function(e) {
                var t, o, u, n, r, i = l[0],
                    a = l[l.length - 1],
                    s = (o = uv(sv(t = e), 0, []), q.each(us(t, "tr"), function(n, r) {
                        q.each(us(n, "td,th"), function(e, t) {
                            ! function(e, t, n, r, o) {
                                for (var i = hv(o, "rowspan"), a = hv(o, "colspan"), s = e.rows(), l = n; l < n + i; l++) {
                                    s[l] || (s[l] = dv(lv(r), []));
                                    for (var c = t; c < t + a; c++) s[l].cells()[c] = l === n && c === t ? o : sv(o)
                                }
                            }(o, function(e, t, n) {
                                for (; r = t, o = n, i = void 0, ((i = e.rows())[o] ? i[o].cells() : [])[r];) t++;
                                var r, o, i;
                                return t
                            }(o, t, r), r, n, e)
                        })
                    }), uv(o.element(), pv(o.rows()), o.rows()));
                return (u = s, n = i, r = a, mv(u, n).bind(function(c) {
                    return mv(u, r).map(function(e) {
                        return t = u, r = e, o = (n = c).x(), i = n.y(), a = r.x(), l = i < (s = r.y()) ? gv(t, o, i, a, s) : gv(t, o, s, a, i), uv(t.element(), pv(l), l);
                        var t, n, r, o, i, a, s, l
                    })
                })).map(function(e) {
                    return cv([(t = e, a = n = t, r = q.map(a.rows(), function(e) {
                        var t = q.map(e.cells(), function(e) {
                                var t = lv(e);
                                return dr(t, "colspan"), dr(t, "rowspan"), t
                            }),
                            n = sv(e.element());
                        return dc(n, t), n
                    }), o = sv(n.element()), i = qn("tbody"), dc(i, r), _s(o, i), o)]);
                    var t, n, r, o, i, a
                })
            }).getOrThunk(yv);
            var t, n
        },
        xv = function(e, t) {
            var n, r, o, i, a, s, l = e.selection.getRng(),
                c = e.dom.create("body"),
                u = e.selection.getSel(),
                d = iv(e, Od(u));
            if ((t = t || {}).get = !0, t.format = t.format || "html", t.selection = !0, (t = e.fire("BeforeGetContent", t)).isDefaultPrevented()) return e.fire("GetContent", t), t.content;
            if ("text" === t.format) return e.selection.isCollapsed() ? "" : Ni(l.text || (u.toString ? u.toString() : ""));
            l.cloneContents ? (n = t.contextual ? (r = Vn(e.getBody()), o = d, s = Bd(o, r), 0 < s.length ? wv(r, s) : (i = r, 0 < (a = o).length && a[0].collapsed ? yv() : bv(i, a[0]))).dom() : l.cloneContents()) && c.appendChild(n) : void 0 !== l.item || void 0 !== l.htmlText ? (c.innerHTML = "<br>" + (l.item ? l.item(0).outerHTML : l.htmlText), c.removeChild(c.firstChild)) : c.innerHTML = l.toString(), t.getInner = !0;
            var f = e.selection.serializer.serialize(c, t);
            return "tree" === t.format ? f : (t.content = e.selection.isCollapsed() ? "" : f, e.fire("GetContent", t), t.content)
        },
        Cv = function(e, t, n, r, o) {
            var i = n ? t.startContainer : t.endContainer,
                a = n ? t.startOffset : t.endOffset;
            return M.from(i).map(Vn).map(function(e) {
                return r && t.collapsed ? e : qr(e, o(e, a)).getOr(e)
            }).bind(function(e) {
                return Qn.isElement(e) ? M.some(e) : Ir(e)
            }).map(function(e) {
                return e.dom()
            }).getOr(e)
        },
        _v = function(e, t, n) {
            return Cv(e, t, !0, n, function(e, t) {
                return Math.min(Wr(e), t)
            })
        },
        Sv = function(e, t, n) {
            return Cv(e, t, !1, n, function(e, t) {
                return 0 < t ? t - 1 : t
            })
        },
        Ev = function(e, t) {
            for (var n = e; e && Po.isText(e) && 0 === e.length;) e = t ? e.nextSibling : e.previousSibling;
            return e || n
        },
        kv = zt.each,
        Tv = function(e) {
            return !!e.select
        },
        Nv = function(e) {
            return !(!e || !e.ownerDocument) && Tr.contains(Vn(e.ownerDocument), Vn(e))
        },
        Av = function(a, s, e, l) {
            var n, t, c, u, d, r = function(e, t) {
                    return function(e, t, n) {
                        var r, o, i, a = e.selection.getRng(),
                            s = e.getDoc();
                        if ((n = n || {
                                format: "html"
                            }).set = !0, n.selection = !0, n.content = t, n.no_events || !(n = e.fire("BeforeSetContent", n)).isDefaultPrevented()) {
                            if (t = n.content, a.insertNode) {
                                t += '<span id="__caret">_</span>', a.startContainer === s && a.endContainer === s ? s.body.innerHTML = t : (a.deleteContents(), 0 === s.body.childNodes.length ? s.body.innerHTML = t : a.createContextualFragment ? a.insertNode(a.createContextualFragment(t)) : (o = s.createDocumentFragment(), i = s.createElement("div"), o.appendChild(i), i.outerHTML = t, a.insertNode(o))), r = e.dom.get("__caret"), (a = s.createRange()).setStartBefore(r), a.setEndBefore(r), e.selection.setRng(a), e.dom.remove("__caret");
                                try {
                                    e.selection.setRng(a)
                                } catch (e) {}
                            } else a.item && (s.execCommand("Delete", !1, null), a = e.getRng()), /^\s+/.test(t) ? (a.pasteHTML('<span id="__mce_tmp">_</span>' + t), e.dom.remove("__mce_tmp")) : a.pasteHTML(t);
                            n.no_events || e.fire("SetContent", n)
                        } else e.fire("SetContent", n)
                    }(l, e, t)
                },
                o = function(e) {
                    var t = h();
                    t.collapse(!!e), i(t)
                },
                f = function() {
                    return s.getSelection ? s.getSelection() : s.document.selection
                },
                h = function() {
                    var e, t, n, r, o = function(e, t, n) {
                        try {
                            return t.compareBoundaryPoints(e, n)
                        } catch (e) {
                            return -1
                        }
                    };
                    if (!s) return null;
                    if (null == (r = s.document)) return null;
                    if (void 0 !== l.bookmark && !1 === yh(l)) {
                        var i = Af(l);
                        if (i.isSome()) return i.map(function(e) {
                            return iv(l, [e])[0]
                        }).getOr(r.createRange())
                    }
                    try {
                        (e = f()) && (t = 0 < e.rangeCount ? e.getRangeAt(0) : e.createRange ? e.createRange() : r.createRange())
                    } catch (e) {}
                    return (t = iv(l, [t])[0]) || (t = r.createRange ? r.createRange() : r.body.createTextRange()), t.setStart && 9 === t.startContainer.nodeType && t.collapsed && (n = a.getRoot(), t.setStart(n, 0), t.setEnd(n, 0)), c && u && (0 === o(t.START_TO_START, t, c) && 0 === o(t.END_TO_END, t, c) ? t = u : u = c = null), t
                },
                i = function(e, t) {
                    var n, r;
                    if ((o = e) && (Tv(o) || Nv(o.startContainer) && Nv(o.endContainer))) {
                        var o, i = Tv(e) ? e : null;
                        if (i) {
                            u = null;
                            try {
                                i.select()
                            } catch (e) {}
                        } else {
                            if (n = f(), e = l.fire("SetSelectionRange", {
                                    range: e,
                                    forward: t
                                }).range, n) {
                                u = e;
                                try {
                                    n.removeAllRanges(), n.addRange(e)
                                } catch (e) {}!1 === t && n.extend && (n.collapse(e.endContainer, e.endOffset), n.extend(e.startContainer, e.startOffset)), c = 0 < n.rangeCount ? n.getRangeAt(0) : null
                            }
                            e.collapsed || e.startContainer !== e.endContainer || !n.setBaseAndExtent || ve.ie || e.endOffset - e.startOffset < 2 && e.startContainer.hasChildNodes() && (r = e.startContainer.childNodes[e.startOffset]) && "IMG" === r.tagName && (n.setBaseAndExtent(e.startContainer, e.startOffset, e.endContainer, e.endOffset), n.anchorNode === e.startContainer && n.focusNode === e.endContainer || n.setBaseAndExtent(r, 0, r, 1)), l.fire("AfterSetSelectionRange", {
                                range: e,
                                forward: t
                            })
                        }
                    }
                },
                p = function() {
                    var e, t, n = f();
                    return !(n && n.anchorNode && n.focusNode) || ((e = a.createRng()).setStart(n.anchorNode, n.anchorOffset), e.collapse(!0), (t = a.createRng()).setStart(n.focusNode, n.focusOffset), t.collapse(!0), e.compareBoundaryPoints(e.START_TO_START, t) <= 0)
                },
                m = {
                    bookmarkManager: null,
                    controlSelection: null,
                    dom: a,
                    win: s,
                    serializer: e,
                    editor: l,
                    collapse: o,
                    setCursorLocation: function(e, t) {
                        var n = a.createRng();
                        e ? (n.setStart(e, t), n.setEnd(e, t), i(n), o(!1)) : (tp(a, n, l.getBody(), !0), i(n))
                    },
                    getContent: function(e) {
                        return xv(l, e)
                    },
                    setContent: r,
                    getBookmark: function(e, t) {
                        return n.getBookmark(e, t)
                    },
                    moveToBookmark: function(e) {
                        return n.moveToBookmark(e)
                    },
                    select: function(e, t) {
                        var r, n, o;
                        return (r = a, n = e, o = t, M.from(n).map(function(e) {
                            var t = r.nodeIndex(e),
                                n = r.createRng();
                            return n.setStart(e.parentNode, t), n.setEnd(e.parentNode, t + 1), o && (tp(r, n, e, !0), tp(r, n, e, !1)), n
                        })).each(i), e
                    },
                    isCollapsed: function() {
                        var e = h(),
                            t = f();
                        return !(!e || e.item) && (e.compareEndPoints ? 0 === e.compareEndPoints("StartToEnd", e) : !t || e.collapsed)
                    },
                    isForward: p,
                    setNode: function(e) {
                        return r(a.getOuterHTML(e)), e
                    },
                    getNode: function() {
                        return e = l.getBody(), (t = h()) ? (r = t.startContainer, o = t.endContainer, i = t.startOffset, a = t.endOffset, n = t.commonAncestorContainer, !t.collapsed && (r === o && a - i < 2 && r.hasChildNodes() && (n = r.childNodes[i]), 3 === r.nodeType && 3 === o.nodeType && (r = r.length === i ? Ev(r.nextSibling, !0) : r.parentNode, o = 0 === a ? Ev(o.previousSibling, !1) : o.parentNode, r && r === o)) ? r : n && 3 === n.nodeType ? n.parentNode : n) : e;
                        var e, t, n, r, o, i, a
                    },
                    getSel: f,
                    setRng: i,
                    getRng: h,
                    getStart: function(e) {
                        return _v(l.getBody(), h(), e)
                    },
                    getEnd: function(e) {
                        return Sv(l.getBody(), h(), e)
                    },
                    getSelectedBlocks: function(e, t) {
                        return function(e, t, n, r) {
                            var o, i, a = [];
                            if (i = e.getRoot(), n = e.getParent(n || _v(i, t, !1), e.isBlock), r = e.getParent(r || Sv(i, t, !1), e.isBlock), n && n !== i && a.push(n), n && r && n !== r)
                                for (var s = new io(o = n, i);
                                    (o = s.next()) && o !== r;) e.isBlock(o) && a.push(o);
                            return r && n !== r && r !== i && a.push(r), a
                        }(a, h(), e, t)
                    },
                    normalize: function() {
                        var e = h(),
                            t = f();
                        if (1 < Ad(t).length || !np(l)) return e;
                        var n = nf(a, e);
                        return n.each(function(e) {
                            i(e, p())
                        }), n.getOr(e)
                    },
                    selectorChanged: function(e, t) {
                        var i;
                        return d || (d = {}, i = {}, l.on("NodeChange", function(e) {
                            var n = e.element,
                                r = a.getParents(n, null, a.getRoot()),
                                o = {};
                            kv(d, function(e, n) {
                                kv(r, function(t) {
                                    if (a.is(t, n)) return i[n] || (kv(e, function(e) {
                                        e(!0, {
                                            node: t,
                                            selector: n,
                                            parents: r
                                        })
                                    }), i[n] = e), o[n] = e, !1
                                })
                            }), kv(i, function(e, t) {
                                o[t] || (delete i[t], kv(e, function(e) {
                                    e(!1, {
                                        node: n,
                                        selector: t,
                                        parents: r
                                    })
                                }))
                            })
                        })), d[e] || (d[e] = []), d[e].push(t), m
                    },
                    getScrollContainer: function() {
                        for (var e, t = a.getRoot(); t && "BODY" !== t.nodeName;) {
                            if (t.scrollHeight > t.clientHeight) {
                                e = t;
                                break
                            }
                            t = t.parentNode
                        }
                        return e
                    },
                    scrollIntoView: function(e, t) {
                        return function(e, t, n) {
                            var r, o, i, a, s, l = e.dom,
                                c = l.getRoot(),
                                u = 0;
                            if (s = {
                                    elm: t,
                                    alignToTop: n
                                }, e.fire("scrollIntoView", s), !s.isDefaultPrevented() && Po.isElement(t)) {
                                if (!1 === n && (u = t.offsetHeight), "BODY" !== c.nodeName) {
                                    var d = e.selection.getScrollContainer();
                                    if (d) return r = ps(t).y - ps(d).y + u, a = d.clientHeight, void((r < (i = d.scrollTop) || i + a < r + 25) && (d.scrollTop = r < i ? r : r - a + 25))
                                }
                                o = l.getViewPort(e.getWin()), r = l.getPos(t).y + u, i = o.y, a = o.h, (r < o.y || i + a < r + 25) && e.getWin().scrollTo(0, r < i ? r : r - a + 25)
                            }
                        }(l, e, t)
                    },
                    placeCaretAt: function(e, t) {
                        return i(ov(e, t, l.getDoc()))
                    },
                    getBoundingClientRect: function() {
                        var e = h();
                        return e.collapsed ? Pa.fromRangeStart(e).getClientRects()[0] : e.getBoundingClientRect()
                    },
                    destroy: function() {
                        s = c = u = null, t.destroy()
                    }
                };
            return n = Jg(m), t = nv(m, l), m.bookmarkManager = n, m.controlSelection = t, m
        },
        Ov = Po.isContentEditableFalse,
        Rv = ra,
        Pv = cl,
        Bv = ll,
        Dv = function(e, t) {
            for (; t = e(t);)
                if (t.isVisible()) return t;
            return t
        },
        Lv = function(e, t, n) {
            var r, o, i, a, s = kl(e.getBody()),
                l = ca.curry(Dv, s.next),
                c = ca.curry(Dv, s.prev);
            if (n.collapsed && e.settings.forced_root_block) {
                if (!(r = e.dom.getParent(n.startContainer, "PRE"))) return;
                (1 === t ? l(Pa.fromRangeStart(n)) : c(Pa.fromRangeStart(n))) || (a = (i = e).dom.create(i.settings.forced_root_block), (!ve.ie || 11 <= ve.ie) && (a.innerHTML = '<br data-mce-bogus="1">'), o = a, 1 === t ? e.$(r).after(o) : e.$(r).before(o), e.selection.select(o, !0), e.selection.collapse())
            }
        },
        zv = function(C, _) {
            return function() {
                var e, t, n, r, o, i, a, s, l, c, u, d, f, h, p, m, g, v, y, b, w, x = (t = _, r = kl((e = C).getBody()), o = ca.curry(Dv, r.next), i = ca.curry(Dv, r.prev), a = t ? Ja.Forwards : Ja.Backwards, s = t ? o : i, l = e.selection.getRng(), u = e, d = s, f = l, b = (c = a) === Ja.Forwards, w = b ? Bv : Pv, (n = !f.collapsed && (h = Rv(f), Ov(h)) ? Xa(c, u, h, c === Ja.Backwards, !0) : (g = Ri(f.startContainer), w(p = sl(c, u.getBody(), f)) ? Za(u, p.getNode(!b)) : (p = d(p)) ? w(p) ? Xa(c, u, p.getNode(!b), b, !0) : w(m = d(p)) && (!(y = Gs(v = p, m)) && Po.isBr(v.getNode()) || y) ? Xa(c, u, m.getNode(!b), b, !0) : g ? Qa(u, p.toRange(), !0) : null : g ? f : null)) ? n : (n = Lv(e, a, l)) || null);
                return !!x && (C.selection.setRng(x), !0)
            }
        },
        Iv = function(a, s) {
            return function() {
                var e, t, n, r, o, i = (n = function(e, t, n, r) {
                    var o, i, a, s, l, c, u, d, f;
                    if (f = Rv(r), o = sl(e, t.getBody(), r), i = n(t.getBody(), gp(1), o), a = Rt.filter(i, vp(1)), l = Rt.last(o.getClientRects()), (Bv(o) || ul(o)) && (f = o.getNode()), (Pv(o) || dl(o)) && (f = o.getNode(!0)), !l) return null;
                    if (c = l.left, (s = _p(a, c)) && Ov(s.node)) return u = Math.abs(c - s.left), d = Math.abs(c - s.right), Xa(e, t, s.node, u < d, !0);
                    if (f) {
                        var h = function(e, t, n, r) {
                            var o, i, a, s, l, c, u = kl(t),
                                d = [],
                                f = 0,
                                h = function(e) {
                                    return Rt.last(e.getClientRects())
                                };
                            c = h(s = 1 === e ? (o = u.next, i = na, a = ta, Pa.after(r)) : (o = u.prev, i = ta, a = na, Pa.before(r)));
                            do {
                                if (s.isVisible() && !a(l = h(s), c)) {
                                    if (0 < d.length && i(l, Rt.last(d)) && f++, (l = Qi(l)).position = s, l.line = f, n(l)) return d;
                                    d.push(l)
                                }
                            } while (s = o(s));
                            return d
                        }(e, t.getBody(), gp(1), f);
                        if (s = _p(Rt.filter(h, vp(1)), c)) return Qa(t, s.position.toRange(), !0);
                        if (s = Rt.last(Rt.filter(h, vp(0)))) return Qa(t, s.position.toRange(), !0)
                    }
                }(r = (t = s) ? 1 : -1, e, t ? mp : pp, o = (e = a).selection.getRng())) ? n : (n = Lv(e, r, o)) || null;
                return !!i && (a.selection.setRng(i), !0)
            }
        },
        Mv = function(e) {
            for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
            var r = Array.prototype.slice.call(arguments, 1);
            return function() {
                return e.apply(null, r)
            }
        },
        $v = function(e, t) {
            return q.find((n = e, r = t, q.bind((o = n, q.map(o, function(e) {
                return Ag.merge({
                    shiftKey: !1,
                    altKey: !1,
                    ctrlKey: !1,
                    metaKey: !1,
                    keyCode: 0,
                    action: H.noop
                }, e)
            })), function(e) {
                return t = e, (n = r).keyCode === t.keyCode && n.shiftKey === t.shiftKey && n.altKey === t.altKey && n.ctrlKey === t.ctrlKey && n.metaKey === t.metaKey ? [e] : [];
                var t, n
            })), function(e) {
                return e.action()
            });
            var n, r, o
        },
        Fv = function(e) {
            return 1 === Hr(e).length
        },
        jv = function(n, r) {
            var t, e = Vn(n.getBody()),
                o = Vn(n.selection.getStart()),
                l = q.filter((t = ou(o, e), q.findIndex(t, fo).fold(H.constant(t), function(e) {
                    return t.slice(0, e)
                })), Fv);
            return q.last(l).map(function(e) {
                var i, a, s, t = Pa.fromRangeStart(n.selection.getRng());
                return i = r, a = t, s = e.dom(), !!ua([Wa.firstPositionIn(s), Wa.lastPositionIn(s)], function(e, t) {
                    var n = Fc.normalizePosition(!0, e),
                        r = Fc.normalizePosition(!1, t),
                        o = Fc.normalizePosition(!1, a);
                    return i ? Wa.nextPosition(s, o).map(function(e) {
                        return e.isEqual(r) && a.isEqual(n)
                    }).getOr(!1) : Wa.prevPosition(s, o).map(function(e) {
                        return e.isEqual(n) && a.isEqual(r)
                    }).getOr(!1)
                }).getOr(!0) && (function(e, t, n, r) {
                    var o, i, a, s, l = H.curry(Hm, t),
                        c = q.map(q.filter(r, l), function(e) {
                            return e.dom()
                        });
                    if (0 === c.length) Su(t, e, n);
                    else {
                        var u = (o = n.dom(), i = c, a = zm(!1), s = jm(i, a.dom()), xs(Vn(o), a), pc(Vn(o)), Pa(s, 0));
                        t.selection.setRng(u.toRange())
                    }
                }(r, n, e, l), !0)
            }).getOr(!1)
        },
        Hv = function(e, t) {
            return !!e.selection.isCollapsed() && jv(e, t)
        },
        qv = function(e) {
            return M.from(e.dom.getParent(e.selection.getStart(!0), e.dom.isBlock))
        },
        Uv = function(e, t) {
            var n, r, o, i = t,
                a = e.dom,
                s = e.schema.getMoveCaretBeforeOnEnterElements();
            if (t) {
                if (/^(LI|DT|DD)$/.test(t.nodeName)) {
                    var l = function(e) {
                        for (; e;) {
                            if (1 === e.nodeType || 3 === e.nodeType && e.data && /[\r\n\s]/.test(e.data)) return e;
                            e = e.nextSibling
                        }
                    }(t.firstChild);
                    l && /^(UL|OL|DL)$/.test(l.nodeName) && t.insertBefore(a.doc.createTextNode(" "), t.firstChild)
                }
                if (o = a.createRng(), t.normalize(), t.hasChildNodes()) {
                    for (n = new io(t, t); r = n.current();) {
                        if (Po.isText(r)) {
                            o.setStart(r, 0), o.setEnd(r, 0);
                            break
                        }
                        if (s[r.nodeName.toLowerCase()]) {
                            o.setStartBefore(r), o.setEndBefore(r);
                            break
                        }
                        i = r, r = n.next()
                    }
                    r || (o.setStart(i, 0), o.setEnd(i, 0))
                } else Po.isBr(t) ? t.nextSibling && a.isBlock(t.nextSibling) ? (o.setStartBefore(t), o.setEndBefore(t)) : (o.setStartAfter(t), o.setEndAfter(t)) : (o.setStart(t, 0), o.setEnd(t, 0));
                e.selection.setRng(o), a.remove(void 0), e.selection.scrollIntoView(t)
            }
        },
        Vv = qv,
        Wv = function(e, t) {
            return e && e.parentNode && e.parentNode.nodeName === t
        },
        Yv = function(e) {
            return e && /^(OL|UL|LI)$/.test(e.nodeName)
        },
        Kv = function(e) {
            var t = e.parentNode;
            return /^(LI|DT|DD)$/.test(t.nodeName) ? t : e
        },
        Xv = function(e, t, n) {
            for (var r = e[n ? "firstChild" : "lastChild"]; r && !Po.isElement(r);) r = r[n ? "nextSibling" : "previousSibling"];
            return r === t
        },
        Zv = function(e) {
            e.innerHTML = '<br data-mce-bogus="1">'
        },
        Gv = function(e, t) {
            return e.nodeName === t || e.previousSibling && e.previousSibling.nodeName === t
        },
        Qv = function(e, t) {
            return t && e.isBlock(t) && !/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName) && !/^(fixed|absolute)/i.test(t.style.position) && "true" !== e.getContentEditable(t)
        },
        Jv = function(e, t, n) {
            return !1 === Po.isText(t) ? n : e ? 1 === n && t.data.charAt(n - 1) === Ti ? 0 : n : n === t.data.length - 1 && t.data.charAt(n) === Ti ? t.data.length : n
        },
        ey = function(e, t) {
            var n, r, o = e.getRoot();
            for (n = t; n !== o && "false" !== e.getContentEditable(n);) "true" === e.getContentEditable(n) && (r = n), n = n.parentNode;
            return n !== o ? r : o
        },
        ty = function(e, t) {
            var n = vs(e);
            n && n.toLowerCase() === t.tagName.toLowerCase() && e.dom.setAttribs(t, ys(e))
        },
        ny = function(a, e) {
            var t, s, l, i, c, n, u, r, o, d, f, m, h, p, g, v, y, b, w = a.dom,
                x = a.schema,
                C = x.getNonEmptyElements(),
                _ = a.selection.getRng(),
                S = function(e) {
                    var t, n, r, o = l,
                        i = x.getTextInlineElements();
                    if (e || "TABLE" === d || "HR" === d ? (t = w.create(e || m), ty(a, t)) : t = c.cloneNode(!1), r = t, !1 === a.getParam("keep_styles", !0)) w.setAttrib(t, "style", null), w.setAttrib(t, "class", null);
                    else
                        do {
                            if (i[o.nodeName]) {
                                if (Ql(o)) continue;
                                n = o.cloneNode(!1), w.setAttrib(n, "id", ""), t.hasChildNodes() ? n.appendChild(t.firstChild) : r = n, t.appendChild(n)
                            }
                        } while ((o = o.parentNode) && o !== s);
                    return Zv(r), t
                },
                E = function(e) {
                    var t, n, r, o;
                    if (o = Jv(e, l, i), Po.isText(l) && (e ? 0 < o : o < l.nodeValue.length)) return !1;
                    if (l.parentNode === c && h && !e) return !0;
                    if (e && Po.isElement(l) && l === c.firstChild) return !0;
                    if (Gv(l, "TABLE") || Gv(l, "HR")) return h && !e || !h && e;
                    for (t = new io(l, c), Po.isText(l) && (e && 0 === o ? t.prev() : e || o !== l.nodeValue.length || t.next()); n = t.current();) {
                        if (Po.isElement(n)) {
                            if (!n.getAttribute("data-mce-bogus") && (r = n.nodeName.toLowerCase(), C[r] && "br" !== r)) return !1
                        } else if (Po.isText(n) && !/^[ \t\r\n]*$/.test(n.nodeValue)) return !1;
                        e ? t.prev() : t.next()
                    }
                    return !0
                },
                k = function() {
                    u = /^(H[1-6]|PRE|FIGURE)$/.test(d) && "HGROUP" !== f ? S(m) : S(), a.getParam("end_container_on_empty_block", !1) && Qv(w, o) && w.isEmpty(c) ? u = w.split(o, c) : w.insertAfter(u, c), Uv(a, u)
                };
            nf(w, _).each(function(e) {
                _.setStart(e.startContainer, e.startOffset), _.setEnd(e.endContainer, e.endOffset)
            }), l = _.startContainer, i = _.startOffset, m = vs(a), n = e.shiftKey, Po.isElement(l) && l.hasChildNodes() && (h = i > l.childNodes.length - 1, l = l.childNodes[Math.min(i, l.childNodes.length - 1)] || l, i = h && Po.isText(l) ? l.nodeValue.length : 0), (s = ey(w, l)) && ((m && !n || !m && n) && (l = function(e, t, n, r, o) {
                var i, a, s, l, c, u, d, f = m || "P",
                    h = e.dom,
                    p = ey(h, r);
                if (!(a = h.getParent(r, h.isBlock)) || !Qv(h, a)) {
                    if (u = (a = a || p) === e.getBody() || (d = a) && /^(TD|TH|CAPTION)$/.test(d.nodeName) ? a.nodeName.toLowerCase() : a.parentNode.nodeName.toLowerCase(), !a.hasChildNodes()) return i = h.create(f), ty(e, i), a.appendChild(i), n.setStart(i, 0), n.setEnd(i, 0), i;
                    for (l = r; l.parentNode !== a;) l = l.parentNode;
                    for (; l && !h.isBlock(l);) l = (s = l).previousSibling;
                    if (s && e.schema.isValidChild(u, f.toLowerCase())) {
                        for (i = h.create(f), ty(e, i), s.parentNode.insertBefore(i, s), l = s; l && !h.isBlock(l);) c = l.nextSibling, i.appendChild(l), l = c;
                        n.setStart(r, o), n.setEnd(r, o)
                    }
                }
                return r
            }(a, 0, _, l, i)), c = w.getParent(l, w.isBlock), o = c ? w.getParent(c.parentNode, w.isBlock) : null, d = c ? c.nodeName.toUpperCase() : "", "LI" !== (f = o ? o.nodeName.toUpperCase() : "") || e.ctrlKey || (o = (c = o).parentNode, d = f), /^(LI|DT|DD)$/.test(d) && w.isEmpty(c) ? function(e, t, n, r, o) {
                var i = e.dom,
                    a = e.selection.getRng();
                if (n !== e.getBody()) {
                    var s;
                    Yv(s = n) && Yv(s.parentNode) && (o = "LI");
                    var l, c = o ? t(o) : i.create("BR");
                    if (Xv(n, r, !0) && Xv(n, r, !1)) Wv(n, "LI") ? i.insertAfter(c, Kv(n)) : i.replace(c, n);
                    else if (Xv(n, r, !0)) Wv(n, "LI") ? (i.insertAfter(c, Kv(n)), c.appendChild(i.doc.createTextNode(" ")), c.appendChild(n)) : n.parentNode.insertBefore(c, n);
                    else if (Xv(n, r, !1)) i.insertAfter(c, Kv(n));
                    else {
                        n = Kv(n);
                        var u = a.cloneRange();
                        u.setStartAfter(r), u.setEndAfter(n);
                        var d = u.extractContents();
                        "LI" === o && (l = d).firstChild && "LI" === l.firstChild.nodeName ? (c = d.firstChild, i.insertAfter(d, n)) : (i.insertAfter(d, n), i.insertAfter(c, n))
                    }
                    i.remove(r), Uv(e, c)
                }
            }(a, S, o, c, m) : m && c === a.getBody() || (m = m || "P", Ri(c) ? (u = $i(c), w.isEmpty(c) && Zv(c), Uv(a, u)) : E() ? k() : E(!0) ? (u = c.parentNode.insertBefore(S(), c), Uv(a, Gv(c, "HR") ? u : c)) : ((t = (y = _, b = y.cloneRange(), b.setStart(y.startContainer, Jv(!0, y.startContainer, y.startOffset)), b.setEnd(y.endContainer, Jv(!1, y.endContainer, y.endOffset)), b).cloneRange()).setEndAfter(c), function(e) {
                for (; Po.isText(e) && (e.nodeValue = e.nodeValue.replace(/^[\r\n]+/, "")), e = e.firstChild;);
            }(r = t.extractContents()), u = r.firstChild, w.insertAfter(r, c), function(e, t, n) {
                var r, o = u,
                    i = [];
                if (o) {
                    for (; o = o.firstChild;) {
                        if (e.isBlock(o)) return;
                        Po.isElement(o) && !t[o.nodeName.toLowerCase()] && i.push(o)
                    }
                    for (r = i.length; r--;) !(o = i[r]).hasChildNodes() || o.firstChild === o.lastChild && "" === o.firstChild.nodeValue ? e.remove(o) : (a = o) && "A" === a.nodeName && 0 === zt.trim(Ni(a.innerText || a.textContent)).length && e.remove(o);
                    var a
                }
            }(w, C), p = w, (g = c).normalize(), (v = g.lastChild) && !/^(left|right)$/gi.test(p.getStyle(v, "float", !0)) || p.add(g, "br"), w.isEmpty(c) && Zv(c), u.normalize(), w.isEmpty(u) ? (w.remove(u), k()) : Uv(a, u)), w.setAttrib(u, "id", ""), a.fire("NewBlock", {
                newBlock: u
            })))
        },
        ry = function(e, t) {
            return Vv(e).filter(function(e) {
                return 0 < t.length && Sr.is(Vn(e), t)
            }).isSome()
        },
        oy = hu([{
            br: []
        }, {
            block: []
        }, {
            none: []
        }]),
        iy = function(e, t) {
            return ry(n = e, n.getParam("no_newline_selector", ""));
            var n
        },
        ay = function(n) {
            return function(e, t) {
                return "" === vs(e) === n
            }
        },
        sy = function(n) {
            return function(e, t) {
                return qv(e).filter(function(e) {
                    return vo(Vn(e))
                }).isSome() === n
            }
        },
        ly = function(n, r) {
            return function(e, t) {
                return qv(e).fold(H.constant(""), function(e) {
                    return e.nodeName.toUpperCase()
                }) === n.toUpperCase() === r
            }
        },
        cy = function(e) {
            return ly("pre", e)
        },
        uy = function(n) {
            return function(e, t) {
                return e.getParam("br_in_pre", !0) === n
            }
        },
        dy = function(e, t) {
            return ry(n = e, n.getParam("br_newline_selector", ".mce-toc h2,figcaption,caption"));
            var n
        },
        fy = function(e, t) {
            return t
        },
        hy = function(e) {
            var t = vs(e),
                n = function(e, t) {
                    var n, r, o = e.getRoot();
                    for (n = t; n !== o && "false" !== e.getContentEditable(n);) "true" === e.getContentEditable(n) && (r = n), n = n.parentNode;
                    return n !== o ? r : o
                }(e.dom, e.selection.getStart());
            return n && e.schema.isValidChild(n.nodeName, t || "P")
        },
        py = function(e, t) {
            return function(n, r) {
                return q.foldl(e, function(e, t) {
                    return e && t(n, r)
                }, !0) ? M.some(t) : M.none()
            }
        },
        my = function(e, t) {
            var n, r;
            (n = e, r = t, Mu([py([iy], oy.none()), py([ly("summary", !0)], oy.br()), py([cy(!0), uy(!1), fy], oy.br()), py([cy(!0), uy(!1)], oy.block()), py([cy(!0), uy(!0), fy], oy.block()), py([cy(!0), uy(!0)], oy.br()), py([sy(!0), fy], oy.br()), py([sy(!0)], oy.block()), py([ay(!0), fy, hy], oy.block()), py([ay(!0)], oy.br()), py([dy], oy.br()), py([ay(!1), fy], oy.br()), py([hy], oy.block())], [n, r.shiftKey]).getOr(oy.none())).fold(function() {
                ff(e, t)
            }, function() {
                ny(e, t)
            }, H.noop)
        },
        gy = function(e, t, n) {
            return s = t, !(!vy(n) || !Po.isText(s.container()) || (r = e, i = (o = t).container(), a = o.offset(), i.insertData(a, " "), r.selection.setCursorLocation(i, a + 1), 0));
            var r, o, i, a, s
        },
        vy = function(e) {
            return e.fold(H.constant(!1), H.constant(!0), H.constant(!0), H.constant(!1))
        },
        yy = function(e) {
            return !!e.selection.isCollapsed() && (t = e, n = H.curry(Fc.isInlineTarget, t), r = Pa.fromRangeStart(t.selection.getRng()), nd(n, t.getBody(), r).map(H.curry(gy, t, r)).getOr(!1));
            var t, n, r
        },
        by = function(e, t) {
            var n;
            t.hasAttribute("data-mce-caret") && ($i(t), (n = e).selection.setRng(n.selection.getRng()), e.selection.scrollIntoView(t))
        },
        wy = function(e, t) {
            var n = Vc(Vn(e.getBody()), "*[data-mce-caret]").fold(H.constant(null), function(e) {
                return e.dom()
            });
            if (n) return "compositionstart" === t.type ? (t.preventDefault(), t.stopPropagation(), void by(e, n)) : void(Di(n) && (by(e, n), e.undoManager.add()))
        },
        xy = function(e) {
            var r, o, i, a, s, l, t, n = hd.setupSelectedState(e);
            (t = e).on("keyup compositionstart", H.curry(wy, t)), l = n, (s = e).on("keydown", function(e) {
                var t, n, r, o;
                !1 === e.isDefaultPrevented() && (t = s, n = l, r = e, o = Fn.detect().os, $v([{
                    keyCode: Tp.RIGHT,
                    action: zv(t, !0)
                }, {
                    keyCode: Tp.LEFT,
                    action: zv(t, !1)
                }, {
                    keyCode: Tp.UP,
                    action: Iv(t, !1)
                }, {
                    keyCode: Tp.DOWN,
                    action: Iv(t, !0)
                }, {
                    keyCode: Tp.RIGHT,
                    action: Ps(t, !0)
                }, {
                    keyCode: Tp.LEFT,
                    action: Ps(t, !1)
                }, {
                    keyCode: Tp.UP,
                    action: Bs(t, !1)
                }, {
                    keyCode: Tp.DOWN,
                    action: Bs(t, !0)
                }, {
                    keyCode: Tp.RIGHT,
                    action: hd.move(t, n, !0)
                }, {
                    keyCode: Tp.LEFT,
                    action: hd.move(t, n, !1)
                }, {
                    keyCode: Tp.RIGHT,
                    ctrlKey: !o.isOSX(),
                    altKey: o.isOSX(),
                    action: hd.moveNextWord(t, n)
                }, {
                    keyCode: Tp.LEFT,
                    ctrlKey: !o.isOSX(),
                    altKey: o.isOSX(),
                    action: hd.movePrevWord(t, n)
                }], r).each(function(e) {
                    r.preventDefault()
                }))
            }), a = n, (i = e).on("keydown", function(e) {
                var t, n, r;
                !1 === e.isDefaultPrevented() && (t = i, n = a, r = e, $v([{
                    keyCode: Tp.BACKSPACE,
                    action: Mv(ku, t, !1)
                }, {
                    keyCode: Tp.DELETE,
                    action: Mv(ku, t, !0)
                }, {
                    keyCode: Tp.BACKSPACE,
                    action: Mv(gd, t, n, !1)
                }, {
                    keyCode: Tp.DELETE,
                    action: Mv(gd, t, n, !0)
                }, {
                    keyCode: Tp.BACKSPACE,
                    action: Mv(fu, t, !1)
                }, {
                    keyCode: Tp.DELETE,
                    action: Mv(fu, t, !0)
                }, {
                    keyCode: Tp.BACKSPACE,
                    action: Mv(cu, t, !1)
                }, {
                    keyCode: Tp.DELETE,
                    action: Mv(cu, t, !0)
                }, {
                    keyCode: Tp.BACKSPACE,
                    action: Mv(Hd, t, !1)
                }, {
                    keyCode: Tp.DELETE,
                    action: Mv(Hd, t, !0)
                }, {
                    keyCode: Tp.BACKSPACE,
                    action: Mv(Hv, t, !1)
                }, {
                    keyCode: Tp.DELETE,
                    action: Mv(Hv, t, !0)
                }], r).each(function(e) {
                    r.preventDefault()
                }))
            }), i.on("keyup", function(e) {
                var t, n;
                !1 === e.isDefaultPrevented() && (t = i, n = e, $v([{
                    keyCode: Tp.BACKSPACE,
                    action: Mv(Tu, t)
                }, {
                    keyCode: Tp.DELETE,
                    action: Mv(Tu, t)
                }], n))
            }), (o = e).on("keydown", function(e) {
                var t, n, r;
                e.keyCode === Tp.ENTER && (t = o, (n = e).isDefaultPrevented() || (n.preventDefault(), (r = t.undoManager).typing && (r.typing = !1, r.add()), t.undoManager.transact(function() {
                    !1 === t.selection.isCollapsed() && t.execCommand("Delete"), my(t, n)
                })))
            }), (r = e).on("keydown", function(e) {
                var t, n;
                !1 === e.isDefaultPrevented() && (t = r, n = e, $v([{
                    keyCode: Tp.SPACEBAR,
                    action: Mv(yy, t)
                }], n).each(function(e) {
                    n.preventDefault()
                }))
            })
        };
    var Cy = function(e) {
            return Po.isElement(e) && mo(Vn(e))
        },
        _y = gi.DOM,
        Sy = function(e) {
            var t;
            e.bindPendingEventDelegates(), e.initialized = !0, e.fire("init"), e.focus(!0), e.nodeChanged({
                initial: !0
            }), e.execCallback("init_instance_callback", e), (t = e).settings.auto_focus && Ce.setEditorTimeout(t, function() {
                var e;
                (e = !0 === t.settings.auto_focus ? t : t.editorManager.get(t.settings.auto_focus)).destroyed || e.focus()
            }, 100)
        },
        Ey = function(t, e) {
            var n, r, s, o, i, a, l, c, u, d, f, h, p, m, g, v, y, b, w, x, C, _, S, E, k, T, N, A, O, R, P, B, D, L, z, I = t.settings,
                M = t.getElement(),
                $ = t.getDoc();
            I.inline || (t.getElement().style.visibility = t.orgVisibility), e || I.content_editable || ($.open(), $.write(t.iframeHTML), $.close()), I.content_editable && (t.on("remove", function() {
                var e = this.getBody();
                _y.removeClass(e, "mce-content-body"), _y.removeClass(e, "mce-edit-focus"), _y.setAttrib(e, "contentEditable", null)
            }), _y.addClass(M, "mce-content-body"), t.contentDocument = $ = I.content_document || document, t.contentWindow = I.content_window || window, t.bodyElement = M, I.content_document = I.content_window = null, I.root_name = M.nodeName.toLowerCase()), (n = t.getBody()).disabled = !0, t.readonly = I.readonly, t.readonly || (t.inline && "static" === _y.getStyle(n, "position", !0) && (n.style.position = "relative"), n.contentEditable = t.getParam("content_editable_state", !0)), n.disabled = !1, t.editorUpload = Xh(t), t.schema = ri(I), t.dom = gi($, {
                keep_values: !0,
                url_converter: t.convertURL,
                url_converter_scope: t,
                hex_colors: I.force_hex_style_colors,
                class_filter: I.class_filter,
                update_styles: !0,
                root_element: t.inline ? t.getBody() : null,
                collect: I.content_editable,
                schema: t.schema,
                onSetAttrib: function(e) {
                    t.fire("SetAttrib", e)
                }
            }), t.parser = ((o = Xg((s = t).settings, s.schema)).addAttributeFilter("src,href,style,tabindex", function(e, t) {
                for (var n, r, o, i = e.length, a = s.dom; i--;)
                    if (r = (n = e[i]).attr(t), o = "data-mce-" + t, !n.attributes.map[o]) {
                        if (0 === r.indexOf("data:") || 0 === r.indexOf("blob:")) continue;
                        "style" === t ? ((r = a.serializeStyle(a.parseStyle(r), n.name)).length || (r = null), n.attr(o, r), n.attr(t, r)) : "tabindex" === t ? (n.attr(o, r), n.attr(t, null)) : n.attr(o, s.convertURL(r, t, n.name))
                    }
            }), o.addNodeFilter("script", function(e) {
                for (var t, n, r = e.length; r--;) 0 !== (n = (t = e[r]).attr("type") || "no/type").indexOf("mce-") && t.attr("type", "mce-" + n)
            }), o.addNodeFilter("#cdata", function(e) {
                for (var t, n = e.length; n--;)(t = e[n]).type = 8, t.name = "#comment", t.value = "[CDATA[" + t.value + "]]"
            }), o.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div", function(e) {
                for (var t, n = e.length, r = s.schema.getNonEmptyElements(); n--;)(t = e[n]).isEmpty(r) && 0 === t.getAll("br").length && (t.append(new Mg("br", 1)).shortEnded = !0)
            }), o), t.serializer = Gg(I, t), t.selection = Av(t.dom, t.getWin(), t.serializer, t), t.formatter = Eg(t), t.undoManager = Zp(t), t._nodeChangeDispatcher = new rp(t), t._selectionOverrides = Bp(t), (L = D = t).on("click", function(e) {
                L.dom.getParent(e.target, "details") && e.preventDefault()
            }), (z = D).parser.addNodeFilter("details", function(e) {
                q.each(e, function(e) {
                    e.attr("data-mce-open", e.attr("open")), e.attr("open", "open")
                })
            }), z.serializer.addNodeFilter("details", function(e) {
                q.each(e, function(e) {
                    var t = e.attr("data-mce-open");
                    e.attr("open", F.isString(t) ? t : null), e.attr("data-mce-open", null)
                })
            }), (B = t).on("click", function(e) {
                3 === e.detail && function(e) {
                    var t = e.selection.getRng(),
                        n = Aa.fromRangeStart(t),
                        r = Aa.fromRangeEnd(t);
                    if (Aa.isElementPosition(n)) {
                        var o = n.container();
                        Cy(o) && Wa.firstPositionIn(o).each(function(e) {
                            return t.setStart(e.container(), e.offset())
                        })
                    }
                    Aa.isElementPosition(r) && (o = n.container(), Cy(o) && Wa.lastPositionIn(o).each(function(e) {
                        return t.setEnd(e.container(), e.offset())
                    })), e.selection.setRng(Cc(t))
                }(B)
            }), xy(t), (P = t).settings.forced_root_block && P.on("NodeChange", H.curry(Qh, P)), t.fire("PreInit"), I.browser_spellcheck || I.gecko_spellcheck || ($.body.spellcheck = !1, _y.setAttrib(n, "spellcheck", "false")), t.quirks = (d = t, m = zt.each, g = Tp.BACKSPACE, v = Tp.DELETE, y = d.dom, b = d.selection, w = d.settings, x = d.parser, C = ve.gecko, _ = ve.ie, S = ve.webkit, E = "data:text/mce-internal,", k = _ ? "Text" : "URL", T = function(e, t) {
                try {
                    d.getDoc().execCommand(e, !1, t)
                } catch (e) {}
            }, N = function(e) {
                return e.isDefaultPrevented()
            }, A = function() {
                d.shortcuts.add("meta+a", null, "SelectAll")
            }, O = function() {
                d.on("keydown", function(e) {
                    if (!N(e) && e.keyCode === g && b.isCollapsed() && 0 === b.getRng().startOffset) {
                        var t = b.getNode().previousSibling;
                        if (t && t.nodeName && "table" === t.nodeName.toLowerCase()) return e.preventDefault(), !1
                    }
                })
            }, R = function() {
                d.inline || (d.contentStyles.push("body {min-height: 150px}"), d.on("click", function(e) {
                    var t;
                    if ("HTML" === e.target.nodeName) {
                        if (11 < ve.ie) return void d.getBody().focus();
                        t = d.selection.getRng(), d.getBody().focus(), d.selection.setRng(t), d.selection.normalize(), d.nodeChanged()
                    }
                }))
            }, d.on("keydown", function(e) {
                var t, n, r, o, i;
                if (!N(e) && e.keyCode === Tp.BACKSPACE && (n = (t = b.getRng()).startContainer, r = t.startOffset, o = y.getRoot(), i = n, t.collapsed && 0 === r)) {
                    for (; i && i.parentNode && i.parentNode.firstChild === i && i.parentNode !== o;) i = i.parentNode;
                    "BLOCKQUOTE" === i.tagName && (d.formatter.toggle("blockquote", null, i), (t = y.createRng()).setStart(n, 0), t.setEnd(n, 0), b.setRng(t))
                }
            }), f = function(e) {
                var t = y.create("body"),
                    n = e.cloneContents();
                return t.appendChild(n), b.serializer.serialize(t, {
                    format: "html"
                })
            }, d.on("keydown", function(e) {
                var t, n, r, o, i, a = e.keyCode;
                if (!N(e) && (a === v || a === g)) {
                    if (t = d.selection.isCollapsed(), n = d.getBody(), t && !y.isEmpty(n)) return;
                    if (!t && (r = d.selection.getRng(), o = f(r), (i = y.createRng()).selectNode(d.getBody()), o !== f(i))) return;
                    e.preventDefault(), d.setContent(""), n.firstChild && y.isBlock(n.firstChild) ? d.selection.setCursorLocation(n.firstChild, 0) : d.selection.setCursorLocation(n, 0), d.nodeChanged()
                }
            }), ve.windowsPhone || d.on("keyup focusin mouseup", function(e) {
                Tp.modifierPressed(e) || b.normalize()
            }, !0), S && (d.settings.content_editable || y.bind(d.getDoc(), "mousedown mouseup", function(e) {
                var t;
                if (e.target === d.getDoc().documentElement)
                    if (t = b.getRng(), d.getBody().focus(), "mousedown" === e.type) {
                        if (Bi(t.startContainer)) return;
                        b.placeCaretAt(e.clientX, e.clientY)
                    } else b.setRng(t)
            }), d.on("click", function(e) {
                var t = e.target;
                /^(IMG|HR)$/.test(t.nodeName) && "false" !== y.getContentEditableParent(t) && (e.preventDefault(), d.selection.select(t), d.nodeChanged()), "A" === t.nodeName && y.hasClass(t, "mce-item-anchor") && (e.preventDefault(), b.select(t))
            }), w.forced_root_block && d.on("init", function() {
                T("DefaultParagraphSeparator", w.forced_root_block)
            }), d.on("init", function() {
                d.dom.bind(d.getBody(), "submit", function(e) {
                    e.preventDefault()
                })
            }), O(), x.addNodeFilter("br", function(e) {
                for (var t = e.length; t--;) "Apple-interchange-newline" === e[t].attr("class") && e[t].remove()
            }), ve.iOS ? (d.inline || d.on("keydown", function() {
                document.activeElement === document.body && d.getWin().focus()
            }), R(), d.on("click", function(e) {
                var t = e.target;
                do {
                    if ("A" === t.tagName) return void e.preventDefault()
                } while (t = t.parentNode)
            }), d.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")) : A()), 11 <= ve.ie && (R(), O()), ve.ie && (A(), T("AutoUrlDetect", !1), d.on("dragstart", function(e) {
                var t, n, r;
                (t = e).dataTransfer && (d.selection.isCollapsed() && "IMG" === t.target.tagName && b.select(t.target), 0 < (n = d.selection.getContent()).length && (r = E + escape(d.id) + "," + escape(n), t.dataTransfer.setData(k, r)))
            }), d.on("drop", function(e) {
                if (!N(e)) {
                    var t = (o = e).dataTransfer && (i = o.dataTransfer.getData(k)) && 0 <= i.indexOf(E) ? (i = i.substr(E.length).split(","), {
                        id: unescape(i[0]),
                        html: unescape(i[1])
                    }) : null;
                    if (t && t.id !== d.id) {
                        e.preventDefault();
                        var n = ov(e.x, e.y, d.getDoc());
                        b.setRng(n), r = t.html, d.queryCommandSupported("mceInsertClipboardContent") ? d.execCommand("mceInsertClipboardContent", !1, {
                            content: r,
                            internal: !0
                        }) : d.execCommand("mceInsertContent", !1, r)
                    }
                }
                var r, o, i
            })), C && (d.on("keydown", function(e) {
                if (!N(e) && e.keyCode === g) {
                    if (!d.getBody().getElementsByTagName("hr").length) return;
                    if (b.isCollapsed() && 0 === b.getRng().startOffset) {
                        var t = b.getNode(),
                            n = t.previousSibling;
                        if ("HR" === t.nodeName) return y.remove(t), void e.preventDefault();
                        n && n.nodeName && "hr" === n.nodeName.toLowerCase() && (y.remove(n), e.preventDefault())
                    }
                }
            }), Range.prototype.getClientRects || d.on("mousedown", function(e) {
                if (!N(e) && "HTML" === e.target.nodeName) {
                    var t = d.getBody();
                    t.blur(), Ce.setEditorTimeout(d, function() {
                        t.focus()
                    })
                }
            }), h = function() {
                var e = y.getAttribs(b.getStart().cloneNode(!1));
                return function() {
                    var t = b.getStart();
                    t !== d.getBody() && (y.setAttrib(t, "style", null), m(e, function(e) {
                        t.setAttributeNode(e.cloneNode(!0))
                    }))
                }
            }, p = function() {
                return !b.isCollapsed() && y.getParent(b.getStart(), y.isBlock) !== y.getParent(b.getEnd(), y.isBlock)
            }, d.on("keypress", function(e) {
                var t;
                if (!N(e) && (8 === e.keyCode || 46 === e.keyCode) && p()) return t = h(), d.getDoc().execCommand("delete", !1, null), t(), e.preventDefault(), !1
            }), y.bind(d.getDoc(), "cut", function(e) {
                var t;
                !N(e) && p() && (t = h(), Ce.setEditorTimeout(d, function() {
                    t()
                }))
            }), w.readonly || d.on("BeforeExecCommand MouseDown", function() {
                T("StyleWithCSS", !1), T("enableInlineTableEditing", !1), w.object_resizing || T("enableObjectResizing", !1)
            }), d.on("SetContent ExecCommand", function(e) {
                "setcontent" !== e.type && "mceInsertLink" !== e.command || m(y.select("a"), function(e) {
                    var t = e.parentNode,
                        n = y.getRoot();
                    if (t.lastChild === e) {
                        for (; t && !y.isBlock(t);) {
                            if (t.parentNode.lastChild !== t || t === n) return;
                            t = t.parentNode
                        }
                        y.add(t, "br", {
                            "data-mce-bogus": 1
                        })
                    }
                })
            }), d.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"), ve.mac && d.on("keydown", function(e) {
                !Tp.metaKeyPressed(e) || e.shiftKey || 37 !== e.keyCode && 39 !== e.keyCode || (e.preventDefault(), d.selection.getSel().modify("move", 37 === e.keyCode ? "backward" : "forward", "lineboundary"))
            }), O()), {
                refreshContentEditable: function() {},
                isHidden: function() {
                    var e;
                    return !C || d.removed ? 0 : !(e = d.selection.getSel()) || !e.rangeCount || 0 === e.rangeCount
                }
            }), t.fire("PostRender"), I.directionality && (n.dir = I.directionality), I.nowrap && (n.style.whiteSpace = "nowrap"), I.protect && t.on("BeforeSetContent", function(t) {
                zt.each(I.protect, function(e) {
                    t.content = t.content.replace(e, function(e) {
                        return "\x3c!--mce:protected " + escape(e) + "--\x3e"
                    })
                })
            }), t.on("SetContent", function() {
                t.addVisual(t.getBody())
            }), t.load({
                initial: !0,
                format: "html"
            }), t.startContent = t.getContent({
                format: "raw"
            }), t.on("compositionstart compositionend", function(e) {
                t.composing = "compositionstart" === e.type
            }), 0 < t.contentStyles.length && (r = "", zt.each(t.contentStyles, function(e) {
                r += e + "\r\n"
            }), t.dom.addStyle(r)), (i = t, i.inline ? _y.styleSheetLoader : i.dom.styleSheetLoader).loadAll(t.contentCSS, function(e) {
                Sy(t)
            }, function(e) {
                Sy(t)
            }), I.content_style && (a = t, l = I.content_style, c = Vn(a.getDoc().head), u = qn("style"), lr(u, "type", "text/css"), _s(u, Un(l)), _s(c, u))
        },
        ky = gi.DOM,
        Ty = function(e, t) {
            var n, r, o, i, a, s, l, c, u = e.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),
                d = (n = e.id, r = u, o = t.height, c = e, i = c.getParam("iframe_attrs", {}), l = qn("iframe"), cr(l, i), cr(l, {
                    id: n + "_ifr",
                    frameBorder: "0",
                    allowTransparency: "true",
                    title: r
                }), vr(l, {
                    width: "100%",
                    height: (a = o, s = "number" == typeof a ? a + "px" : a, s || ""),
                    display: "block"
                }), l).dom();
            d.onload = function() {
                d.onload = null, e.fire("load")
            };
            var f, h, p, m, g = function(e, t) {
                if (document.domain !== window.location.hostname && ve.ie && ve.ie < 12) {
                    var n = Kh("mce");
                    e[n] = function() {
                        Ey(e)
                    };
                    var r = 'javascript:(function(){document.open();document.domain="' + document.domain + '";var ed = window.parent.tinymce.get("' + e.id + '");document.write(ed.iframeHTML);document.close();ed.' + n + "(true);})()";
                    return ky.setAttrib(t, "src", r), !0
                }
                return !1
            }(e, d);
            return e.contentAreaContainer = t.iframeContainer, e.iframeElement = d, e.iframeHTML = (m = (f = e).getParam("doctype", "<!DOCTYPE html>") + "<html><head>", f.getParam("document_base_url", "") !== f.documentBaseUrl && (m += '<base href="' + f.documentBaseURI.getURI() + '" />'), m += '<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />', h = ms(f, "body_id", "tinymce"), p = ms(f, "body_class", ""), gs(f) && (m += '<meta http-equiv="Content-Security-Policy" content="' + gs(f) + '" />'), m += '</head><body id="' + h + '" class="mce-content-body ' + p + '" data-id="' + f.id + '"><br></body></html>'), ky.add(t.iframeContainer, d), g
        },
        Ny = gi.DOM,
        Ay = function(t, n, e) {
            var r, o, i = Dh.get(e);
            if (r = Dh.urls[e] || t.documentBaseUrl.replace(/\/$/, ""), e = zt.trim(e), i && -1 === zt.inArray(n, e)) {
                if (zt.each(Dh.dependencies(e), function(e) {
                        Ay(t, n, e)
                    }), t.plugins[e]) return;
                o = new i(t, r, t.$), (t.plugins[e] = o).init && (o.init(t, r), n.push(e))
            }
        },
        Oy = function(e) {
            return e.replace(/^\-/, "")
        },
        Ry = function(e) {
            return {
                editorContainer: e,
                iframeContainer: e
            }
        },
        Py = function(e) {
            var t, n, r, o, i, a, s, l, c, u, d, f, h, p, m, g = e.settings,
                v = e.getElement();
            return e.orgDisplay = v.style.display, F.isString(g.theme) ? (u = (o = e).settings, d = o.getElement(), i = u.width || Ny.getStyle(d, "width") || "100%", a = u.height || Ny.getStyle(d, "height") || d.offsetHeight, s = u.min_height || 100, (l = /^[0-9\.]+(|px)$/i).test("" + i) && (i = Math.max(parseInt(i, 10), 100)), l.test("" + a) && (a = Math.max(parseInt(a, 10), s)), c = o.theme.renderUI({
                targetNode: d,
                width: i,
                height: a,
                deltaWidth: u.delta_width,
                deltaHeight: u.delta_height
            }), u.content_editable || (a = (c.iframeHeight || a) + ("number" == typeof a ? c.deltaHeight || 0 : "")) < s && (a = s), c.height = a, c) : F.isFunction(g.theme) ? (r = (t = e).getElement(), (n = t.settings.theme(t, r)).editorContainer.nodeType && (n.editorContainer.id = n.editorContainer.id || t.id + "_parent"), n.iframeContainer && n.iframeContainer.nodeType && (n.iframeContainer.id = n.iframeContainer.id || t.id + "_iframecontainer"), n.height = n.iframeHeight ? n.iframeHeight : r.offsetHeight, n) : (m = (f = e).getElement(), f.inline ? Ry(null) : (h = m, p = Ny.create("div"), Ny.insertAfter(p, h), Ry(p)))
        },
        By = function(t) {
            var e, n, r, o, i, a, s, l, c, u = t.settings,
                d = t.getElement();
            return t.rtl = u.rtl_ui || t.editorManager.i18n.rtl, t.editorManager.i18n.setCode(u.language), u.aria_label = u.aria_label || Ny.getAttrib(d, "aria-label", t.getLang("aria.rich_text_area")), t.fire("ScriptsLoaded"), o = (n = t).settings.theme, F.isString(o) ? (n.settings.theme = Oy(o), r = Lh.get(o), n.theme = new r(n, Lh.urls[o]), n.theme.init && n.theme.init(n, Lh.urls[o] || n.documentBaseUrl.replace(/\/$/, ""), n.$)) : n.theme = {}, i = t, a = [], zt.each(i.settings.plugins.split(/[ ,]/), function(e) {
                Ay(i, a, Oy(e))
            }), e = Py(t), t.editorContainer = e.editorContainer ? e.editorContainer : null, u.content_css && zt.each(zt.explode(u.content_css), function(e) {
                t.contentCSS.push(t.documentBaseURI.toAbsolute(e))
            }), u.content_editable ? Ey(t) : (c = Ty(s = t, l = e), l.editorContainer && (ky.get(l.editorContainer).style.display = s.orgDisplay, s.hidden = ky.isHidden(l.editorContainer)), s.getElement().style.display = "none", ky.setAttrib(s.id, "aria-hidden", "true"), void(c || Ey(s)))
        },
        Dy = gi.DOM,
        Ly = function(e) {
            return "-" === e.charAt(0)
        },
        zy = function(t) {
            var i, a, s, e = t.settings,
                n = t.id,
                r = function() {
                    Dy.unbind(window, "ready", r), t.render()
                };
            if (Re.Event.domLoaded) {
                if (t.getElement() && ve.contentEditable) {
                    e.inline ? t.inline = !0 : (t.orgVisibility = t.getElement().style.visibility, t.getElement().style.visibility = "hidden");
                    var o = t.getElement().form || Dy.getParent(n, "form");
                    o && (t.formElement = o, e.hidden_input && !/TEXTAREA|INPUT/i.test(t.getElement().nodeName) && (Dy.insertAfter(Dy.create("input", {
                            type: "hidden",
                            name: n
                        }), n), t.hasHiddenInput = !0), t.formEventDelegate = function(e) {
                            t.fire(e.type, e)
                        }, Dy.bind(o, "submit reset", t.formEventDelegate), t.on("reset", function() {
                            t.setContent(t.startContent, {
                                format: "raw"
                            })
                        }), !e.submit_patch || o.submit.nodeType || o.submit.length || o._mceOldSubmit || (o._mceOldSubmit = o.submit, o.submit = function() {
                            return t.editorManager.triggerSave(), t.setDirty(!1), o._mceOldSubmit(o)
                        })), t.windowManager = Th(t), t.notificationManager = kh(t), "xml" === e.encoding && t.on("GetContent", function(e) {
                            e.save && (e.content = Dy.encode(e.content))
                        }), e.add_form_submit_trigger && t.on("submit", function() {
                            t.initialized && t.save()
                        }), e.add_unload_trigger && (t._beforeUnload = function() {
                            !t.initialized || t.destroyed || t.isHidden() || t.save({
                                format: "raw",
                                no_events: !0,
                                set_dirty: !1
                            })
                        }, t.editorManager.on("BeforeUnload", t._beforeUnload)), t.editorManager.add(t), a = (i = t).suffix,
                        function(e, t, n, r) {
                            var o = t.settings,
                                i = o.theme;
                            if (F.isString(i)) {
                                if (!Ly(i) && !Lh.urls.hasOwnProperty(i)) {
                                    var a = o.theme_url;
                                    a ? Lh.load(i, t.documentBaseURI.toAbsolute(a)) : Lh.load(i, "themes/" + i + "/theme" + n + ".js")
                                }
                                e.loadQueue(function() {
                                    Lh.waitFor(i, r)
                                })
                            } else r()
                        }(s = xi.ScriptLoader, i, a, function() {
                            var e, t, n, r, o;
                            e = s, (n = (t = i).settings).language && "en" !== n.language && !n.language_url && (n.language_url = t.editorManager.baseURL + "/langs/" + n.language + ".js"), n.language_url && !t.editorManager.i18n.data[n.language] && e.add(n.language_url), r = i.settings, o = a, zt.isArray(r.plugins) && (r.plugins = r.plugins.join(" ")), zt.each(r.external_plugins, function(e, t) {
                                Dh.load(t, e), r.plugins += " " + t
                            }), zt.each(r.plugins.split(/[ ,]/), function(e) {
                                if ((e = zt.trim(e)) && !Dh.urls[e])
                                    if (Ly(e)) {
                                        e = e.substr(1, e.length);
                                        var t = Dh.dependencies(e);
                                        zt.each(t, function(e) {
                                            var t = {
                                                prefix: "plugins/",
                                                resource: e,
                                                suffix: "/plugin" + o + ".js"
                                            };
                                            e = Dh.createUrl(t, e), Dh.load(e.resource, e)
                                        })
                                    } else Dh.load(e, {
                                        prefix: "plugins/",
                                        resource: e,
                                        suffix: "/plugin" + o + ".js"
                                    })
                            }), s.loadQueue(function() {
                                i.removed || By(i)
                            }, i, function(e) {
                                Rh(i, e[0]), i.removed || By(i)
                            })
                        })
                }
            } else Dy.bind(window, "ready", r)
        },
        Iy = zt.each,
        My = zt.trim,
        $y = "source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),
        Fy = {
            ftp: 21,
            http: 80,
            https: 443,
            mailto: 25
        },
        jy = function(r, e) {
            var t, n, o = this;
            if (r = My(r), t = (e = o.settings = e || {}).base_uri, /^([\w\-]+):([^\/]{2})/i.test(r) || /^\s*#/.test(r)) o.source = r;
            else {
                var i = 0 === r.indexOf("//");
                0 !== r.indexOf("/") || i || (r = (t && t.protocol || "http") + "://mce_host" + r), /^[\w\-]*:?\/\//.test(r) || (n = e.base_uri ? e.base_uri.path : new jy(document.location.href).directory, r = "" == e.base_uri.protocol ? "//mce_host" + o.toAbsPath(n, r) : (r = /([^#?]*)([#?]?.*)/.exec(r), (t && t.protocol || "http") + "://mce_host" + o.toAbsPath(n, r[1]) + r[2])), r = r.replace(/@@/g, "(mce_at)"), r = /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(r), Iy($y, function(e, t) {
                    var n = r[t];
                    n && (n = n.replace(/\(mce_at\)/g, "@@")), o[e] = n
                }), t && (o.protocol || (o.protocol = t.protocol), o.userInfo || (o.userInfo = t.userInfo), o.port || "mce_host" !== o.host || (o.port = t.port), o.host && "mce_host" !== o.host || (o.host = t.host), o.source = ""), i && (o.protocol = "")
            }
        };
    jy.prototype = {
        setPath: function(e) {
            e = /^(.*?)\/?(\w+)?$/.exec(e), this.path = e[0], this.directory = e[1], this.file = e[2], this.source = "", this.getURI()
        },
        toRelative: function(e) {
            var t;
            if ("./" === e) return e;
            if ("mce_host" !== (e = new jy(e, {
                    base_uri: this
                })).host && this.host !== e.host && e.host || this.port !== e.port || this.protocol !== e.protocol && "" !== e.protocol) return e.getURI();
            var n = this.getURI(),
                r = e.getURI();
            return n === r || "/" === n.charAt(n.length - 1) && n.substr(0, n.length - 1) === r ? n : (t = this.toRelPath(this.path, e.path), e.query && (t += "?" + e.query), e.anchor && (t += "#" + e.anchor), t)
        },
        toAbsolute: function(e, t) {
            return (e = new jy(e, {
                base_uri: this
            })).getURI(t && this.isSameOrigin(e))
        },
        isSameOrigin: function(e) {
            if (this.host == e.host && this.protocol == e.protocol) {
                if (this.port == e.port) return !0;
                var t = Fy[this.protocol];
                if (t && (this.port || t) == (e.port || t)) return !0
            }
            return !1
        },
        toRelPath: function(e, t) {
            var n, r, o, i = 0,
                a = "";
            if (e = (e = e.substring(0, e.lastIndexOf("/"))).split("/"), n = t.split("/"), e.length >= n.length)
                for (r = 0, o = e.length; r < o; r++)
                    if (r >= n.length || e[r] !== n[r]) {
                        i = r + 1;
                        break
                    }
            if (e.length < n.length)
                for (r = 0, o = n.length; r < o; r++)
                    if (r >= e.length || e[r] !== n[r]) {
                        i = r + 1;
                        break
                    }
            if (1 === i) return t;
            for (r = 0, o = e.length - (i - 1); r < o; r++) a += "../";
            for (r = i - 1, o = n.length; r < o; r++) a += r !== i - 1 ? "/" + n[r] : n[r];
            return a
        },
        toAbsPath: function(e, t) {
            var n, r, o, i = 0,
                a = [];
            for (r = /\/$/.test(t) ? "/" : "", e = e.split("/"), t = t.split("/"), Iy(e, function(e) {
                    e && a.push(e)
                }), e = a, n = t.length - 1, a = []; 0 <= n; n--) 0 !== t[n].length && "." !== t[n] && (".." !== t[n] ? 0 < i ? i-- : a.push(t[n]) : i++);
            return 0 !== (o = (n = e.length - i) <= 0 ? a.reverse().join("/") : e.slice(0, n).join("/") + "/" + a.reverse().join("/")).indexOf("/") && (o = "/" + o), r && o.lastIndexOf("/") !== o.length - 1 && (o += r), o
        },
        getURI: function(e) {
            var t, n = this;
            return n.source && !e || (t = "", e || (n.protocol ? t += n.protocol + "://" : t += "//", n.userInfo && (t += n.userInfo + "@"), n.host && (t += n.host), n.port && (t += ":" + n.port)), n.path && (t += n.path), n.query && (t += "?" + n.query), n.anchor && (t += "#" + n.anchor), n.source = t), n.source
        }
    }, jy.parseDataUri = function(e) {
        var t, n;
        return e = decodeURIComponent(e).split(","), (n = /data:([^;]+)/.exec(e[0])) && (t = n[1]), {
            type: t,
            data: e[1]
        }
    }, jy.getDocumentBaseUrl = function(e) {
        var t;
        return t = 0 !== e.protocol.indexOf("http") && "file:" !== e.protocol ? e.href : e.protocol + "//" + e.host + e.pathname, /^[^:]+:\/\/\/?[^\/]+\//.test(t) && (t = t.replace(/[\?#].*$/, "").replace(/[\/\\][^\/]+$/, ""), /[\/\\]$/.test(t) || (t += "/")), t
    };
    var Hy = function(e, t) {
            t(e), e.firstChild && Hy(e.firstChild, t), e.next && Hy(e.next, t)
        },
        qy = function(e) {
            return e instanceof Mg
        },
        Uy = function(e, t) {
            var r;
            e.dom.setHTML(e.getBody(), t), yh(r = e) && Wa.firstPositionIn(r.getBody()).each(function(e) {
                var t = e.getNode(),
                    n = Po.isTable(t) ? Wa.firstPositionIn(t).getOr(e) : e;
                r.selection.setRng(n.toRange())
            })
        },
        Vy = function(s, l, c) {
            return void 0 === c && (c = {}), c.format = c.format ? c.format : "html", c.set = !0, c.content = qy(l) ? "" : l, qy(l) || c.no_events || (s.fire("BeforeSetContent", c), l = c.content), M.from(s.getBody()).fold(H.constant(l), function(e) {
                return qy(l) ? function(e, t, n, r) {
                    var o, i, a;
                    o = e.parser.getNodeFilters(), i = e.parser.getAttributeFilters(), a = function(e, n, t) {
                        var r = {},
                            o = {},
                            i = [];
                        for (var a in t.firstChild && Hy(t.firstChild, function(t) {
                                q.each(e, function(e) {
                                    e.name === t.name && (r[e.name] ? r[e.name].nodes.push(t) : r[e.name] = {
                                        filter: e,
                                        nodes: [t]
                                    })
                                }), q.each(n, function(e) {
                                    "string" == typeof t.attr(e.name) && (o[e.name] ? o[e.name].nodes.push(t) : o[e.name] = {
                                        filter: e,
                                        nodes: [t]
                                    })
                                })
                            }), r) r.hasOwnProperty(a) && i.push(r[a]);
                        for (var s in o) o.hasOwnProperty(s) && i.push(o[s]);
                        return i
                    }(o, i, n), q.each(a, function(t) {
                        q.each(t.filter.callbacks, function(e) {
                            e(t.nodes, t.filter.name, {})
                        })
                    });
                    var s = xc({
                        validate: e.validate
                    }, e.schema).serialize(n);
                    return r.content = xo(Vn(t)) ? s : zt.trim(s), Uy(e, r.content), r.no_events || e.fire("SetContent", r), n
                }(s, e, l, c) : (t = s, n = e, o = c, 0 === (r = l).length || /^\s+$/.test(r) ? (a = '<br data-mce-bogus="1">', "TABLE" === n.nodeName ? r = "<tr><td>" + a + "</td></tr>" : /^(UL|OL)$/.test(n.nodeName) && (r = "<li>" + a + "</li>"), (i = vs(t)) && t.schema.isValidChild(n.nodeName.toLowerCase(), i.toLowerCase()) ? (r = a, r = t.dom.createHTML(i, t.settings.forced_root_block_attrs, r)) : r || (r = '<br data-mce-bogus="1">'), Uy(t, r), t.fire("SetContent", o)) : ("raw" !== o.format && (r = xc({
                    validate: t.validate
                }, t.schema).serialize(t.parser.parse(r, {
                    isRootContent: !0,
                    insert: !0
                }))), o.content = xo(Vn(n)) ? r : zt.trim(r), Uy(t, o.content), o.no_events || t.fire("SetContent", o)), o.content);
                var t, n, r, o, i, a
            })
        },
        Wy = gi.DOM,
        Yy = function(e) {
            return M.from(e).each(function(e) {
                return e.destroy()
            })
        },
        Ky = gi.DOM,
        Xy = zt.extend,
        Zy = zt.each,
        Gy = zt.resolve,
        Qy = ve.ie,
        Jy = function(e, t, n) {
            var r, o, i, a, s, l, c, u = this,
                d = u.documentBaseUrl = n.documentBaseURL,
                f = n.baseURI;
            r = u, o = e, i = d, a = n.defaultSettings, s = t, c = {
                id: o,
                theme: "modern",
                delta_width: 0,
                delta_height: 0,
                popup_css: "",
                plugins: "",
                document_base_url: i,
                add_form_submit_trigger: !0,
                submit_patch: !0,
                add_unload_trigger: !0,
                convert_urls: !0,
                relative_urls: !0,
                remove_script_host: !0,
                object_resizing: !0,
                doctype: "<!DOCTYPE html>",
                visual: !0,
                font_size_style_values: "xx-small,x-small,small,medium,large,x-large,xx-large",
                font_size_legacy_values: "xx-small,small,medium,large,x-large,xx-large,300%",
                forced_root_block: "p",
                hidden_input: !0,
                render_ui: !0,
                indentation: "30px",
                inline_styles: !0,
                convert_fonts_to_spans: !0,
                indent: "simple",
                indent_before: "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
                indent_after: "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
                entity_encoding: "named",
                url_converter: (l = r).convertURL,
                url_converter_scope: l,
                ie7_compat: !0
            }, t = Lc(Oc, c, a, s), u.settings = t, Si.language = t.language || "en", Si.languageLoad = t.language_load, Si.baseURL = n.baseURL, u.id = e, u.setDirty(!1), u.plugins = {}, u.documentBaseURI = new jy(t.document_base_url, {
                base_uri: f
            }), u.baseURI = f, u.contentCSS = [], u.contentStyles = [], u.shortcuts = new dh(u), u.loadedCSS = {}, u.editorCommands = new Df(u), u.suffix = n.suffix, u.editorManager = n, u.inline = t.inline, u.buttons = {}, u.menuItems = {}, t.cache_suffix && (ve.cacheSuffix = t.cache_suffix.replace(/^[\?\&]+/, "")), !1 === t.override_viewport && (ve.overrideViewPort = !1), n.fire("SetupEditor", {
                editor: u
            }), u.execCallback("setup", u), u.$ = tn.overrideDefaults(function() {
                return {
                    context: u.inline ? u.getBody() : u.getDoc(),
                    element: u.getBody()
                }
            })
        };
    Xy(Jy.prototype = {
        render: function() {
            zy(this)
        },
        focus: function(e) {
            var t, n;
            n = e, (t = this).removed || (n ? vh(t) : function(t) {
                var e = t.selection,
                    n = t.settings.content_editable,
                    r = t.getBody(),
                    o = e.getRng();
                t.quirks.refreshContentEditable();
                var i, a, s = (i = t, a = e.getNode(), i.dom.getParent(a, function(e) {
                    return "true" === i.dom.getContentEditable(e)
                }));
                if (t.$.contains(r, s)) return mh(s), ph(t, o), vh(t);
                void 0 !== t.bookmark && !1 === gh(t) && Af(t).each(function(e) {
                    t.selection.setRng(e), o = e
                }), n || (ve.opera || mh(r), t.getWin().focus()), (ve.gecko || n) && (mh(r), ph(t, o)), vh(t)
            }(t))
        },
        hasFocus: function() {
            return yh(this)
        },
        execCallback: function(e) {
            for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
            var r, o = this.settings[e];
            if (o) return this.callbackLookup && (r = this.callbackLookup[e]) && (o = r.func, r = r.scope), "string" == typeof o && (r = (r = o.replace(/\.\w+$/, "")) ? Gy(r) : 0, o = Gy(o), this.callbackLookup = this.callbackLookup || {}, this.callbackLookup[e] = {
                func: o,
                scope: r
            }), o.apply(r || this, Array.prototype.slice.call(arguments, 1))
        },
        translate: function(e) {
            if (e && zt.is(e, "string")) {
                var n = this.settings.language || "en",
                    r = this.editorManager.i18n;
                e = r.data[n + "." + e] || e.replace(/\{\#([^\}]+)\}/g, function(e, t) {
                    return r.data[n + "." + t] || "{#" + t + "}"
                })
            }
            return this.editorManager.translate(e)
        },
        getLang: function(e, t) {
            return this.editorManager.i18n.data[(this.settings.language || "en") + "." + e] || (void 0 !== t ? t : "{#" + e + "}")
        },
        getParam: function(e, t, n) {
            return i = t, a = n, u = (o = e) in (r = this).settings ? r.settings[o] : i, "hash" === a ? (c = {}, "string" == typeof(l = u) ? q.each(0 < l.indexOf("=") ? l.split(/[;,](?![^=;,]*(?:[;,]|$))/) : l.split(","), function(e) {
                var t = e.split("=");
                1 < t.length ? c[zt.trim(t[0])] = zt.trim(t[1]) : c[zt.trim(t[0])] = zt.trim(t)
            }) : c = l, c) : "string" === a ? zc(F.isString, r, o).getOr(i) : "number" === a ? zc(F.isNumber, r, o).getOr(i) : "boolean" === a ? zc(F.isBoolean, r, o).getOr(i) : "object" === a ? zc(F.isObject, r, o).getOr(i) : "array" === a ? zc(F.isArray, r, o).getOr(i) : "string[]" === a ? zc((s = F.isString, function(e) {
                return F.isArray(e) && q.forall(e, s)
            }), r, o).getOr(i) : "function" === a ? zc(F.isFunction, r, o).getOr(i) : u;
            var r, o, i, a, s, l, c, u
        },
        nodeChanged: function(e) {
            this._nodeChangeDispatcher.nodeChanged(e)
        },
        addButton: function(e, t) {
            var n = this;
            t.cmd && (t.onclick = function() {
                n.execCommand(t.cmd)
            }), t.stateSelector && void 0 === t.active && (t.active = !1), t.text || t.icon || (t.icon = e), n.buttons = n.buttons, t.tooltip = t.tooltip || t.title, n.buttons[e] = t
        },
        addSidebar: function(e, t) {
            return r = e, o = t, (i = (n = this).sidebars ? n.sidebars : []).push({
                name: r,
                settings: o
            }), void(n.sidebars = i);
            var n, r, o, i
        },
        addMenuItem: function(e, t) {
            var n = this;
            t.cmd && (t.onclick = function() {
                n.execCommand(t.cmd)
            }), n.menuItems = n.menuItems, n.menuItems[e] = t
        },
        addContextToolbar: function(e, t) {
            var n, r = this;
            r.contextToolbars = r.contextToolbars || [], "string" == typeof e && (n = e, e = function(e) {
                return r.dom.is(e, n)
            }), r.contextToolbars.push({
                id: Kh("mcet"),
                predicate: e,
                items: t
            })
        },
        addCommand: function(e, t, n) {
            this.editorCommands.addCommand(e, t, n)
        },
        addQueryStateHandler: function(e, t, n) {
            this.editorCommands.addQueryStateHandler(e, t, n)
        },
        addQueryValueHandler: function(e, t, n) {
            this.editorCommands.addQueryValueHandler(e, t, n)
        },
        addShortcut: function(e, t, n, r) {
            this.shortcuts.add(e, t, n, r)
        },
        execCommand: function(e, t, n, r) {
            return this.editorCommands.execCommand(e, t, n, r)
        },
        queryCommandState: function(e) {
            return this.editorCommands.queryCommandState(e)
        },
        queryCommandValue: function(e) {
            return this.editorCommands.queryCommandValue(e)
        },
        queryCommandSupported: function(e) {
            return this.editorCommands.queryCommandSupported(e)
        },
        show: function() {
            this.hidden && (this.hidden = !1, this.inline ? this.getBody().contentEditable = !0 : (Ky.show(this.getContainer()), Ky.hide(this.id)), this.load(), this.fire("show"))
        },
        hide: function() {
            var e = this,
                t = e.getDoc();
            e.hidden || (Qy && t && !e.inline && t.execCommand("SelectAll"), e.save(), e.inline ? (e.getBody().contentEditable = !1, e === e.editorManager.focusedEditor && (e.editorManager.focusedEditor = null)) : (Ky.hide(e.getContainer()), Ky.setStyle(e.id, "display", e.orgDisplay)), e.hidden = !0, e.fire("hide"))
        },
        isHidden: function() {
            return !!this.hidden
        },
        setProgressState: function(e, t) {
            this.fire("ProgressState", {
                state: e,
                time: t
            })
        },
        load: function(e) {
            var t, n = this.getElement();
            return this.removed ? "" : n ? ((e = e || {}).load = !0, t = this.setContent(void 0 !== n.value ? n.value : n.innerHTML, e), e.element = n, e.no_events || this.fire("LoadContent", e), e.element = n = null, t) : void 0
        },
        save: function(e) {
            var t, n, r = this,
                o = r.getElement();
            if (o && r.initialized && !r.removed) return (e = e || {}).save = !0, e.element = o, e.content = r.getContent(e), e.no_events || r.fire("SaveContent", e), "raw" === e.format && r.fire("RawSaveContent", e), t = e.content, /TEXTAREA|INPUT/i.test(o.nodeName) ? o.value = t : (r.inline || (o.innerHTML = t), (n = Ky.getParent(r.id, "form")) && Zy(n.elements, function(e) {
                if (e.name === r.id) return e.value = t, !1
            })), e.element = o = null, !1 !== e.set_dirty && r.setDirty(!1), t
        },
        setContent: function(e, t) {
            return Vy(this, e, t)
        },
        getContent: function(e) {
            return t = this, void 0 === (n = e) && (n = {}), M.from(t.getBody()).fold(H.constant("tree" === n.format ? new Mg("body", 11) : ""), function(e) {
                return function(e, t, n) {
                    var r, o, i, a, s;
                    if (t.format = t.format ? t.format : "html", t.get = !0, t.getInner = !0, t.no_events || e.fire("BeforeGetContent", t), "raw" === t.format) r = zt.trim(Mp(e.serializer, n.innerHTML));
                    else if ("text" === t.format) r = Ni(n.innerText || n.textContent);
                    else {
                        if ("tree" === t.format) return e.serializer.serialize(n, t);
                        i = (o = e).serializer.serialize(n, t), a = vs(o), s = new RegExp("^(<" + a + "[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/" + a + ">[\r\n]*|<br \\/>[\r\n]*)$"), r = i.replace(s, "")
                    }
                    return "text" === t.format || xo(Vn(n)) ? t.content = r : t.content = zt.trim(r), t.no_events || e.fire("GetContent", t), t.content
                }(t, n, e)
            });
            var t, n
        },
        insertContent: function(e, t) {
            t && (e = Xy({
                content: e
            }, t)), this.execCommand("mceInsertContent", !1, e)
        },
        isDirty: function() {
            return !this.isNotDirty
        },
        setDirty: function(e) {
            var t = !this.isNotDirty;
            this.isNotDirty = !e, e && e !== t && this.fire("dirty")
        },
        setMode: function(e) {
            var t, n, r;
            (n = e) !== ((t = this).readonly ? "readonly" : "design") && (t.initialized ? eh(t, "readonly" === n) : t.on("init", function() {
                eh(t, "readonly" === n)
            }), r = n, t.fire("SwitchMode", {
                mode: r
            }))
        },
        getContainer: function() {
            return this.container || (this.container = Ky.get(this.editorContainer || this.id + "_parent")), this.container
        },
        getContentAreaContainer: function() {
            return this.contentAreaContainer
        },
        getElement: function() {
            return this.targetElm || (this.targetElm = Ky.get(this.id)), this.targetElm
        },
        getWin: function() {
            var e;
            return this.contentWindow || (e = this.iframeElement) && (this.contentWindow = e.contentWindow), this.contentWindow
        },
        getDoc: function() {
            var e;
            return this.contentDocument || (e = this.getWin()) && (this.contentDocument = e.document), this.contentDocument
        },
        getBody: function() {
            var e = this.getDoc();
            return this.bodyElement || (e ? e.body : null)
        },
        convertURL: function(e, t, n) {
            var r = this.settings;
            return r.urlconverter_callback ? this.execCallback("urlconverter_callback", e, n, !0, t) : !r.convert_urls || n && "LINK" === n.nodeName || 0 === e.indexOf("file:") || 0 === e.length ? e : r.relative_urls ? this.documentBaseURI.toRelative(e) : e = this.documentBaseURI.toAbsolute(e, r.remove_script_host)
        },
        addVisual: function(e) {
            var n, r = this,
                o = r.settings,
                i = r.dom;
            e = e || r.getBody(), void 0 === r.hasVisual && (r.hasVisual = o.visual), Zy(i.select("table,a", e), function(e) {
                var t;
                switch (e.nodeName) {
                    case "TABLE":
                        return n = o.visual_table_class || "mce-item-table", void((t = i.getAttrib(e, "border")) && "0" !== t || !r.hasVisual ? i.removeClass(e, n) : i.addClass(e, n));
                    case "A":
                        return void(i.getAttrib(e, "href") || (t = i.getAttrib(e, "name") || e.id, n = o.visual_anchor_class || "mce-item-anchor", t && r.hasVisual ? i.addClass(e, n) : i.removeClass(e, n)))
                }
            }), r.fire("VisualAid", {
                element: e,
                hasVisual: r.hasVisual
            })
        },
        remove: function() {
            ! function(e) {
                if (!e.removed) {
                    var t = e._selectionOverrides,
                        n = e.editorUpload,
                        r = e.getBody(),
                        o = e.getElement();
                    r && e.save(), e.removed = !0, e.unbindAllNativeEvents(), e.hasHiddenInput && o && Wy.remove(o.nextSibling), !e.inline && r && (i = e, Wy.setStyle(i.id, "display", i.orgDisplay)), e.fire("remove"), e.editorManager.remove(e), Wy.remove(e.getContainer()), Yy(t), Yy(n), e.destroy()
                }
                var i
            }(this)
        },
        destroy: function(e) {
            var t, n, r, o, i, a, s;
            n = e, a = (t = this).selection, s = t.dom, t.destroyed || (n || t.removed ? (n || (t.editorManager.off("beforeunload", t._beforeUnload), t.theme && t.theme.destroy && t.theme.destroy(), Yy(a), Yy(s)), (o = (r = t).formElement) && (o._mceOldSubmit && (o.submit = o._mceOldSubmit, o._mceOldSubmit = null), Wy.unbind(o, "submit reset", r.formEventDelegate)), (i = t).contentAreaContainer = i.formElement = i.container = i.editorContainer = null, i.bodyElement = i.contentDocument = i.contentWindow = null, i.iframeElement = i.targetElm = null, i.selection && (i.selection = i.selection.win = i.selection.dom = i.selection.dom.doc = null), t.destroyed = !0) : t.remove())
        },
        uploadImages: function(e) {
            return this.editorUpload.uploadImages(e)
        },
        _scanForImages: function() {
            return this.editorUpload.scanForImages()
        }
    }, ah);
    var eb, tb, nb, rb = {
            isEditorUIElement: function(e) {
                return -1 !== e.className.toString().indexOf("mce-")
            }
        },
        ob = function(o) {
            var e, t, n, i = kp(function() {
                Nf(o)
            }, 0);
            o.inline && (e = o, t = i, n = function() {
                t.throttle()
            }, gi.DOM.bind(document, "mouseup", n), e.on("remove", function() {
                gi.DOM.unbind(document, "mouseup", n)
            })), o.on("init", function() {
                var n, e, t, r;
                n = o, e = i, Fn.detect().browser.isIE() ? (r = n).on("focusout", function() {
                    Nf(r)
                }) : (t = e, n.on("mouseup touchend", function(e) {
                    t.throttle()
                })), n.on("keyup nodechange", function(e) {
                    var t;
                    "nodechange" === (t = e).type && t.selectionChange || Nf(n)
                })
            }), o.on("remove", function() {
                i.cancel()
            })
        },
        ib = gi.DOM,
        ab = function(t, e) {
            var n = t ? t.settings.custom_ui_selector : "";
            return null !== ib.getParent(e, function(e) {
                return rb.isEditorUIElement(e) || !!n && t.dom.is(e, n)
            })
        },
        sb = function(r, e) {
            var t = e.editor;
            ob(t), t.on("focusin", function() {
                var e = r.focusedEditor;
                e !== this && (e && e.fire("blur", {
                    focusedEditor: this
                }), r.setActive(this), (r.focusedEditor = this).fire("focus", {
                    blurredEditor: e
                }), this.focus(!0))
            }), t.on("focusout", function() {
                var t = this;
                Ce.setEditorTimeout(t, function() {
                    var e = r.focusedEditor;
                    ab(t, function() {
                        try {
                            return document.activeElement
                        } catch (e) {
                            return document.body
                        }
                    }()) || e !== t || (t.fire("blur", {
                        focusedEditor: null
                    }), r.focusedEditor = null)
                })
            }), eb || (eb = function(e) {
                var t, n = r.activeEditor;
                t = e.target, n && t.ownerDocument === document && (t === document.body || ab(n, t) || r.focusedEditor !== n || (n.fire("blur", {
                    focusedEditor: null
                }), r.focusedEditor = null))
            }, ib.bind(document, "focusin", eb))
        },
        lb = function(e, t) {
            e.focusedEditor === t.editor && (e.focusedEditor = null), e.activeEditor || (ib.unbind(document, "focusin", eb), eb = null)
        },
        cb = {},
        ub = "en",
        db = {
            setCode: function(e) {
                e && (ub = e, this.rtl = !!this.data[e] && "rtl" === this.data[e]._dir)
            },
            getCode: function() {
                return ub
            },
            rtl: !1,
            add: function(e, t) {
                var n = cb[e];
                for (var r in n || (cb[e] = n = {}), t) n[r] = t[r];
                this.setCode(e)
            },
            translate: function(e) {
                var t = cb[ub] || {},
                    n = function(e) {
                        return zt.is(e, "function") ? Object.prototype.toString.call(e) : r(e) ? "" : "" + e
                    },
                    r = function(e) {
                        return "" === e || null === e || zt.is(e, "undefined")
                    },
                    o = function(e) {
                        return e = n(e), zt.hasOwn(t, e) ? n(t[e]) : e
                    };
                if (r(e)) return "";
                if (zt.is(e, "object") && zt.hasOwn(e, "raw")) return n(e.raw);
                if (zt.is(e, "array")) {
                    var i = e.slice(1);
                    e = o(e[0]).replace(/\{([0-9]+)\}/g, function(e, t) {
                        return zt.hasOwn(i, t) ? n(i[t]) : e
                    })
                }
                return o(e).replace(/{context:\w+}$/, "")
            },
            data: cb
        },
        fb = gi.DOM,
        hb = zt.explode,
        pb = zt.each,
        mb = zt.extend,
        gb = 0,
        vb = !1,
        yb = [],
        bb = [],
        wb = function(t) {
            pb(nb.get(), function(e) {
                "scroll" === t.type ? e.fire("ScrollWindow", t) : e.fire("ResizeWindow", t)
            })
        },
        xb = function(e) {
            e !== vb && (e ? tn(window).on("resize scroll", wb) : tn(window).off("resize scroll", wb), vb = e)
        },
        Cb = function(t) {
            var e = bb;
            delete yb[t.id];
            for (var n = 0; n < yb.length; n++)
                if (yb[n] === t) {
                    yb.splice(n, 1);
                    break
                }
            return bb = q.filter(bb, function(e) {
                return t !== e
            }), nb.activeEditor === t && (nb.activeEditor = 0 < bb.length ? bb[0] : null), nb.focusedEditor === t && (nb.focusedEditor = null), e.length !== bb.length
        };
    mb(nb = {
        defaultSettings: {},
        $: tn,
        majorVersion: "4",
        minorVersion: "7.13",
        releaseDate: "2018-05-16",
        editors: yb,
        i18n: db,
        activeEditor: null,
        settings: {},
        setup: function() {
            var e, t, n, r, o, i = "";
            if (t = jy.getDocumentBaseUrl(document.location), /^[^:]+:\/\/\/?[^\/]+\//.test(t) && (t = t.replace(/[\?#].*$/, "").replace(/[\/\\][^\/]+$/, ""), /[\/\\]$/.test(t) || (t += "/")), n = window.tinymce || window.tinyMCEPreInit) e = n.base || n.baseURL, i = n.suffix;
            else {
                for (var a = document.getElementsByTagName("script"), s = 0; s < a.length; s++) {
                    var l = (r = a[s].src).substring(r.lastIndexOf("/"));
                    if (/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r)) {
                        -1 !== l.indexOf(".min") && (i = ".min"), e = r.substring(0, r.lastIndexOf("/"));
                        break
                    }
                }!e && document.currentScript && (-1 !== (r = document.currentScript.src).indexOf(".min") && (i = ".min"), e = r.substring(0, r.lastIndexOf("/")))
            }
            this.baseURL = new jy(t).toAbsolute(e), this.documentBaseURL = t, this.baseURI = new jy(this.baseURL), this.suffix = i, (o = this).on("AddEditor", H.curry(sb, o)), o.on("RemoveEditor", H.curry(lb, o))
        },
        overrideDefaults: function(e) {
            var t, n;
            (t = e.base_url) && (this.baseURL = new jy(this.documentBaseURL).toAbsolute(t.replace(/\/+$/, "")), this.baseURI = new jy(this.baseURL)), n = e.suffix, e.suffix && (this.suffix = n);
            var r = (this.defaultSettings = e).plugin_base_urls;
            for (var o in r) Si.PluginManager.urls[o] = r[o]
        },
        init: function(r) {
            var n, s, l = this;
            s = zt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu", " ");
            var c = function(e) {
                    var t = e.id;
                    return t || (t = (t = e.name) && !fb.get(t) ? e.name : fb.uniqueId(), e.setAttribute("id", t)), t
                },
                u = function(e, t) {
                    return t.constructor === RegExp ? t.test(e.className) : fb.hasClass(e, t)
                },
                d = function(e) {
                    n = e
                },
                e = function() {
                    var o, i = 0,
                        a = [],
                        n = function(e, t, n) {
                            var r = new Jy(e, t, l);
                            a.push(r), r.on("init", function() {
                                ++i === o.length && d(a)
                            }), r.targetElm = r.targetElm || n, r.render()
                        };
                    fb.unbind(window, "ready", e),
                        function(e) {
                            var t = r.onpageload;
                            t && t.apply(l, Array.prototype.slice.call(arguments, 2))
                        }("onpageload"), o = tn.unique(function(t) {
                            var e, n = [];
                            if (ve.ie && ve.ie < 11) return Bh("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"), [];
                            if (t.types) return pb(t.types, function(e) {
                                n = n.concat(fb.select(e.selector))
                            }), n;
                            if (t.selector) return fb.select(t.selector);
                            if (t.target) return [t.target];
                            switch (t.mode) {
                                case "exact":
                                    0 < (e = t.elements || "").length && pb(hb(e), function(t) {
                                        var e;
                                        (e = fb.get(t)) ? n.push(e): pb(document.forms, function(e) {
                                            pb(e.elements, function(e) {
                                                e.name === t && (t = "mce_editor_" + gb++, fb.setAttrib(e, "id", t), n.push(e))
                                            })
                                        })
                                    });
                                    break;
                                case "textareas":
                                case "specific_textareas":
                                    pb(fb.select("textarea"), function(e) {
                                        t.editor_deselector && u(e, t.editor_deselector) || t.editor_selector && !u(e, t.editor_selector) || n.push(e)
                                    })
                            }
                            return n
                        }(r)), r.types ? pb(r.types, function(t) {
                            zt.each(o, function(e) {
                                return !fb.is(e, t.selector) || (n(c(e), mb({}, r, t), e), !1)
                            })
                        }) : (zt.each(o, function(e) {
                            var t;
                            (t = l.get(e.id)) && t.initialized && !(t.getContainer() || t.getBody()).parentNode && (Cb(t), t.unbindAllNativeEvents(), t.destroy(!0), t.removed = !0, t = null)
                        }), 0 === (o = zt.grep(o, function(e) {
                            return !l.get(e.id)
                        })).length ? d([]) : pb(o, function(e) {
                            var t;
                            t = e, r.inline && t.tagName.toLowerCase() in s ? Bh("Could not initialize inline editor on invalid inline target element", e) : n(c(e), r, e)
                        }))
                };
            return l.settings = r, fb.bind(window, "ready", e), new ye(function(t) {
                n ? t(n) : d = function(e) {
                    t(e)
                }
            })
        },
        get: function(t) {
            return 0 === arguments.length ? bb.slice(0) : F.isString(t) ? q.find(bb, function(e) {
                return e.id === t
            }).getOr(null) : F.isNumber(t) && bb[t] ? bb[t] : null
        },
        add: function(e) {
            var t = this;
            return yb[e.id] === e || (null === t.get(e.id) && ("length" !== e.id && (yb[e.id] = e), yb.push(e), bb.push(e)), xb(!0), t.activeEditor = e, t.fire("AddEditor", {
                editor: e
            }), tb || (tb = function() {
                t.fire("BeforeUnload")
            }, fb.bind(window, "beforeunload", tb))), e
        },
        createEditor: function(e, t) {
            return this.add(new Jy(e, t, this))
        },
        remove: function(e) {
            var t, n, r = this;
            if (e) return F.isString(e) ? (e = e.selector || e, void pb(fb.select(e), function(e) {
                (n = r.get(e.id)) && r.remove(n)
            })) : (n = e, F.isNull(r.get(n.id)) ? null : (Cb(n) && r.fire("RemoveEditor", {
                editor: n
            }), 0 === bb.length && fb.unbind(window, "beforeunload", tb), n.remove(), xb(0 < bb.length), n));
            for (t = bb.length - 1; 0 <= t; t--) r.remove(bb[t])
        },
        execCommand: function(e, t, n) {
            var r = this.get(n);
            switch (e) {
                case "mceAddEditor":
                    return this.get(n) || new Jy(n, this.settings, this).render(), !0;
                case "mceRemoveEditor":
                    return r && r.remove(), !0;
                case "mceToggleEditor":
                    return r ? r.isHidden() ? r.show() : r.hide() : this.execCommand("mceAddEditor", 0, n), !0
            }
            return !!this.activeEditor && this.activeEditor.execCommand(e, t, n)
        },
        triggerSave: function() {
            pb(bb, function(e) {
                e.save()
            })
        },
        addI18n: function(e, t) {
            db.add(e, t)
        },
        translate: function(e) {
            return db.translate(e)
        },
        setActive: function(e) {
            var t = this.activeEditor;
            this.activeEditor !== e && (t && t.fire("deactivate", {
                relatedTarget: e
            }), e.fire("activate", {
                relatedTarget: t
            })), this.activeEditor = e
        }
    }, $f), nb.setup();
    var _b, Sb = nb;

    function Eb(n) {
        return {
            walk: function(e, t) {
                return Ym(n, e, t)
            },
            split: Pm,
            normalize: function(t) {
                return nf(n, t).fold(H.constant(!1), function(e) {
                    return t.setStart(e.startContainer, e.startOffset), t.setEnd(e.endContainer, e.endOffset), !0
                })
            }
        }
    }(_b = Eb || (Eb = {})).compareRanges = Xd, _b.getCaretRangeFromPoint = ov, _b.getSelectedNode = ra, _b.getNode = oa;
    var kb, Tb, Nb = Eb,
        Ab = Math.min,
        Ob = Math.max,
        Rb = Math.round,
        Pb = function(e, t, n) {
            var r, o, i, a, s, l;
            return r = t.x, o = t.y, i = e.w, a = e.h, s = t.w, l = t.h, "b" === (n = (n || "").split(""))[0] && (o += l), "r" === n[1] && (r += s), "c" === n[0] && (o += Rb(l / 2)), "c" === n[1] && (r += Rb(s / 2)), "b" === n[3] && (o -= a), "r" === n[4] && (r -= i), "c" === n[3] && (o -= Rb(a / 2)), "c" === n[4] && (r -= Rb(i / 2)), Bb(r, o, i, a)
        },
        Bb = function(e, t, n, r) {
            return {
                x: e,
                y: t,
                w: n,
                h: r
            }
        },
        Db = {
            inflate: function(e, t, n) {
                return Bb(e.x - t, e.y - n, e.w + 2 * t, e.h + 2 * n)
            },
            relativePosition: Pb,
            findBestRelativePosition: function(e, t, n, r) {
                var o, i;
                for (i = 0; i < r.length; i++)
                    if ((o = Pb(e, t, r[i])).x >= n.x && o.x + o.w <= n.w + n.x && o.y >= n.y && o.y + o.h <= n.h + n.y) return r[i];
                return null
            },
            intersect: function(e, t) {
                var n, r, o, i;
                return n = Ob(e.x, t.x), r = Ob(e.y, t.y), o = Ab(e.x + e.w, t.x + t.w), i = Ab(e.y + e.h, t.y + t.h), o - n < 0 || i - r < 0 ? null : Bb(n, r, o - n, i - r)
            },
            clamp: function(e, t, n) {
                var r, o, i, a, s, l, c, u, d, f;
                return s = e.x, l = e.y, c = e.x + e.w, u = e.y + e.h, d = t.x + t.w, f = t.y + t.h, r = Ob(0, t.x - s), o = Ob(0, t.y - l), i = Ob(0, c - d), a = Ob(0, u - f), s += r, l += o, n && (c += r, u += o, s -= i, l -= a), Bb(s, l, (c -= i) - s, (u -= a) - l)
            },
            create: Bb,
            fromClientRect: function(e) {
                return Bb(e.left, e.top, e.width, e.height)
            }
        },
        Lb = {},
        zb = {
            add: function(e, t) {
                Lb[e.toLowerCase()] = t
            },
            has: function(e) {
                return !!Lb[e.toLowerCase()]
            },
            get: function(e) {
                var t = e.toLowerCase(),
                    n = Lb.hasOwnProperty(t) ? Lb[t] : null;
                if (null === n) throw new Error("Could not find module for type: " + e);
                return n
            },
            create: function(e, t) {
                var n;
                if ("string" == typeof e ? (t = t || {}).type = e : e = (t = e).type, e = e.toLowerCase(), !(n = Lb[e])) throw new Error("Could not find control by type: " + e);
                return (n = new n(t)).type = e, n
            }
        },
        Ib = zt.each,
        Mb = zt.extend,
        $b = function() {};
    $b.extend = kb = function(n) {
        var e, t, r, o = this.prototype,
            i = function() {
                var e, t, n;
                if (!Tb && (this.init && this.init.apply(this, arguments), t = this.Mixins))
                    for (e = t.length; e--;)(n = t[e]).init && n.init.apply(this, arguments)
            },
            a = function() {
                return this
            },
            s = function(n, r) {
                return function() {
                    var e, t = this._super;
                    return this._super = o[n], e = r.apply(this, arguments), this._super = t, e
                }
            };
        for (t in Tb = !0, e = new this, Tb = !1, n.Mixins && (Ib(n.Mixins, function(e) {
                for (var t in e) "init" !== t && (n[t] = e[t])
            }), o.Mixins && (n.Mixins = o.Mixins.concat(n.Mixins))), n.Methods && Ib(n.Methods.split(","), function(e) {
                n[e] = a
            }), n.Properties && Ib(n.Properties.split(","), function(e) {
                var t = "_" + e;
                n[e] = function(e) {
                    return void 0 !== e ? (this[t] = e, this) : this[t]
                }
            }), n.Statics && Ib(n.Statics, function(e, t) {
                i[t] = e
            }), n.Defaults && o.Defaults && (n.Defaults = Mb({}, o.Defaults, n.Defaults)), n) "function" == typeof(r = n[t]) && o[t] ? e[t] = s(t, r) : e[t] = r;
        return i.prototype = e, (i.constructor = i).extend = kb, i
    };
    var Fb = Math.min,
        jb = Math.max,
        Hb = Math.round,
        qb = function(e, n) {
            var r, o, t, i;
            if (n = n || '"', null === e) return "null";
            if ("string" == (t = typeof e)) return o = "\bb\tt\nn\ff\rr\"\"''\\\\", n + e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g, function(e, t) {
                return '"' === n && "'" === e ? e : (r = o.indexOf(t)) + 1 ? "\\" + o.charAt(r + 1) : (e = t.charCodeAt().toString(16), "\\u" + "0000".substring(e.length) + e)
            }) + n;
            if ("object" !== t) return "" + e;
            if (e.hasOwnProperty && "[object Array]" === Object.prototype.toString.call(e)) {
                for (r = 0, o = "["; r < e.length; r++) o += (0 < r ? "," : "") + qb(e[r], n);
                return o + "]"
            }
            for (i in o = "{", e) e.hasOwnProperty(i) && (o += "function" != typeof e[i] ? (1 < o.length ? "," + n : n) + i + n + ":" + qb(e[i], n) : "");
            return o + "}"
        },
        Ub = {
            serialize: qb,
            parse: function(e) {
                try {
                    return JSON.parse(e)
                } catch (e) {}
            }
        },
        Vb = {
            callbacks: {},
            count: 0,
            send: function(t) {
                var n = this,
                    r = gi.DOM,
                    o = void 0 !== t.count ? t.count : n.count,
                    i = "tinymce_jsonp_" + o;
                n.callbacks[o] = function(e) {
                    r.remove(i), delete n.callbacks[o], t.callback(e)
                }, r.add(r.doc.body, "script", {
                    id: i,
                    src: t.url,
                    type: "text/javascript"
                }), n.count++
            }
        },
        Wb = {
            send: function(e) {
                var t, n = 0,
                    r = function() {
                        !e.async || 4 === t.readyState || 1e4 < n++ ? (e.success && n < 1e4 && 200 === t.status ? e.success.call(e.success_scope, "" + t.responseText, t, e) : e.error && e.error.call(e.error_scope, 1e4 < n ? "TIMED_OUT" : "GENERAL", t, e), t = null) : setTimeout(r, 10)
                    };
                if (e.scope = e.scope || this, e.success_scope = e.success_scope || e.scope, e.error_scope = e.error_scope || e.scope, e.async = !1 !== e.async, e.data = e.data || "", Wb.fire("beforeInitialize", {
                        settings: e
                    }), t = new zh) {
                    if (t.overrideMimeType && t.overrideMimeType(e.content_type), t.open(e.type || (e.data ? "POST" : "GET"), e.url, e.async), e.crossDomain && (t.withCredentials = !0), e.content_type && t.setRequestHeader("Content-Type", e.content_type), e.requestheaders && zt.each(e.requestheaders, function(e) {
                            t.setRequestHeader(e.key, e.value)
                        }), t.setRequestHeader("X-Requested-With", "XMLHttpRequest"), (t = Wb.fire("beforeSend", {
                            xhr: t,
                            settings: e
                        }).xhr).send(e.data), !e.async) return r();
                    setTimeout(r, 10)
                }
            }
        };
    zt.extend(Wb, $f);
    var Yb = zt.extend,
        Kb = function(e) {
            this.settings = Yb({}, e), this.count = 0
        };
    Kb.sendRPC = function(e) {
        return (new Kb).send(e)
    }, Kb.prototype = {
        send: function(n) {
            var r = n.error,
                o = n.success;
            (n = Yb(this.settings, n)).success = function(e, t) {
                void 0 === (e = Ub.parse(e)) && (e = {
                    error: "JSON Parse error."
                }), e.error ? r.call(n.error_scope || n.scope, e.error, t) : o.call(n.success_scope || n.scope, e.result)
            }, n.error = function(e, t) {
                r && r.call(n.error_scope || n.scope, e, t)
            }, n.data = Ub.serialize({
                id: n.id || "c" + this.count++,
                method: n.method,
                params: n.params
            }), n.content_type = "application/json", Wb.send(n)
        }
    };
    var Xb, Zb = window.localStorage,
        Gb = Sb,
        Qb = {
            geom: {
                Rect: Db
            },
            util: {
                Promise: ye,
                Delay: Ce,
                Tools: zt,
                VK: Tp,
                URI: jy,
                Class: $b,
                EventDispatcher: zf,
                Observable: $f,
                I18n: db,
                XHR: Wb,
                JSON: Ub,
                JSONRequest: Kb,
                JSONP: Vb,
                LocalStorage: Zb,
                Color: function(e) {
                    var n = {},
                        s = 0,
                        l = 0,
                        c = 0,
                        t = function(e) {
                            var t;
                            return "object" == typeof e ? "r" in e ? (s = e.r, l = e.g, c = e.b) : "v" in e && function(e, t, n) {
                                var r, o, i, a;
                                if (e = (parseInt(e, 10) || 0) % 360, t = parseInt(t, 10) / 100, n = parseInt(n, 10) / 100, t = jb(0, Fb(t, 1)), n = jb(0, Fb(n, 1)), 0 !== t) {
                                    switch (r = e / 60, i = (o = n * t) * (1 - Math.abs(r % 2 - 1)), a = n - o, Math.floor(r)) {
                                        case 0:
                                            s = o, l = i, c = 0;
                                            break;
                                        case 1:
                                            s = i, l = o, c = 0;
                                            break;
                                        case 2:
                                            s = 0, l = o, c = i;
                                            break;
                                        case 3:
                                            s = 0, l = i, c = o;
                                            break;
                                        case 4:
                                            s = i, l = 0, c = o;
                                            break;
                                        case 5:
                                            s = o, l = 0, c = i;
                                            break;
                                        default:
                                            s = l = c = 0
                                    }
                                    s = Hb(255 * (s + a)), l = Hb(255 * (l + a)), c = Hb(255 * (c + a))
                                } else s = l = c = Hb(255 * n)
                            }(e.h, e.s, e.v) : (t = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e)) ? (s = parseInt(t[1], 10), l = parseInt(t[2], 10), c = parseInt(t[3], 10)) : (t = /#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e)) ? (s = parseInt(t[1], 16), l = parseInt(t[2], 16), c = parseInt(t[3], 16)) : (t = /#([0-F])([0-F])([0-F])/gi.exec(e)) && (s = parseInt(t[1] + t[1], 16), l = parseInt(t[2] + t[2], 16), c = parseInt(t[3] + t[3], 16)), s = s < 0 ? 0 : 255 < s ? 255 : s, l = l < 0 ? 0 : 255 < l ? 255 : l, c = c < 0 ? 0 : 255 < c ? 255 : c, n
                        };
                    return e && t(e), n.toRgb = function() {
                        return {
                            r: s,
                            g: l,
                            b: c
                        }
                    }, n.toHsv = function() {
                        return e = s, t = l, n = c, o = 0, (i = Fb(e /= 255, Fb(t /= 255, n /= 255))) === (a = jb(e, jb(t, n))) ? {
                            h: 0,
                            s: 0,
                            v: 100 * (o = i)
                        } : (r = (a - i) / a, {
                            h: Hb(60 * ((e === i ? 3 : n === i ? 1 : 5) - (e === i ? t - n : n === i ? e - t : n - e) / ((o = a) - i))),
                            s: Hb(100 * r),
                            v: Hb(100 * o)
                        });
                        var e, t, n, r, o, i, a
                    }, n.toHex = function() {
                        var e = function(e) {
                            return 1 < (e = parseInt(e, 10).toString(16)).length ? e : "0" + e
                        };
                        return "#" + e(s) + e(l) + e(c)
                    }, n.parse = t, n
                }
            },
            dom: {
                EventUtils: Re,
                Sizzle: ht,
                DomQuery: tn,
                TreeWalker: io,
                DOMUtils: gi,
                ScriptLoader: xi,
                RangeUtils: Nb,
                Serializer: Gg,
                ControlSelection: nv,
                BookmarkManager: Jg,
                Selection: Av,
                Event: Re.Event
            },
            html: {
                Styles: ii,
                Entities: Wo,
                Node: Mg,
                Schema: ri,
                SaxParser: zp,
                DomParser: Xg,
                Writer: wc,
                Serializer: xc
            },
            ui: {
                Factory: zb
            },
            Env: ve,
            AddOnManager: Si,
            Formatter: Eg,
            UndoManager: Zp,
            EditorCommands: Df,
            WindowManager: Th,
            NotificationManager: kh,
            EditorObservable: ah,
            Shortcuts: dh,
            Editor: Jy,
            FocusManager: rb,
            EditorManager: Sb,
            DOM: gi.DOM,
            ScriptLoader: xi.ScriptLoader,
            PluginManager: Si.PluginManager,
            ThemeManager: Si.ThemeManager,
            trim: zt.trim,
            isArray: zt.isArray,
            is: zt.is,
            toArray: zt.toArray,
            makeMap: zt.makeMap,
            each: zt.each,
            map: zt.map,
            grep: zt.grep,
            inArray: zt.inArray,
            extend: zt.extend,
            create: zt.create,
            walk: zt.walk,
            createNS: zt.createNS,
            resolve: zt.resolve,
            explode: zt.explode,
            _addCacheSuffix: zt._addCacheSuffix,
            isOpera: ve.opera,
            isWebKit: ve.webkit,
            isIE: ve.ie,
            isGecko: ve.gecko,
            isMac: ve.mac
        },
        Jb = Gb = zt.extend(Gb, Qb);
    Xb = Jb, window.tinymce = Xb, window.tinyMCE = Xb,
        function(e) {
            if ("object" == typeof module) try {
                module.exports = e
            } catch (e) {}
        }(Jb)
}();